<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><title>ASSP Documentation</title></head>
<body bgcolor="white" text="#000000" link="#913104" vlink="#3c79c9">
<a href=/><img src="http://assp.sourceforge.net/assp.png" style="border-style: none;"></a><p>
<table width="100%" cellpadding=5 cellspacing=2>

<!--Item: ASSP Documentation file: 1--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_1"> </a>
<font size="+1"><b>ASSP Documentation</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The Anti-Spam SMTP Proxy (ASSP) Server is an open source, platform-independent SMTP Proxy server which implements whitelists and Bayesian filtering to rid the planet of the blight of unsolicited email (UCE). UCE must be stopped at the SMTP server. Anti-spam tools must be adaptive to new spam and customized for each site’s mail patterns. This free, easy-to-use tool works with any mail transport and achieves these goals requiring no operator intervention after the initial setup phase. 
<br><i>2003-Nov-14  2:02pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:<br>
<a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a><br>
<a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a><br>
<a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a><br>
<a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a><br>
<a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a><br>
<a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a><br>
<a href="#file_132"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Success Stories</a><br>
<a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a>
<p>
Answers in this category:<br>
<a href="#file_2"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why ASSP?</a><br>
<a href="#file_91"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Who is it for? </a><br>
<a href="#file_92"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What features make ASSP great?</a><br>
<a href="#file_93"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What are ASSP's configuration options?</a><br>
<a href="#file_94"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is ASSP's license? </a><br>
<a href="#file_95"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is different about how ASSP handles false positives (i.e. good mail that was blocked) and other content scanners? </a><br>
<a href="#file_96"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I financially support ASSP? </a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=1">New Answer in "ASSP Documentation"</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  3:06pm</i>
</td></tr>

<!--Item: Getting Started file: 3--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_3"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>Getting Started</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Discussion of issues related to getting ASSP running. 
<br><i>2003-Sep-04 10:46am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_4"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Requirements </a><br>
<a href="#file_5"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Get a working Perl </a><br>
<a href="#file_6"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Download and unpack the ASSP scripts. </a><br>
<a href="#file_9"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Run the ASSP program and point your browser to http://127.0.0.1:55555/. </a><br>
<a href="#file_10"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Rebuild your Bayesian database. </a><br>
<a href="#file_11"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Possibly change your existing SMTP server’s port. </a><br>
<a href="#file_12"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Test that it is working. </a><br>
<a href="#file_13"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Schedule regular updates for the Bayesian database. </a><br>
<a href="#file_14"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Instructions for use for your end users. </a><br>
<a href="#file_15"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Periodic Maintenance </a><br>
<a href="#file_16"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>When I try to send mail I get the error &quot;relaying not allowed&quot;. What do I do? </a><br>
<a href="#file_17"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>When people try to email me they get the message, &quot;Relaying not allowed.&quot; What do I do? </a><br>
<a href="#file_18"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I learn Regular Expressions? </a><br>
<a href="#file_19"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I use the email interface? </a><br>
<a href="#file_20"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What command-line options does ASSP support? </a><br>
<a href="#file_22"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I use ASSP's Whitelist-only mode? </a><br>
<a href="#file_23"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I help ASSP recognize mail from traveling users? </a><br>
<a href="#file_115"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Switch Off Test Mode.</a><br>
<a href="#file_123"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What can I do about all the spam I'm getting?</a><br>
<a href="#file_190"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I use ASSP's built-in virus scanner?</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=3">New Answer in "Getting Started"</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-May-24  9:30am</i>
</td></tr>

<!--Item: Requirements  file: 4--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_4"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Requirements </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>To run the ASSP you must choose where it will run. ASSP is not CPU intensive, but it can use a significant chunk of RAM to run effectively: the Bayesian and DNSBL databases cache lookups and 10k of each incoming message must be cached prior to passing on to your mail transport’s SMTP server. Our install folder including the spam and non-spam databases takes 250mb on disk. 
If you can change the port of your mail transport’s SMTP server to something besides 25 you can run ASSP on the same server as your mail transport. If you want to run ASSP on a separate server that’s ok too, so long as you have a fast network connection from your ASSP server to your SMTP server. 
<p>
Periodically you’ll need to rebuild the Bayesian database based on your spam and non-spam databases. This is very CPU and memory intensive. It takes about 5 minutes to run on our server, but could be slower if you have less ram, slower disks, or a slower CPU. 
<p>
ASSP is implemented in Perl, so you’ll need a working Perl on your ASSP server. See <a href="http://www.cpan.org/ports/index.html">http://www.cpan.org/ports/index.html</a> for Perl for your computer. ASSP uses only IO::Select and IO::Socket which come preinstalled on all Perls. If you plan to run it as a service in Windows you’ll want Win32::Daemon from <a href="http://www.roth.net/perl/Daemon/">http://www.roth.net/perl/Daemon/</a>. Install Win32-Daemon this way: <br>
<pre>   perl ppm.pl install <a href="http://www.roth.net/perl/packages/win32-daemon.ppd">http://www.roth.net/perl/packages/win32-daemon.ppd</a></pre>
<p>
To filter spam the proxy uses a modification of the Bayesian statistical approach outlined in articles referenced here: <a href="http://www.spamarchive.org/more_community_resources.htm">http://www.spamarchive.org/more_community_resources.htm</a>, but in short it looks at words and phrases used in unsolicited email, and words and phrases used in your site’s normal email traffic. When a new message arrives it compares the words and phrases in it with those from the statistical comparison, combines the individual probabilities and decides if this message is more like unsolicited email or like normal email. 
<p>
For that to work it needs collections of spam and non-spam messages. There’s folders [directories] (specified in the configuration) which contain these collections. It works best if there are between 5000 and 10000 unique messages in each collection. 
<p>
This program also makes use of a whitelist – a list of email addresses which would generally never send you spam. It maintains this list automatically. 
<p>
Because the ASSP server becomes the public interface to your email system, it also must enforce email relaying – an open email relay is a source of great joy to spammers, young and old. ASSP also recognizes authentication confirmation from your mail transport’s SMTP server.<br>
<br><i>2003-Sep-04 10:48am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=4&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 10:48am</i>
</td></tr>

<!--Item: Get a working Perl  file: 5--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_5"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Get a working Perl </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>If you don’t have a working Perl, go to <a href="http://www.cpan.org/ports/index.html">http://www.cpan.org/ports/index.html</a> (or <a href="http://activestate.com/Products/Download/Register.plex?id=ActivePerl">http://activestate.com/Products/Download/Register.plex?id=ActivePerl</a> for Windows) and follow the instructions for installing Perl on your system. If you don’t know if you have a working Perl, go to your command line and type “perl –v” – if you see the Perl version, then you have Perl. If you get an error, you probably need to install it. 
<p>
If you plan to run it as a service in Windows you’ll want Win32::Daemon from <a href="http://www.roth.net/perl/Daemon/">http://www.roth.net/perl/Daemon/</a>. Install Win32-Daemon this way: <br>
<pre>   ppm install <a href="http://www.roth.net/perl/packages/win32-daemon.ppd">http://www.roth.net/perl/packages/win32-daemon.ppd</a>
 </pre>
<br><i>2003-Dec-04  8:28am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Install ASSP as a service on NT4/W2K:
1) Go to the start menu and select 'Perl Package Manager'
2) Type 'install <a href="http://www.roth.net/perl/packages/win32-daemon.ppd'">http://www.roth.net/perl/packages/win32-daemon.ppd'</a>
3) Check that you have &quot;as a service&quot; checked in your webconfig
4) Run the 'perl addservice.pl -i c:\assp\assp.pl c:\assp'
5) Use your service manager to start the service, or do 'perl addservice.pl -s'
<br><i>2004-Jan-17  8:39am register</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=5&cmd=editPart&file=5&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-17  8:39am</i>
</td></tr>

<!--Item: Download and unpack the ASSP scripts.  file: 6--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_6"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Download and unpack the ASSP scripts. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Go to <a href="http://sourceforge.net/projects/assp/">http://sourceforge.net/projects/assp/</a> and find the latest version to download. Then unzip it into the folder of your choice. 
<p>
Security note: Because the email database is stored without encryption you’ll want to consult your local security expert to find the best way to protect your user’s confidential emails. It probably involves setting the access rights to the notspam directory to only allow access to administrators and the assp process. 
<p>
In your assp directory you must create directories like this: <br>
<pre> assp/spam
 assp/notspam
 assp/errors
 assp/errors/spam
 assp/errors/notspam<br></pre>
If you change these configuration settings you'll need to delete / create new directories. 
<pre> </pre>
<br><i>2003-Nov-24  3:18pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=6&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-24  3:18pm</i>
</td></tr>

<!--Item: Run the ASSP program and point your browser to http://127.0.0.1:55555/.  file: 9--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_9"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Run the ASSP program and point your browser to http://127.0.0.1:55555/. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Run the program this way (starting in your assp directory): perl assp.pl 
Point your browser to <a href="http://127.0.0.1:55555/">http://127.0.0.1:55555/</a> -- put anything you like in the username and use the password nospam4me to connect. If everything is working correctly you will see a beautifully formatted configuration screen with all of ASSP’s fabulous features spelled out for you in painful detail. Simply click the options you want, type a few customizations if you like and you’re on your way. 
<p>
At a minimum you’ll want to change values for &quot;Web Admin Password,&quot; &quot;Accept All Mail,&quot; &quot;Local Domains,&quot; &quot;Spam Error,&quot; and &quot;Spam Addresses.&quot; The password for your server is posted in bold on the internet for EVERYONE to see, so if you don’t change it, you deserve what you get. Also remember to press Enter or click the button at the bottom to register your changes – simply clearing a checkbox doesn’t send the change to ASSP. 
<p>
You want your mail to flow like this:
<pre> Internet -&gt; ASSP -&gt; Mail server -&gt; Clients</pre>
and
<pre> Clients -&gt; ASSP -&gt; Mail server -&gt; Internet<br></pre>
For example, internet mail needs to connect to ASSP on port 25 (ASSP's listen port), and ASSP can proxy to your mail server on port 125 (or any port you choose) -- ASSP's SMTP Destination. You need to change your mail server to match.
<p>
If you have an antivirus proxy, do it like this:
<pre> Internet -&gt; ASSP -&gt; Anti-virus -&gt; Mail server -&gt; Clients</pre>
and
<pre> Clients -&gt; ASSP -&gt; Anti-virus -&gt; Mail server -&gt; Internet
 <br></pre>
If you run Microsoft Exchange, Lotus Notes, or a similar system that collects email from users local through something besides SMTP, then you’ll need to use a relay host or “smart host” to relay your mail. ASSP needs this to be able to automatically maintain your whitelist and non-spam email collection. See <a href="#file_86"><img src="http://assp.sourceforge.net/fom/bags/ans-also.gif" alt="(Xref) " border=0 width=21 height=14>HOWTO: General instructions for any non-SMTP mail server (MS Exchange, Lotus Notes, etc) </a> for specific instructions. But in short it will look something like this:
<pre> Clients -&gt; Exchange -&gt; ASSP -&gt; Mail server -&gt; Internet</pre>
<p><br>
In the config you’ll see &quot;Spam Addresses&quot; – these are addresses of recipients at your site that only receive spam. You can put spambait on your website, or in Usenet posts, but most email administrators find that they continue to receive email for users who have been gone for months (years sometimes). These addresses are useful for filling your spam database, and for mail addressed to multiple recipients, for recognizing spam. 
<p>
In *nix you’ll want to add ASSP to your local rc scripts so ASSP starts on system boot. Check the &quot;As a Daemon&quot; configuration box.
<p>
In Windows 2000 you’ll want to install it as a service: 1)Check that you have &quot;As A Service&quot; checked in your config; 2)Run the <br>
<pre> perl addservice.pl –i c:\assp\assp.pl c:\assp <br></pre>
to create the service; 3) Use your service manager to start the service, or do perl addservice.pl –s<br>
<br><i>2003-Nov-14  8:44am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=9&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  8:44am</i>
</td></tr>

<!--Item: Rebuild your Bayesian database.  file: 10--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_10"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Rebuild your Bayesian database. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The first few days you'll want to just prime the system without trying to filter spam. This phase is very important because it starts to build up the whitelist and spam and notspam collections. To do this, make sure &quot;Test Mode&quot; is checked. Be sure the &quot;Prepend Spam Subject&quot; is also blank. You probably want to check &quot;Use Subject as Maillog Names.&quot; Spend a few minutes each day moving the new messages that are miss-categorized from the spam directory to the notspam directory (or visa versa). If you are unsure if a message is misscategorized, just delete it -- it's not worth spending much time on.
<p>
Once you have at least 400 messages that are properly categorized, do this:
<pre> perl rebuildspamdb.pl</pre>
<p>
This will build your own site's customized anti-spam dictionary. The program will print a bunch of dots and when it’s done make a file called spamdb. This is the file that ASSP uses to qualify spam or non-spam. <br>
<br><i>2003-Oct-22  1:15pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>In Windows, make sure that the file spamdb.bak exists BEFORE you run the command, or else it won't work.
<br><i>2004-Apr-19  1:05am chris_moore</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=10&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Apr-19  1:05am</i>
</td></tr>

<!--Item: Possibly change your existing SMTP server’s port.  file: 11--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_11"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Possibly change your existing SMTP server’s port. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Consult your mail transport’s documentation on how to do this. The default port is 25, and that is where your ASSP will need to run. If ASSP is running on a separate server then there is no need to change your mail transport’s SMTP port, however, you’ll have to arrange your IP addresses and DNS MX records to point to the ASSP server rather than your message transport’s SMTP server – see <a href="http://www.topology.org/linux/mx.html">http://www.topology.org/linux/mx.html</a> or Google “setting up mx” if you need help doing this.  
<br><i>2003-Sep-04 10:59am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=11&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 10:59am</i>
</td></tr>

<!--Item: Test that it is working.  file: 12--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_12"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Test that it is working. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Try telnetting to ASSP server’s port 25 (or whatever is on the config screen): 
<pre>  telnet 127.0.0.1 25<br></pre>
You should get the banner response from your message transport’s SMTP server, but you should also see log entries appearing in the ASSP server’s log file. 
<p>
Note that you can also test your configuration by setting ASSP to listen on a different port (like 125) and connect to your SMTP server on port 25 and then set your email client to connect to port 125 to send email. 
<p>
If all is working properly you should see email connections logged in the maillog.txt file (also visible from the admin page). You should see also see whitelist additions in that log. You should also see mail files being saved in the spam and notspam directories.<br>
<br><i>2003-Oct-22  1:17pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=12&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:17pm</i>
</td></tr>

<!--Item: Schedule regular updates for the Bayesian database.  file: 13--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_13"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Schedule regular updates for the Bayesian database. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>In Windows, go to Control Panel and Scheduled Tasks, then Add New Scheduled Task, and follow the instructions from the wizard. I’ve scheduled mine to run at 3:00am every day: 
<pre>  perl rebuildspamdb.pl<br></pre>
In *nix you’ll need to create a cron job. Try man cron if you don’t know how.
<br><i>2003-Oct-22  1:19pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=13&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:19pm</i>
</td></tr>

<!--Item: Instructions for use for your end users.  file: 14--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_14"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Instructions for use for your end users. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I send the following information to our email clients so they know how to take best advantage of ASSP’s features. Note you'll have to change the assp-spam address below to match your domain. 
<p>
We are using one of the most advanced SPAM filters on the internet. It continually adapts itself to detect spam. For the most part it does a good job, but occasionally a spam slips through. 
<p>
When you receive a spam, you have a choice to either just delete it and move on, or report it to the spam filter to help improve its performance. To report the spam select the message in your inbox, right-click and select &quot;Forward as attachment.&quot; (If your email software doesn't support &quot;Forward as attachment&quot; simply forward the mail.) Address it to assp-spam@mydomain.com and click send. 
<p>
You've done your duty and added the evil spam to the spam filter's collection. 
<p>
Just to remind you of the basic operation of our spam filter:<br>
1) Anyone you email will never have a message blocked.<br>
2) Never email a spammer -- you validate their address authorizing them to spam 
us.<br>
3) Don't forward spam -- it makes the spam filter think we like it.<br>
4) Report spam by forwarding it to the assp-spam@mydomain.com address.<br>
5) The spam filter keeps track of mail we send and spam we receive -- if an incoming message is not from someone we've emailed and it's more like the mail we send than the spam we receive then it gets through. Otherwise it's blocked and the sender gets the message, &quot;Mail appears to be unsolicited -- report errors to postmaster@ourhost.com&quot;<br>
6) If you become aware that mail you want is being blocked send the sender an email so their mail isn't blocked any more.<br>
<br><i>2003-Sep-04 11:01am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=14&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 11:01am</i>
</td></tr>

<!--Item: Periodic Maintenance  file: 15--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_15"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Periodic Maintenance </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP generates log files, initally maillog.txt. Over time these can build up. You may want to archive or delete old log files. 
<p>
Check to be sure that rebuildspamdb is running as scheduled. 
<p>
After a few months you may want to clear out some of the files in the errors/spam and errors/notspam folder, especially if these folders are becoming quite large. At some point I'll write a utility to do this automatically, but I haven't written it yet. For now it's probably safe just to delete the oldest files. <br>
<br><i>2003-Oct-22  1:21pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=15&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:21pm</i>
</td></tr>

<!--Item: When I try to send mail I get the error &quot;relaying not allowed&quot;. What do I do?  file: 16--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_16"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>When I try to send mail I get the error &quot;relaying not allowed&quot;. What do I do? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Relaying is allowed for IP's that match those in the &quot;Accept All Mail.&quot; The &quot;Local Domains&quot; are the domain names that your mail system considers local. AOL.COM though would not be a local domain because your mail handler doesn't manage its mail. 
<p>
That a mail claims to be from one of your local domains does not allow it to be relayed -- this is easily spoofed and not useful as a security measure. Spoofing an IP address is more complicated in this type of environment, and generally relaying is limited by IP address. 
<p>
Note that you can add entire groups of addresses: 10. represents 10.1.2.3 or 10.3.2.1 or 10.anything. Similarly, 169.254. will match any IP that starts with those quads. 
<p>
If your clients dialup or are dynamically assigned from an untrusted pool, then the only relaible way to allow relaying is through AUTHENTECATED smtp, and your mail handler must support this type of authentication, and you must enable it in your clients. ASSP recognizes authenticated connections and allows them to relay. 
<p>
Not all ISPs will allow their customers to connect to your SMTP port. Many block connections to port 25 (except to their own mail server) to prevent spam.<br>
<br><i>2003-Sep-04 12:11pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=16&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:11pm</i>
</td></tr>

<!--Item: When people try to email me they get the message, &quot;Relaying not allowed.&quot; What do I do?  file: 17--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_17"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>When people try to email me they get the message, &quot;Relaying not allowed.&quot; What do I do? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>For ASSP to recognize incoming mail you must set the &quot;Local Domains&quot; configuration item. For example if your mailserver is configured to receive mail for myhost.com and myfriendshost.com then you should put myhost.com|myfriendshost.com in the Local Domains configuration item. 
<br><i>2003-Sep-04 12:12pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The format of the local domains file is rather strict; one domain per line, no comments.  If you do put two words on a line, they'll get stuck together as one word.
<br><i>2004-Jan-19  1:28pm pfudd</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=17&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-19  1:28pm</i>
</td></tr>

<!--Item: How can I learn Regular Expressions?  file: 18--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_18"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>How can I learn Regular Expressions? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Try <a href="http://www.perldoc.com/perl5.8.0/pod/perlretut.html">http://www.perldoc.com/perl5.8.0/pod/perlretut.html</a>, <a href="http://www.english.uga.edu/humcomp/perl/regex2a.html">http://www.english.uga.edu/humcomp/perl/regex2a.html</a> or <a href="http://directory.google.com/Top/Computers/Programming/Languages/Regular_Expressions/Perl/">http://directory.google.com/Top/Computers/Programming/Languages/Regular_Expressions/Perl/</a> 
<p>
What is a regular expression? A regular expression is simply a string that describes a pattern. Patterns are in common use these days; examples are the patterns typed into a search engine to find web pages and the patterns used to list files in a directory, e.g., ls *.txt or dir *.*. For ASSP, the patterns described by regular expressions are used to search strings, extract desired parts of strings, and to do search and replace operations. 
<p>
In basic terms, asd2 will match jjasd2 or asd2jj or jjasd2jj. A . matches any single character, so if you want to match a period put a backslash in front of it: \. Almost all punctuation has special meaning, so you need to put a backslash in front of it, unless you want the special meaning: <br>
<pre> . -- match any single character besides \n
 .* -- match 0 or more characters (not \n)
 .+ -- match 1 or more characters (not \n)
 \d -- match any number
 \w -- match any alpha-numeric or _
 [0-9a-zA-Z_] -- same as \w
 this|that -- match this or that
 </pre>
<br><i>2003-Sep-04 12:13pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=18&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:13pm</i>
</td></tr>

<!--Item: How do I use the email interface?  file: 19--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_19"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>How do I use the email interface? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP's email interface is an easy way to add addresses to the whitelist, report spam, or false-positives. To use it you must have it enabeled in the configuration, and have names set for the addresses. The interface only accepts mail addressed to addresses at any of your localdomains, and only from &quot;Accept All Mail&quot; hosts, or authenticated SMTP connections. 
<pre> assp-white   -- for whitelist additions
 assp-spam    -- to report spam that got through
 assp-notspam -- to report miscategorized spam</pre>
<p>
Assuming that your local-domain is mydomain.com, to add addresses to the whitelist, create a message to assp-white@mydomain.com. You can either put the addresses in the body of the message, or as recipients of the message. For example, if you wanted to add all the addresses in your address book to the whitelist, create a message to assp-white@mydomain.com and then add your entire address book to the BCC part of the message and click send. Note that no mail will be delivered to any address except assp-white@mydomain.com (and that won't actually be passed to your mail transport). Within a short time (depends on your mail server) you'll receive a response from ASSP showing the results of your mail. 
<p>
To report a spam that got through, simply forward the mail to assp-spam@mydomain.com. It's best to forward it as an attachment, but you can just forward it normally if you must. In a short time you will receive a confirmation. 
<p>
The process is the same to report a miscategorized spam, but send it to assp-notspam@mydomain.com. 
<p>
Of course all these addresses can be changed to suit your sites preferences. 
<p>
Also see this note <a href="#file_45"><img src="http://assp.sourceforge.net/fom/bags/ans-also.gif" alt="(Xref) " border=0 width=21 height=14>How do I use the email interface with Exchange, Notes, or a RelayHost / RelayPort setup? </a> if you are using RelayHost and RelayPort. 
<p>
ASSP treats all these as the same. Any connection blessed by one of these will (a) be able to relay mail, and (b) be able to access the email interface.<br>
1) mail from a &quot;allow all mail&quot; host<br>
2) mail with a SMTP AUTH affermative response<br>
3) mail through the relay port<br>
4) mail approved for relaying by popb4smtp 
<br><i>2003-Sep-05 10:03am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=19&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-05 10:03am</i>
</td></tr>

<!--Item: What command-line options does ASSP support?  file: 20--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_20"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>What command-line options does ASSP support? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP can be run as follows: 
<pre> perl assp.pl /path/to/base 55556</pre>
<p>
Where /path/to/base is the path that ASSP will use as its install base
And 55556 is the port on which to run the admin interface, overriding the default (but not a configured option). To override the configured option you must edit (or delete) your assp.cfg file. 
<p>
Note that if you leave off a path/to/base then ASSP will look in the following locations (in this order) to try to find an assp.cfg and make that base: <br>
<pre> '.','assp','/usr/local/assp','/home/assp','/usr/assp','/assp'
 </pre>
<br><i>2003-Sep-04 12:15pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=20&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:15pm</i>
</td></tr>

<!--Item: How do I use ASSP's Whitelist-only mode?  file: 22--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_22"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>How do I use ASSP's Whitelist-only mode? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Some people hate spam so much they want to only receive mail from pre-approved addresses. This makes it difficult to get mail from people you don't know, but means you won't get any spam. You also don't have to set up a collection of spam and non-spam emails or setup the DNSBL stuff. 
<p>
If you want no bayesian filtering, only whitelist, then:<br>
1) Check the &quot;Reject All But Whitelisted Mail.&quot;<br>
2) Check the &quot;Don't log mail.&quot;<br>
3) Check &quot;Disable Good Hosts Antispam.&quot;<br>
4) Delete all files in: <br>
<pre> a) spam
 b) notspam
 c) errors/spam
 d) errors/notspam
 f) other (if you used it)<br></pre>
5) Delete spamdb and dnsbl.<br>
6) You probably want to put some things in &quot;Expression to identify non-spam.&quot; <br>
7) You may want to add &quot;whitelisted domains.&quot;<br>
8) You may want to add spamlover or nonprocessed addresses.<br>
9) You can still use testmode and spamsubject.<br>
10) Send an email to the assp-white address with everybody in your addressbook. Same for other users on your system.<br>
11) Note that as an option one can put a password in the &quot;spam error&quot; and the &quot;expression to identify non-spam&quot; so that when non-whitelisted mail bounces they get the error message: 500 Unsolicited mail not accepted, include 'IllNeverSpamYou' in your mail to ensure delivery then if illneverspamyou is in your &quot;expression to identify non-spam&quot; they can get mail through to you without you haveing to whitelist them. Of course you should use a site-speicific phrase instead of illneverspamyou. 
<br><i>2003-Sep-04 12:17pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=22&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:17pm</i>
</td></tr>

<!--Item: How do I help ASSP recognize mail from traveling users?  file: 23--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_23"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>How do I help ASSP recognize mail from traveling users? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Question: We have users that use other ISPs sending mail aparently from our domain. ASSP can recognize these incoming messages as spam. What do I do? 
<p>
Unfortunately, the from-local-address-to-local-address strategy is VERY COMMONLY used by spammers for exactly this reason. 
<p>
If your mail system allows users to authenticate over SMTP, ASSP recognizes this authentication and you can use this to allow them to relay.
<p>
If not, the best solution for now is to use the &quot;Expression to recognize Non-spam&quot; (or WhiteRE) to make &quot;passwords&quot; for your road-warrior users. An easy way would be to look at their email signature(s) (if they use them -- and instruct them to use them if not). For example if they have a phone number in their signature, add that to the WhiteRE -- \(123\) 456-7890|\(123\) 123-1234 for example. You could also look closely at their email header to try to identify something unique to their outgoing mails that could go in the WhiteRE. Or just tell them to put NoSpam4Me in their signature and put NoSpam4Me in the WhiteRE. 
<br><i>2003-Sep-19  9:24am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>From: &quot;David Stanton&quot;
Sent: November 17, 2003
<p>
I'm still hoping to negotiate a local user allowed on whitelist option.
If I can convince/badger you into it, is it a difficult change?  ;-)
<p>
--------------------
<p>
It's not really difficult, but it is highly ill-advised. Spammers routinely forge the from address to match someone in your local domain. Adding local users to the whitelist will allow a significant portion of spam to those users.
<p>
To do that, put the following in your &quot;expression to identify non-processing mail&quot; setting:
<pre> from: .*(user1@localdomain\.com|user2@localdomain\.com)</pre>
<p>
Apply that change and any mail claiming to be from the listed users will be passed through with no processing.<br>
<br><i>2003-Nov-18 10:23am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=23&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-18 10:23am</i>
</td></tr>

<!--Item: Switch Off Test Mode. file: 115--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_115"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>Switch Off Test Mode.</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>After a few days of monitoring the spam and notspam folders you will find that mail is no longer getting miscategorized. For the rare exceptions, look at the message headers or text to find some unique identifier, and add this to your &quot;Expression to identify Whitelisted Mail.&quot;
<p>
You are now ready to really begin filtering mail. <br>
1) Either turn off &quot;Test Mode&quot; or put something like &quot;[SPAM]&quot; in the &quot;Prepend to Subject&quot; option.<br>
2) Clear the &quot;Use Subjects as File Names&quot; option.<br>
3) do:
<pre> perl move2num.pl -r<br></pre>
4) Send the &quot;Instructions to End Users&quot; to your end users.<br>
5) Ask for a raise when your boss says, &quot;Wow, you really fixed the spam problem.&quot;<br>
6) Submit a generous donation to the ASSP project because of all the time and money it's saved you and your company.
<br><i>2003-Oct-22  1:32pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=115&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:32pm</i>
</td></tr>

<!--Item: What can I do about all the spam I'm getting? file: 123--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_123"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>What can I do about all the spam I'm getting?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>By using ASSP you're already doing one of the best things you can do about spam -- block it. If spam isn't delivered it will never be responded to. If it's never responded to, they'll quit sending it. (I know, I'm an optimist.)
<p>
However, there's more you can do.
<p>
As legeslation is developing there are opportunities to sue spammers. This is not easy, but is the one of the best methods to end spam. Keep on top of local legislation. It is easy to search your maillog and identify the ip addresses of spammers. You can correlate that through <a href="http://www.openrbl.org/">http://www.openrbl.org/</a> or other geoip tools to identify if they might be candidates for a suit.
<p>
To learn about ways to fight spam start here: <a href="http://spamlinks.openrbl.org/spamlinks.htm">http://spamlinks.openrbl.org/spamlinks.htm</a>
<p>
To learn more about the address spamming you start here: <a href="http://www.openrbl.org/">http://www.openrbl.org/</a> 
<p>
Note that the ip address sending you spam might be a hapless bystander caught in the crossfire of this war.
<p>
Good luck, and never give up!
<br><i>2003-Nov-13  8:45am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=123&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-13  8:45am</i>
</td></tr>

<!--Item: How do I use ASSP's built-in virus scanner? file: 190--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_190"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_3"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Getting Started</a> :
<br><font size="+1"><b>How do I use ASSP's built-in virus scanner?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Beginning in release 1.0.10 ASSP includes a virus scanner which runs off of CLAMAV's publicly available virus-signature databases. You may decide to not enable ASSP's virus scanner for the following reasons:<br>
1) The virus scanner requires an additional 20-40 mb of ram.<br>
2) It scans every byte of every message, so it requires more cpu time per message.<br>
3) It can not scan inside compressed file attachments. In some cases CLAMAV's database includes signatures for the archived viri, but many compressed viri will pass through undetected.<br>
4) You will probably want to run antivirus software on your vulnerable clients as well, since ASSP's virus defense is not 100% effective.
<p>
Configuring ASSP to scan for viri requires the following steps:<br>
1) Create an automated task to update the virus databases. Either set up a cron job or a &quot;scheduled task&quot; to run the freshclam.sh or freshclam.bat files. These use wget to download CLAMAV's latest virus signature databases. In a *nix environment you may be able to install CLAMAV's freshclam program which will do this more efficiently. ASSP uses the viruses.db and viruses.db2 files to build its virus-recognition database. 
<p>
2) Run the task manually once to get copies of viruses.db and viruses.db2 files.
<p>
3) Verify that you are running ASSP 1.0.10 (or higher).
<p>
4) Open ASSP's configuration page (<a href="http://127.0.0.1:55555">http://127.0.0.1:55555</a>) and verify that you are viewing the &quot;advanced options&quot;.
<p>
5) Find the following entries in the &quot;Virus Control&quot; section:
<pre> Path to Anti-virus Databases
 List of Anti-virus Signature Database Files
 Error Message to Reject Infected Email</pre>
<p>
6) Put &quot;viruses.db,viruses.db2&quot; (without a space) in the &quot;List of Anti-virus Signature Database Files&quot; option.
<p>
7) Verify the path and error message entries; a blank path means to use ASSP's base.
<p>
8) Submit your changes.
<p>
9) Restart ASSP.
<p>
10) Check the maillog tail -- you should see something like this:
<pre> May-24-04 05:58:17 Reloading virus database ...
 May-24-04 05:59:15 Virus signature database reloaded; count=21693</pre>
<p>
Note that on our server the process took nearly a minute. During this time the SMTP server will be unavailable. Theoretically one could limit the virus signatures to the ones one expects to receive by email and eliminate the others. That would increase efficiency all around, but it is difficult to determine which signatures should be skipped. If anyone has an idea on how to do this, please let us know.
<p>
11) Get a copy of the eicar test signature (available here: <a href="http://www.eicar.org/anti_virus_test_file.htm">http://www.eicar.org/anti_virus_test_file.htm</a>) and email it to yourself to verify that the message is blocked and that your error message is as you expect.
<p>
Caveats and other considerations:<br>
1) At this point viri will be stored in the assp/other folder if you have it defined.<br>
2) Mail can be classified as spam or &quot;bad attachment&quot; before the virus is detected. In these cases virus scanning for that message stops and the classification is carried out. In some cases this means that virus mail can still be delivered, either to spamlovers or to the &quot;cc all spam&quot; address. I consider this a known bug and am looking for the best way to resolve it.<br>
3) Lee Neely asked about removing infected attachments rather than rejecting the entire message. This is an option for future development, but it requires that ASSP understand and reorganize the overall mail / mime structure which it currently doesn't. Also most viri come alone in a message, so rejecting the entire message is preffered to receiving mails empty but for, &quot;Infected attachment removed&quot;.
<br><i>2004-May-25  2:58pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>&quot;Why not just install CLAMAV and let it do it's superb job ? It runs on
*nix and windows (although I admit that I have no idea how to integrate
it into a M$-MTA). The problems mentioned in the &quot;Caveats and other
considerations&quot; do not occur when using CLAMAV after ASSP&quot;
<p>
Fair questions. The answer is simple in two parts:
<p>
1) It's one, easy-to-install program (well... assp+av is trivial from assp
alone) instead of two.<br>
2) It blocks viri at the SMTP level, so you get both non-delivery
notification and no inappropriate NDRs.
<p>
I had looked at getting clam running on our windows server and quit, mostly
because I didn't want to install cygwin, though that's a lame excuse.
<p>
So, yes, it uses more CPU, but most servers have cpu to burn. I'm not
exactly sure what you mean by less reliable -- if you mean that it doesn't
detect zipped viri, except those in the db that way, yes, and that bothers
me and there really isn't anything anyone can do about it. But I think it
still will get a very high percentage of what clam would also get in the
wild. Freshclam is purely optional -- you can use the two line script
included with assp just as easily. I don't see much risk in &quot;breaking
existing working code.&quot; But then, I code, so I'm a coding optimist. :-)<br>
<br><i>2004-Jun-04  1:32pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=5&cmd=editPart&file=190&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-04  1:32pm</i>
</td></tr>

<!--Item: Problems &amp; Solutions  file: 24--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_24"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>Problems &amp; Solutions </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>How to diagnose and repair your ASSP  
<br><i>2003-Sep-04 12:35pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:<br>
<a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a>
<p>
Answers in this category:<br>
<a href="#file_27"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I don’t want to block email, but I want to give end users the ability to sort or filter their email. Can I use ASSP to do that? </a><br>
<a href="#file_28"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Can I use ASSP to scan for viruses? </a><br>
<a href="#file_36"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I have some users who don’t want spam blocked How can I do this with ASSP? </a><br>
<a href="#file_38"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Mail is getting blocked that shouldn’t be. How do I fix that? </a><br>
<a href="#file_41"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why isn’t ASSP blocking any mail? </a><br>
<a href="#file_42"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why is ASSP blocking all mail? </a><br>
<a href="#file_45"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I use the email interface with Exchange, Notes, or a RelayHost / RelayPort setup? </a><br>
<a href="#file_46"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why is my whitelist empty? </a><br>
<a href="#file_47"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>My email client uses /sbin/sendmail to deliver mail. Will this work with ASSP? </a><br>
<a href="#file_54"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I think ASSP blocked an important message. What do I do? </a><br>
<a href="#file_55"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I'm still getting spam. What's wrong? </a><br>
<a href="#file_57"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I change the text of the messages ASSP uses to reply to email submissions? </a><br>
<a href="#file_58"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why does every person who posts on a maillist get added to the whitelist? </a><br>
<a href="#file_63"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I host maillists -- how does ASSP work together with ezmlm or other maillist software? </a><br>
<a href="#file_83"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I set up ASSP to run with redundant MX domains? </a><br>
<a href="#file_98"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>When I send a spam/notspam report I see this in the logfile: RMabort: rcpt Expected 250 -- what's wrong?</a><br>
<a href="#file_102"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why doesn't ASSP work with TLS or secure SMTP?</a><br>
<a href="#file_114"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I manually download the greylist?</a><br>
<a href="#file_117"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is the greylist and what does it do?</a><br>
<a href="#file_118"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>After a few hours ASSP stops allowing connections. How do I fix that?</a><br>
<a href="#file_124"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Can I run a secondary MX without ASSP?</a><br>
<a href="#file_125"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why is ASSP running so slowly on my Sun / Solaris system?</a><br>
<a href="#file_126"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What should I do about strange addresses on my whitelist?</a><br>
<a href="#file_141"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I troubleshoot my ASSP system?</a><br>
<a href="#file_145"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What should I do to run ASSP on an old / slow computer without much ram?</a><br>
<a href="#file_151"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I've set spamlover addresses and I'm running in test mode, but I never see a &quot;spam lover&quot; message in the log file. What's wrong?</a><br>
<a href="#file_154"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>ASSP first ran as root, now I want to run it as another user; what permissions do I need to change?</a><br>
<a href="#file_162"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>ASSP is rejecting all mail with Relaying denied.</a><br>
<a href="#file_188"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I use the dnsbl setting?</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=24">New Answer in "Problems &amp; Solutions "</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  2:03pm</i>
</td></tr>

<!--Item: More Problems and Solutions file: 127--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_127"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>More Problems and Solutions</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>There were too many questions on the &quot;problems and solutions&quot; page, so here are some of the more obscure problems and solutions.
<br><i>2003-Nov-14  1:47pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_37"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Can ASSP allow certain users to receive executable attachments? </a><br>
<a href="#file_40"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I have ASSP running and it accepts SMTP connections but POP3 and IMAP don’t work. What’s wrong? </a><br>
<a href="#file_43"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I add / remove / verify an addresses on the whitelist / redlist? </a><br>
<a href="#file_49"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I make rebuildspamdb.pl use less RAM? </a><br>
<a href="#file_50"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I completely empty the whitelist or redlist? </a><br>
<a href="#file_60"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>When I put a file name into the Pop Before SMTP Filename field ASSP stops accepting mail connections. What's wrong? </a><br>
<a href="#file_61"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I disable the web administration interface? </a><br>
<a href="#file_84"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: rebuild the whitelist manually from the maillog? </a><br>
<a href="#file_56"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How do I unpack the sample spam database in .tgz format? </a><br>
<a href="#file_64"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>The last line of my localdomains or relayhosts file is being ignored. What do I do? </a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=127">New Answer in "More Problems and Solutions"</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Apr-27 11:53am</i>
</td></tr>

<!--Item: Can ASSP allow certain users to receive executable attachments?  file: 37--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_37"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>Can ASSP allow certain users to receive executable attachments? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Anyone on your site’s whitelist (ie anyone who has received email from your site) can send you executable attachments. Think about it, how often have you received a VBS or PIF attachment from a stranger that wasn’t a virus? And what’s the big deal about putting it in a ZIP archive if they really need to get it through to you? 
<p>
You can add an address to the &quot;no processing&quot; list and email soley to those addresses will receive all mail, including executable attachments.
<p>
There is also an option to block executable attachments from all senders. 
<br><i>2003-Sep-04 12:48pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=37&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:54pm</i>
</td></tr>

<!--Item: I have ASSP running and it accepts SMTP connections but POP3 and IMAP don’t work. What’s wrong?  file: 40--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_40"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>I have ASSP running and it accepts SMTP connections but POP3 and IMAP don’t work. What’s wrong? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Nothing is wrong. ASSP proxies SMTP connections but does nothing with POP3 or IMAP connections. Adjust your mail client software to look at the POP3 or IMAP ports on your mail server’s address.  
<br><i>2003-Sep-04 12:51pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=40&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:56pm</i>
</td></tr>

<!--Item: How do I add / remove / verify an addresses on the whitelist / redlist?  file: 43--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_43"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>How do I add / remove / verify an addresses on the whitelist / redlist? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>In version 0.2.0 and higher, use the web admin interface (perhaps <a href="http://127.0.0.1:55555">http://127.0.0.1:55555</a>) and click on the &quot;Update / Verify the Whitelist&quot; link at the top of the page. It should be pretty clear from there. Note that 0.2.0 and 0.2.1 don't have a feature to show you the entire list. (It's in the things to do for a later version). 
<p>
In versions prior to 0.2.0 you can use the list.pl script. 
<br><i>2003-Sep-04 12:56pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=43&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:56pm</i>
</td></tr>

<!--Item: How can I make rebuildspamdb.pl use less RAM?  file: 49--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_49"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>How can I make rebuildspamdb.pl use less RAM? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The rebuildspamdb.pl script has to look at every possible keyword pair in every email in your collection. This process inherantly requires a significant amount of memory. 
<p>
You can run the rebuildspamdb.pl script over the network on a different host than ASSP is running on if you're having trouble running out of available memory on your ASSP machine. However this requires that all the files in the spam, notspam, and errors collections must be read over the network. 
<p>
Note that as of version 0.3.2 rebuildspamdb requires less than half the RAM of previous versions. 
<p>
If you still are running low, and don't mind making the process slow down by a factor of 10, there is a line (about line 19) that you can uncomment to limit the RAM used to about 50mb. Remove the # at the beginning of this line:<br>
<pre> #$spamObject=tie %spam,orderedtie,&quot;spamtmp&quot;;<br></pre>
Version 1.0.0 has a &quot;Use less RAM to rebuild the spamdb&quot; option. Just check it and submit the change. 
<br><i>2003-Sep-04  1:04pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=49&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:57pm</i>
</td></tr>

<!--Item: How do I completely empty the whitelist or redlist?  file: 50--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_50"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>How do I completely empty the whitelist or redlist? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>To completely empty the whitelist or redlist there are four steps:
<p>
1) Identify the file in your installation, probably whitelist or redlist.
<p>
2) Delete or rename the file.
<p>
3) In the web interface click &quot;Show Whitelist&quot; (or redlist)
<p>
4) Delete (or rename) the file again if it came back.  
<br><i>2003-Sep-04  1:04pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=50&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:57pm</i>
</td></tr>

<!--Item: When I put a file name into the Pop Before SMTP Filename field ASSP stops accepting mail connections. What's wrong?  file: 60--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_60"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>When I put a file name into the Pop Before SMTP Filename field ASSP stops accepting mail connections. What's wrong? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Your PERL probably doesn't have all the pieces of DB_File that it needs. Run ASSP from the console (i.e. not as a daemon or service) and try again -- you should see the error message as it terminates. 
<p>
If you rewrite the POPB4SMTP subroutine for your mailserver, please post it in the HOWTO's section, or email it to the author to post. 
<br><i>2003-Sep-04  1:12pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=60&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:57pm</i>
</td></tr>

<!--Item: How do I disable the web administration interface?  file: 61--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_61"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>How do I disable the web administration interface? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Put a 0 in the &quot;web admin port&quot; box. 
<br><i>2003-Sep-04  1:12pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=61&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:58pm</i>
</td></tr>

<!--Item: HOWTO: rebuild the whitelist manually from the maillog?  file: 84--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_84"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>HOWTO: rebuild the whitelist manually from the maillog? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>In *nix you can run this command to get a list of maillist additions:<br>
<pre> grep addition maillog.txt | awk -F&quot;:&quot; '{ print $5 }' | sort | uniq | tr -d ' '</pre>
<p>
Then you can do this to fix it:<br>
1) Stop assp.<br>
2) Delete the whitelist file. (Rename it if you prefer.)<br>
3) Start assp.<br>
4) Open the web admin interface, possibly <a href="http://127.0.0.1:55555/">http://127.0.0.1:55555/</a><br>
5) Click on the &quot;update whitelist&quot; option<br>
6) Paste the list you made above in the box and click submit. Note that if the list is larger than 100k you should split it into smaller chunks. <br>
<br><i>2003-Sep-04  2:09pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=84&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:58pm</i>
</td></tr>

<!--Item: How do I unpack the sample spam database in .tgz format?  file: 56--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_56"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>How do I unpack the sample spam database in .tgz format? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>In Linux/Unix/OSX use: 
<pre> tar xzf asspsmpl-0.1.tgz<br></pre>
In Windows use QuickZip (<a href="http://qzip.cjb.net/">http://qzip.cjb.net/</a>) or an equivelant program. Note that it takes a long while to read the directory structure, so be patient. 
<pre> </pre>
<br><i>2003-Sep-04  1:09pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=56&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  2:00pm</i>
</td></tr>

<!--Item: The last line of my localdomains or relayhosts file is being ignored. What do I do?  file: 64--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_64"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> : <a href="#file_127"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>More Problems and Solutions</a> :
<br><font size="+1"><b>The last line of my localdomains or relayhosts file is being ignored. What do I do? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>With versions 0.3.3 through 1.0.1 the localdomains and relayhosts file required a return at the end of the last line. Lines without a return had their last byte chopped off, so mydomain.com becaome mydomain.co -- with 1.0.2 and beyond it doesn't matter. 
<br><i>2003-Sep-04  1:14pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=64&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  2:00pm</i>
</td></tr>

<!--Item: I don’t want to block email, but I want to give end users the ability to sort or filter their email. Can I use ASSP to do that?  file: 27--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_27"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>I don’t want to block email, but I want to give end users the ability to sort or filter their email. Can I use ASSP to do that? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Yes and no. ASSP can put a &quot;X-Assp-Spam: YES&quot; in the message header and also put [SPAM] (or whatever you want) in the subject of spam emails, so end users can use ASSP to filter their own mail this way. However ASSP has been designed to block unsolicited email, and if you don’t want that you should probably look at another tool. If you're not blocking unsolicited email you're really not doing anything to solve the problem of spam. 
<br><i>2003-Sep-04 12:38pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=27&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:38pm</i>
</td></tr>

<!--Item: Can I use ASSP to scan for viruses?  file: 28--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_28"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Can I use ASSP to scan for viruses? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP’s default configuration blocks Windows-executable attachments from non-whitelisted senders. This effectively blocks nearly all viruses. However Word-macro viruses, the Kak worm, and executables from whitelisted senders are not blocked. I strongly recommend a client-based antivirus program, or an antivirus program designed for your mail transport. Blocking viruses in a SMTP proxy introduces complexities beyond the scope of ASSP’s design current goals. 
<p>
As a side note, I know of one researcher who uses a program like ASSP as a virus filter. If you put at least five copies of a virus in the spam collection, ASSP will probably block that virus the same way it blocks spam. The researcher even had reasonalbe success with polymorphic viri. However, ASSP has been tuned to recognize spam, and I make no guarentees that it will recognize viri.
<br><i>2003-Sep-04 12:41pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=28&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:41pm</i>
</td></tr>

<!--Item: I have some users who don’t want spam blocked How can I do this with ASSP?  file: 36--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_36"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>I have some users who don’t want spam blocked How can I do this with ASSP? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>See the Spam Lovers configuration option. You also can use &quot;No Processing&quot; addresses, which not only skip whitelist additions (like the red list) but also don't contribute to the spam / nonspam database. 
<br><i>2003-Sep-04 12:46pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=36&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:46pm</i>
</td></tr>

<!--Item: Mail is getting blocked that shouldn’t be. How do I fix that?  file: 38--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_38"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Mail is getting blocked that shouldn’t be. How do I fix that? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>First, email the people who are getting mail blocked. This will add their addresses to the whitelist and their mail won’t be blocked any more. 
<p>
Second, put samples of the type of mail that is being blocked in your notspam or errors/notspam folders so that the filter becomes biased to accept that kind of mail -- you have to run rebuildspamdb.pl before the changes take effect.
<p>
Third, look for a unique string or phrase to the type of email that is being blocked (perhaps your street address, city name, phone number) and add that to the &quot;expression to identify nonspam&quot; configuration option. 
<p>
You can also use &quot;whitelisted domains&quot; to help mail get through the filter. 
<pre> </pre>
<br><i>2003-Oct-20  4:08pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=38&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-20  4:08pm</i>
</td></tr>

<!--Item: Why isn’t ASSP blocking any mail?  file: 41--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_41"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Why isn’t ASSP blocking any mail? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>There are three possible reasons for this:
<p>
1) You have TestMode checked,
<p>
2) Your spamdb is empty, too small or ASSP can’t find it (check your log messages in maillog.txt at the startup),
<p>
3) ASSP thinks every message is local or whitelisted (check your log). This often happens if you have || or a | at the start or end of the whitelisted domains or &quot;Expression to Identify Non-Spam.&quot;
<br><i>2003-Sep-04 12:56pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=41&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:56pm</i>
</td></tr>

<!--Item: Why is ASSP blocking all mail?  file: 42--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_42"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Why is ASSP blocking all mail? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>There are two possible reasons: 
<p>
1) Your non-spam collection is too small in proportion to your spam collection – add messages to it, or delete some spam and rebuildspamdb.pl. 
<p>
2) You have something in Blacklisted Domains or Expression to Identify Spam that is too general -- use the analyze page to let ASSP tell you why it is blocking a message. Check for || or a | at the start or end of your expression.
<br><i>2003-Sep-04 12:55pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=42&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04 12:55pm</i>
</td></tr>

<!--Item: How do I use the email interface with Exchange, Notes, or a RelayHost / RelayPort setup?  file: 45--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=6 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_45"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>How do I use the email interface with Exchange, Notes, or a RelayHost / RelayPort setup? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP's email interface allows you to send messages to the ASSP server to add addresses to the whitelist, report spam, or report a false-positive. If your clients do not use SMTP to deliver mail through ASSP's proxy, this feature becomes more complicated. 
<p>
ASSP is looking for it's command addresses at one of its localdomains. However your mail server will not accept mail for ASSP's addresses (and if it does, it will never be passed to ASSP). The work-around is to find a domain you never expect to actually send mail to, tell ASSP it is local, and use that domain for ASSP commands. So you could add spamreport.gov to ASSP's localdomains, and direct whitelist additions to assp-white@spamreport.gov. 
<p>
ASSP's default setting for &quot;Email From&quot; doesn't work with Exchange -- change it to be &quot;postmaster &lt;postmaster@yourdomain.com&gt;&quot; instead of &quot;ASSP &lt;&gt;&quot;. 
<p>
Or you could just ignore the email interface. 
<pre> <br></pre>
Please note that the assp-white address cannot see bcc addresses this way, and cannot prevent delivery to people. Consequently if you use this configuration, be sure you only put addresses in the body of your mail message. Don't include them in the delivery part of the message. 
<br><i>2003-Sep-04 12:58pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The problem arises only if your internal clients send mail via Outlook directly to Exchange. In this case the message does not use SMTP and therefore does not pass ASSP before it reaches the server. Exchange does not know about the &quot;magic&quot; names and normally should not.
<p>
The key is, to convince Exchange to pass it on to ASSP which DOES know about this magic names. It can be done by the following procedure:
<p>
1) invent a &quot;dummy&quot; domain, like &quot;assp-nospam.org&quot; (seems to be an available domain name)<br>
2) tell ASSP that this domain is one of your &quot;local&quot; domains<br>
3) tell your users to send their spam to &quot;assp-spam@assp-nospam.org&quot;; instead of &quot;assp-spam@yourdomain.com&quot;; or tell your Exchange-server to forward the later to the former. If you prefer the &quot;forwarding&quot; approach, you can pick a dummy domain name that is more unlikely to be ever registered (like foo123blob.tac), as nobody has to remember the name.
<p>
If you have ASSP on the outbound channel - as you should for the auto-whitelist function to work - and your Exchange is using the ASSP-relay-Port to deliver external mails, then the server thinks it is &quot;external&quot; and hands it over to delivery. ASSP thinks it's &quot;local&quot; and processes the magic-names as expected.
<p>
Works here on two different Exchange setups (5.5 and 2k)
<p>
(Robert Orso, 2003-11-17)
<br><i>2004-Jan-08  1:52pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Exchange doesn't seem to like the From-address to have _any_ &lt; or &gt; in it. Just type in something plain, like postmaster@yourdomain.com.
<br><i>2004-Jan-07 12:43pm anders.olsson</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=5&cmd=editPart&file=45&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-08  1:52pm</i>
</td></tr>

<!--Item: Why is my whitelist empty?  file: 46--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_46"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Why is my whitelist empty? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The whitelist is only saved once every 3600 (user configurable) seconds (ie 1 hour). Watch your maillog.txt and look for &quot;Saving Whitelist&quot;, then check the stats.pl or the whitelist file. 
<p>
If ASSP is set up correctly in the maillog.txt you should see something like this:<br>
<pre> Jul-9-03 14:40:31 10.1.1.90 &lt;jhanna@mydomain.com&gt; to: mike@yahoo.com local or whitelisted
 Jul-9-03 14:40:31 10.1.1.90 &lt;jhanna@mydomain.com&gt; to: mike@yahoo.com whitelist addition: mike@yahoo.com</pre>
<p>
If you don't see the first line, then you don't have &quot;Accept all mail&quot; correctly set up. If you don't see the second line then you don't have &quot;Local Domains&quot; set correctly (note addresses in the local domain don't get added to the whitelist). 
<p>
ASSP gets whitelist info from your email client. It should look like this (substitute your mail server for postfix):
<pre> Your client -&gt; ASSP -&gt; postfix -&gt; queue -&gt; remote delivery;
   and
 Remote mail -&gt; ASSP -&gt; postfix -&gt; local storage -&gt; local clients</pre>
<p>
With Exchange/Notes/RelayHost it's a little different:
<pre> Local Client -&gt; Exchange -&gt; Local Client  [assp never sees these mails]
 Local Client -&gt; Exchange -&gt; ASSP (relayPort) -&gt; ISP relay host -&gt; remote delivery
 Remote mail -&gt; ASSP -&gt; Exchange (SMTP) -&gt; Local Client</pre>
<br><i>2003-Sep-04  1:01pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=46&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:01pm</i>
</td></tr>

<!--Item: My email client uses /sbin/sendmail to deliver mail. Will this work with ASSP?  file: 47--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_47"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>My email client uses /sbin/sendmail to deliver mail. Will this work with ASSP? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Many Linux mail clients, like Pine for example, use sendmail on the localhost to put mail into the mail system. For ASSP to accurately maintain the whitelist and non-spam collections your local mail must go through ASSP. 
<p>
The easiest solution is to tell your mail client to use SMTP instead of sendmail. Most provide this option. Some clients have configuration options for both &quot;Path to Sendmail&quot; and &quot;SMTP Server&quot; -- in this case, make sure the &quot;path to sendmail&quot; is always blank (ie blank for your personal settings, and blank for your global server settings) and the &quot;SMTP Server&quot; is always set to ASSP's smtp port. 
<p>
If you must, you can use ASSP's RelayHost and RelayPort settings to allow work around this, but you must also configure your mail transport to use a Smart Host, rather than directly deliver mail. 
<br><i>2003-Sep-04  1:02pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=47&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:02pm</i>
</td></tr>

<!--Item: I think ASSP blocked an important message. What do I do?  file: 54--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_54"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>I think ASSP blocked an important message. What do I do? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>First open your maillog.txt and try to find the message in question. You can search by sender or recipient. If a message has more than one recipient, only the first is shown. In the maillog you can see if the message was &quot;message ok&quot;, &quot;whitelisted&quot;, or if it was &quot;bayesian spam.&quot; Note the time &amp; date of the message. 
<p>
If the message in question hasn't been sent yet, email the sender so they're on the whitelist. Then it won't be blocked. If you don't know the sender's address, you can add a &quot;whitelisted domain&quot; or a &quot;expression to identify non-spam&quot; to try to ensure its delivery. 
<p>
If it was &quot;Bayesian spam&quot; then you may be able to find a copy in the base/spam directory. Sort the files by date and look at the ones closest to the date &amp; time of your message. Any text editor should be able to open the files. Files in the spam directory randomly can be overwritten, so the older the message, the less likely it to be there. Also, only the first 10k are stored, so if you're looking for an attachment, you're out of luck. 
<p>
To send the message to its intended recipient do this: Copy the file to your hard drive, rename it to have an .eml extension (or whatever form your email client likes), make a new mail to the person who should get it, and attach the .eml file to it. Then click send. Of course you could make some note along the lines of, &quot;Found this in the spam bucket -- thought you'd want to have it. If you email this person their mail will never be blocked. By the way, you owe me a beer.&quot;<br>
<br><i>2003-Sep-04  1:07pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=54&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:07pm</i>
</td></tr>

<!--Item: I'm still getting spam. What's wrong?  file: 55--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_55"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>I'm still getting spam. What's wrong? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Make sure you have read the documentation in the &quot;Getting Started&quot; section. It is there to help you get going right the first time. This will help you set up a good spam and notspam collection and get the rebuildspamdb.pl script running regularly. Also see <a href="#file_41"><img src="http://assp.sourceforge.net/fom/bags/ans-also.gif" alt="(Xref) " border=0 width=21 height=14>Why isn’t ASSP blocking any mail? </a>
<p>
Look in the maillog.txt to see what it says about the message. If it says &quot;local or whitelisted&quot; you should verify your &quot;hosts to allow all mail&quot; setting, or check if the sender's address was on the whitelist. 
<p>
If the maillog.txt says, &quot;message ok&quot; then take the message and paste it into the &quot;Analyze mail message&quot; screen and click analyze. (There's detailed instructions at the bottom of the screen.) This will tell you how your message related to the spam database. 
<p>
You will get spam for one of the following reasons: 
<p>
1) The spam message is unlike others in the spam database -- Solution: put a copy in the spam or errors/spam directory. 
<p>
2) The spam message is like others in your nonspam database -- Solution: double check your nonspam database to make sure you didn't get some spam in there by accident. 
<p>
3) The message was from a whitelisted sender -- Solution: remove the sender from the whitelist if they shouldn't be there, also put a copy of the message in the errors/spam directory. 
<p>
4) The message matched your &quot;expression to identify non-spam&quot; setting -- Solution: double check to make sure what you have entered there is what you want; Perl &quot;regular expressions&quot; are not just string matches. Read the help page on Perl regular expressions.
<br><i>2003-Sep-05 10:06am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=55&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-05 10:06am</i>
</td></tr>

<!--Item: How can I change the text of the messages ASSP uses to reply to email submissions?  file: 57--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_57"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>How can I change the text of the messages ASSP uses to reply to email submissions? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>You can't please everyone all the time. It is possible one of your users will find the text that ASSP uses to reply to assp-spam, assp-notspam, or assp-white addresses offensive or inappropriate. 
<p>
This text is easy to find by searching the source code. Just edit it to suit your situation. 
<br><i>2003-Sep-04  1:10pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Look in assp.pl; you should see the text of the email there -- if you want to edit it, it's easy to change to whatever you want. If you want to suppress it, change this line:<br>
<pre> ReturnMail($this-&gt;{mailfrom},&quot;Spam report: $sub&quot;,&lt;&lt;EOT);<br></pre>
to this:<br>
<pre> ReturnMail($this-&gt;{mailfrom},&quot;Spam report: $sub&quot;,&lt;&lt;EOT) if 0;<br></pre>
(that is, you add &quot;if 0&quot; before the semicolin.)<br>
john 
<br><i>2003-Oct-27  2:00pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=57&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-27  2:00pm</i>
</td></tr>

<!--Item: Why does every person who posts on a maillist get added to the whitelist?  file: 58--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_58"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Why does every person who posts on a maillist get added to the whitelist? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>After some discussion on the ASSP-USER mail list it was determined that this is the most appropriate behavior. 
<p>
1) For most maillists it is not unusual for someone on the list to mail another person on the list -- whitelisting them is appropriate. 
<p>
2) Since spammers rarely use valid &quot;from&quot; addresses these extra whitelist entries will not likely result in your receiving spam. 
<p>
3) If you don't hear from them again in about 90 days, they'll probably be trimmed of the whitelist automatically. 
<p>
4) If you really don't like this behavior, add the list's &quot;envelope sender&quot; (you can find it in the maillog.txt) to your &quot;No Processing&quot; addresses. This will (a) prevent whitelisting, (b) not put mail in the spam, notspam, or other directories from the list, and (c) pass the list's messages through (ie not block them). 
<br><i>2003-Sep-04  1:10pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>5. Add the list address to the redlist - any address on this is passed through without being processed. This stops list mail from inclusion during a spamdb rebuild and it keeps addresses out of your whitelist.
<br><i>2004-Jan-05  1:22am joe</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=58&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-05  1:22am</i>
</td></tr>

<!--Item: I host maillists -- how does ASSP work together with ezmlm or other maillist software?  file: 63--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_63"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>I host maillists -- how does ASSP work together with ezmlm or other maillist software? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Running maillists behind ASSP is something of a black art yet, and an area that probably requires further research. Let's assume (for discussion) that you have this setup: 
<pre> The ASSP / Qmail / Ezmlm machine at 64.0.0.1 and 10.0.0.1
 A local client who manages the maillist at 10.0.0.2
 A maillist participant at 222.0.0.1
 Many other maillist participants across the internet.<br></pre>
Ms 10.0.0.2 sends a post to ML (the maillist)<br>
10.0.0.1 ASSP accepts it as local, passes it to qmail which sends it to ezmlm which multiplies it by sbin/sendmail.<br>
ASSP has put a copy in the base/notspam folder (this is good -- this post is not spam).<br>
222.0.0.1 and the other recipients receive copies (ASSP is oblivious).<br>
222.0.0.1 replies (i.e generates a post to ML) and is not on the whitelist, but the post isn't spam because it's quite similar to 10.0.0.2's post. 
<p>
If you don't trust your list members to post ham (not spam) this is good behavior. Alternatively, you could put the list address on the &quot;no processing&quot; list so that no filtering (or influence of the spam / ham collections or whitelist) happens. However unless you can tell ezmlm to deliver by SMTP rather than by sbin/sendmail there's no way to get all list participants whitelisted. 
<br><i>2003-Sep-04  1:14pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=63&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:14pm</i>
</td></tr>

<!--Item: How do I set up ASSP to run with redundant MX domains?  file: 83--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_83"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>How do I set up ASSP to run with redundant MX domains? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Two options:<br>
1) Put the important files (whitelist, spam/, notspam/, &amp; errors/) on a shared network drive. <br>
2) Sync files (with rsync or a similar program). Just keep the latest copy of each file, and only run rebuildspamdb on one server. You'd need to do something to keep the .cfg files and maillogs from getting clobbered.
<br><i>2003-Oct-22  1:42pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=83&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:42pm</i>
</td></tr>

<!--Item: When I send a spam/notspam report I see this in the logfile: RMabort: rcpt Expected 250 -- what's wrong? file: 98--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_98"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>When I send a spam/notspam report I see this in the logfile: RMabort: rcpt Expected 250 -- what's wrong?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>When you send a spam report / notspam report / whitelist addition by email, ASSP tries to email you back a confirmation message. If you get this &quot;RMabort&quot; message, your submission was received and processed, but ASSP is failing when it's trying to confirm your submission.
<p>
This error comes when ASSP posts its address to say whom the report mail is from. The default is &quot;ASSP &lt;&gt;&quot;, but some mail servers, Exchange for one, won't accept an address in this form.
<p>
The address with the problem is not your address, or the address in the spam you're submitting, but the address that ASSP is trying to use to send mail.
<p>
Go to the web configuration page, under &quot;Email Interface&quot; and find the
&quot;From Address for Email&quot; setting. To clear this error, you need to find an address that is acceptable to your mail server for ASSP to send mail.
<p>
Try just postmaster@mydomain.com or spammaster &lt;postmaster@mydomain.com&gt; or a valid local address or other variations until it starts working.
<br><i>2003-Nov-25  1:19pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=98&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-25  1:19pm</i>
</td></tr>

<!--Item: Why doesn't ASSP work with TLS or secure SMTP? file: 102--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_102"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Why doesn't ASSP work with TLS or secure SMTP?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>TLS is a form of encryption that allows your SMTP server to have secure communications with the SMTP client. If the communications were secure, ASSP couldn't proxy the transmission to block spam. As of version 1.0.3 ASSP disables your server's TLS conversations through the ASSP port.
<p>
In theory one could use STUNNEL to still allow TLS connections to ASSP and then on to your mail transport. Also in theory one could use a version of openssl to add this capability to ASSP. If anyone does either of these please write me and I'll include it with future releases of ASSP.
<p>
If you are running 1.0.2 or less I reccomend disabling TLS on your server. TLS has been reported to cause problems with ASSP.
<br><i>2003-Sep-26  3:08pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=102&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-26  3:08pm</i>
</td></tr>

<!--Item: How can I manually download the greylist? file: 114--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_114"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>How can I manually download the greylist?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The url is <a href="http://assp.sourceforge.net/greylist.txt">http://assp.sourceforge.net/greylist.txt</a> and the file should be saved (in binary form -- it's only a text file if your system uses LF as EOL -- CRLF [ie dos/windows] will break the file) to match your setting in the config (possibly grelyst with no extension -- or you can change your config to match your download). 
<p>
The file is currently about 140k, but its size will change. 
<p>
ASSP downloads it about every 12 hours. There's no point in downloading it more frequently than that.
<p>
You can use a tool like wget to download the file, but you'll need to work out the naming scheme. This is the process you should follow:<br>
1) Download the greylist file to a temp file<br>
2) If the download failed, remove the temp file and quit.<br>
3) Delete the current greylist<br>
4) Rename the temp file to the greylist file's name
<p>
When ASSP does this automatically, it also resets the greylist cache, but there's no way to do that externally. However the cache will eventually reset on its own.
<br><i>2003-Oct-20  9:13am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=114&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-20  9:13am</i>
</td></tr>

<!--Item: What is the greylist and what does it do? file: 117--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_117"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>What is the greylist and what does it do?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP collects statistics from participating ASSP users to help identify mail hosts that tend to send more spam or more not-spam mail. These statistics are compiled together to create a &quot;greylist.&quot;
<p>
The greylist associates IP addresses of mail sending hosts with their recent statistical probability of sending spam or not spam. It's not a whitelist, or a blacklist, but somewhere in-between -- a grey list. Of course it is rare to find a host that sends equal amounts of spam and not-spam, so very few entries are 50/50 or completely grey.
<p>
This type of information is of practically no value to traditional IP-based spam-blocking systems. However, it is ideal for a Bayesian descriminator: this probability is factored in with other probabilities associated with the mail and helps affect the outcome in the desired way -- better spam AND not-spam detection.
<p>
ASSP takes some care in how the user-supplied statistics are handled in order to reduce the probability that a spammer or misconfigured host will unduely influence the statistics. Because strong security is impractical in this situation I prefer to leave the exact method obscure. Nevertheless, as the ASSP community grows the effectiveness of the greylist will also increase.
<br><i>2003-Oct-29  8:54am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=117&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-29  8:54am</i>
</td></tr>

<!--Item: After a few hours ASSP stops allowing connections. How do I fix that? file: 118--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_118"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>After a few hours ASSP stops allowing connections. How do I fix that?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>By: clayne ( christopher layne ) <br>
2003-09-23 18:43  
<p>
Assp will stop forwarding new requests to Courier after about half a day (sometimes it can last 24 hours before resulting in this behaviour).
<p>
Upon manual telnet connection to port 25, I get an open connection and then an immediately closed connection. After killing and restart assp.pl, the problem goes away - for atleast 12 hours.
<p>
----------------------------------
<p>
By: ladylong ( Ruth Rogers ) <br>
2003-10-15 01:25  
<p>
I had the same problem with my setup (ASSP with Merak MailServer) and finally discovered that Merak was tarpitting ASSP because of the number of connections it was attempting when things got busy. If your mail server has a similar feature, you might just need to change settings - with Merak it's a matter of telling it to bypass tarpitting for 127.0.0.1 (or wherever you have ASSP running from).  
<p>
-----------------------------------<br>
By: clayne ( christopher layne ) <br>
2003-10-29 20:31  
<p>
ladylong,
<p>
Thanks for the information, this is what was happening. I adjusted courier's settings and ASSP never &quot;hangs&quot; now.  
<br><i>2003-Oct-29 12:46pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=118&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-29 12:46pm</i>
</td></tr>

<!--Item: Can I run a secondary MX without ASSP? file: 124--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_124"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Can I run a secondary MX without ASSP?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Spammers fake their &quot;from&quot; address. If you bounce a spam, the bounce will almost always bounce. This called an NDR, a non-delivery reports.
<p>
ASSP avoids bouncing NDRs because it rejects mail in the SMTP conversation. This only works if the SMTP conversation is with the source of the mail.
<p>
If a spam host connects to your primary site and tries to send a spam, at the end of their message they get a 550 error and the connection closes. They are both notified of non-delivery and the mail is not delivered.
<p>
If a spam host connects to your secondary without ASSP, the secondary will store the message. Then it will try to deliver it to the primary which will block it. The secondary will then generate a non-delivery report that will probably bounce.
<p>
This same situation can happen if you put a store-and-forward anti-virus service in front of ASSP.
<br><i>2003-Nov-14  1:37pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=124&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:37pm</i>
</td></tr>

<!--Item: Why is ASSP running so slowly on my Sun / Solaris system? file: 125--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_125"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>Why is ASSP running so slowly on my Sun / Solaris system?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>We don't know. Aparently the standard Sun Perl is partially broken. Activestate perl for Solaris works the same way. To date no one has told me that they've found a solution for this.
<br><i>2003-Nov-19  9:32am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=125&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-19  9:32am</i>
</td></tr>

<!--Item: What should I do about strange addresses on my whitelist? file: 126--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_126"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>What should I do about strange addresses on my whitelist?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>&quot;I see in the maillog that strange addresses are being added to the whitelist. What should I do about them?&quot;
<p>
You have two options:
<p>
1) Just ignore them. The odds that you'll receive a spam from one of the addresses that has been whitelisted is very low. After a while the whitelist entries will go away on their own. Having extra entries on the whitelist is not much of a performance hit, and you have better things to do with your time than mess with them.
<p>
2) Copy the section of the maillog that contains the erronious whitelist addition -- edit it to make sure there's no valid whitelisted addresses in it, then paste it into the &quot;remove addresses&quot; box in the ASSP config -- you don't have to clean out the other text from the maillog -- just make sure the only email addresses that appear in what you post are ones you want removed.
<p>
You choose. (I'd pick the first.)
<br><i>2003-Nov-14  1:42pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=126&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:42pm</i>
</td></tr>

<!--Item: How can I troubleshoot my ASSP system? file: 141--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_141"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>How can I troubleshoot my ASSP system?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Here are some questions to help you try to isolate what's going wrong.
<p>
telnet 127.0.0.1 125<br>
(type quit)<br>
Did you get the banner from your mail transport?
<p>
telnet 127.0.0.1 25<br>
(type quit)<br>
Did you get the banner from your mail transport again?<br>
Did you see a message from ASSP on the screen or maillog.txt, &quot;Connection from 127.0.0.1&quot;?
<p>
Are your local users in the subnet(s) listed in the &quot;Allow All Mail&quot; setting?
<p>
When you configure your email client to connect to the ASSP box, port 25, to deliver SMTP mail, does it go through?<br>
Does the entry appear in the maillog.log:<br>
10.x.x.x ... Local or whitelisted
<p>
Is your mail MX pointing to ASSP's host?
<p>
Can you send a mail through ASSP to a local address? Do they receive it?
<p>
Can you send a mail through ASSP to an external address? Do they receive it?
<p>
Can an external address send you a mail? How does it show up in the maillog.txt file?
<p>
Is the greylist less than 24 hours old and &gt; 50k in size?
<p>
Are you seeing some email in the maillog.txt marked as &quot;Bayesian Spam&quot; and &quot;Message OK&quot;?
<p>
Are files collecting in your spam and notspam folders?
<p>
Is your spamdb getting rebuilt automatically?<br>
<br><i>2003-Nov-25  2:44pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=141&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-25  2:44pm</i>
</td></tr>

<!--Item: What should I do to run ASSP on an old / slow computer without much ram? file: 145--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_145"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>What should I do to run ASSP on an old / slow computer without much ram?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>If you're running in a low ram environment (and a not so fast cpu) it's probably
best to limit the size of the spam and notspam folders to MaxFiles 4000. (Lower
numbers reduce accuracy, but also the size of the database.) You'll need to
manually remove files to get down to the required size.
<p>
Also, files in the errors/* folders take extra RAM as well, so try to keep those
folders down to about 100 each.
<p>
Rebuild the spamdb with the Ramsaver option. Start it running and come back
in the morning.
<br><i>2003-Nov-26  3:43pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=145&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-26  3:43pm</i>
</td></tr>

<!--Item: I've set spamlover addresses and I'm running in test mode, but I never see a &quot;spam lover&quot; message in the log file. What's wrong? file: 151--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_151"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>I've set spamlover addresses and I'm running in test mode, but I never see a &quot;spam lover&quot; message in the log file. What's wrong?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Spam lover settings don't show up in test mode -- you have to turn test mode off to see them work.
<br><i>2003-Dec-10  3:34pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=151&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-10  3:34pm</i>
</td></tr>

<!--Item: ASSP first ran as root, now I want to run it as another user; what permissions do I need to change? file: 154--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_154"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>ASSP first ran as root, now I want to run it as another user; what permissions do I need to change?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>
<pre> &gt; If I have ASSP running a  user other than root, should all files within
 &gt; the distribution be owned by that user?<br></pre>
assp.cfg, spam, spam/*, notspam, notspam/*, errors/*, maillog*, whitelist,
redlist, greylist, spamdb, and the assp directory should all be owned by
assp. (Maybe I'm missing something, but those are the files/ folders that
come to mind that assp changes.) The spamdb file is actually owned by whoever owns the rebuildspamdb.pl process -- just make sure the assp user has read access.<br>
<pre> &gt; The web interface/maillog indicates whitelist additions to but no
 &gt; files are being created in the distribution for redlist or whitelist.<br></pre>
The assp directory should be owned by the assp process. See if that fixes
it.<br>
<pre> &gt; I'm also not able to use the web interface to view log files and
 &gt; apparently assp is no longer writing to the log.  All of this I assume
 &gt; to be permissions issues.<br></pre>
Make sure the current maillog.txt is owned by assp<br>
<br><i>2003-Dec-15 10:04am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=154&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-15 10:04am</i>
</td></tr>

<!--Item: ASSP is rejecting all mail with Relaying denied. file: 162--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_162"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>ASSP is rejecting all mail with Relaying denied.</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Problem: All email is being rejected with the error 'Relaying denied'.<br>
Solution: Get a list of all your domains into a file, and set 'Local Domains File' to it.<br>
Problem: I copied my /etc/postfix/virtual file (list of local domains) to my assp directory, but all incoming email was still being rejected.<br>
Solution: Get rid of all comments, delete everything except for the actual domain names of emails to accept.  Debugging showed that ASSP was gluing all the words on the same line together, and calling that a domain name.  Alternatively, edit assp.pl to cut everything but the first word on a line when it reads the file.<br>
Problem: Still rejecting email?<br>
Solution: Since I had turned on the chroot option, instead of /usr/local/lib/assp/virtual, I should have typed /virtual into the settings.  Oh, and made sure that the file was readable by the user assp.  In the end, I edited assp.pl to check permissions and complain if they were wrong.
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=162&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-15  9:26pm</i>
</td></tr>

<!--Item: How do I use the dnsbl setting? file: 188--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_188"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_24"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Problems &amp; Solutions </a> :
<br><font size="+1"><b>How do I use the dnsbl setting?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The dnsbl setting has been superceeded by the greylist and is only present to provide backward compatability. Its use is strongly depreciated.
<p>
But I hear you say, &quot;But I want to block mail from known-bad IP addresses.&quot; Can't ASSP do that?
<p>
ASSP could do that but that is not what the DNSBL setting was used for.
<p>
These are the factors involved with DNS black listing and how they relate to ASSP:
<p>
1) I used DNS black lists for a number of years before I wrote ASSP. I found that they rejected far too little spam and had far too many false positives. They change slowly, while spammers adjust quickly. There is no such thing as a &quot;realtime&quot; black-hole list. I also found that truely successful black-hole lists either get sued out of existance, become pay (ie for profit) services, or simply go bust too quickly. The bottom line is that an IP address alone does not give you enough information to correctly classify incoming mail. ASSP's greylist is an attempt to make use of what information is available about an IP address without creating false positives or negatives.
<p>
Perhaps you'll argue that you know of a truely fantastic black hole list, and maybe times have changed and such a thing really exists. If you have one that's &gt; 99% effective, then use it and skip ASSP. If it's less than 99% effective, then just use ASSP and forget about the black hole list -- it's unnecessary and a distraction.
<p>
2) ASSP is a multiplexed server, not multi-process or multi-threaded. This allows ASSP to be truely cross platform and quite effecient in how it handles connections. Unfortunately it means that any process that blocks will cause a temporary SMTP outage. Perl's standard DNS functions block. This means that traditional DNSBL lookups via DNS are incompatible with ASSP's multiplexed design. 
<p>
The alternative (and the approach in the original DNSBL and that continues in today's greylist) is to load all the DNSBL values into a file where lookups can be made in a timely fassion. However most DNSBL services only provide this option if you can prove that your load is quite high. Or you can use a tool like openrbl and update your file on a daily basis. This ends up being problematic.
<p>
3) &quot;Spam filtering works best by combining a variety of spam-fighting technologies.&quot; And to the extent that that is true, ASSP incorporates a variety of spam-fighting technologies. However, each technology carries not just a benifit, but also a margin of error and a maintenance cost. You must be careful in combining technologies or you find that you increase your maintenance costs and increase your overall error margin without increasing your accuracy. I believe DNS blacklists fall in this category. 
<p>
4) Bayesian content filtering is a fantastic tool. Generally the requests I've received from people who want DNSBL support are from those who have used it in the past and haven't used a good Bayesian content filter before. They're trying to keep doing what they've always done before. I'd encourage you to give ASSP a try. See how it performs. I expect that even without DNSBL support it will exceed your expectations in most cases.
<p>
<br><i>2004-May-24  8:43am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=188&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-May-24  8:43am</i>
</td></tr>

<!--Item: Other Tools Included With ASSP  file: 65--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_65"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>Other Tools Included With ASSP </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP is almost entirely self contained in the one assp.pl file. However there are a few tools to assist you maintain your ASSP implementation. 
<br><i>2003-Sep-04  1:24pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_66"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is rebuildspamdb.pl and how do I use it? </a><br>
<a href="#file_67"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What are the updatednsbl and dnsbl.pl tools? </a><br>
<a href="#file_68"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is upgrade.pl? </a><br>
<a href="#file_69"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is repair.pl? </a><br>
<a href="#file_70"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is move2num.pl? </a><br>
<a href="#file_71"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is stat.pl? </a><br>
<a href="#file_72"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is goodhosts.pl? </a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=65">New Answer in "Other Tools Included With ASSP "</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:28pm</i>
</td></tr>

<!--Item: What is rebuildspamdb.pl and how do I use it?  file: 66--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_66"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What is rebuildspamdb.pl and how do I use it? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The rebuildspamdb.pl script is used to rebuild your Bayesian spam / non-spam database. It reads through all the files in the spam, notspam, errors/spam, and errors/notspam directories and builds the statistical model that is used to test incoming mail. You should use your operating system's scheduling features to schedule it to be run periodically -- possibly daily or at least weekly. The script should be run in the same folder as the assp.cfg file -- your assp's base (from the configuration page). 
<br><i>2003-Sep-04  1:25pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=66&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:25pm</i>
</td></tr>

<!--Item: What are the updatednsbl and dnsbl.pl tools?  file: 67--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_67"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What are the updatednsbl and dnsbl.pl tools? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>This feature is depreciated in versions 1.0.5 and later. Use the greylist instead.
<p>
The updatednsbl.sh and updatednsbl.bat script / batch file is used to download the current list of IP addresses of spammers from the openrbl.org probject website. It calls wget and bzip2 to retrieve this data and decompress it. 
The dnsbl.pl script reads the data from the openrbl format and converts it to an appropriate format for ASSP. 
<br><i>2003-Oct-22  1:44pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=67&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:44pm</i>
</td></tr>

<!--Item: What is upgrade.pl?  file: 68--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_68"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What is upgrade.pl? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The upgrade.pl script was used to assist users of version 0.1.6 to convert their configuration and databases to the 0.2.0 format. If you're upgrading, you can run this program once to help make the change. If you are a new ASSP user you should disregard the upgrade.pl program. 
<p>
The upgrade.pl only appears in releases where it is required. If you are upgrading from 0.1.6 all the way to 0.3.4 (or beyond) you will need to download each of the intermediate releases and run upgrade.pl. Generally upgrade.pl is only required between major releases (ie 0.1.x to 0.2.0 and 0.2.x to 0.3.0), though there could always be exceptions. 
<p>
Upgrade instructions are posted in the mailling list (search the archives) or usually in the release news. 
<br><i>2003-Sep-04  1:26pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=68&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:26pm</i>
</td></tr>

<!--Item: What is repair.pl?  file: 69--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_69"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What is repair.pl? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The repair.pl script can be run at any time if you suspect your sorted hash files (whitelist, redlist, and/or dnsbl) have become corrupted. This can happen if your system runs out of free disk space, or conceivably in a hard crash (although this is unlikely). 
<p>
Run the script and it will load, resort and write the sorted hash files. 
<p>
To repair the spamdb file run rebuildspamdb.pl.
<br><i>2003-Oct-22  2:06pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=69&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  2:06pm</i>
</td></tr>

<!--Item: What is move2num.pl?  file: 70--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_70"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What is move2num.pl? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>If you have been using ASSP with the UseSubjectsAsMaillogNames option you will find it much easier to identify spam emails. However when you are ready to start normal operation you need to rename all these files to numbers so that they get overwritten in time with newer (more modern) spam/nonspam. The move2num.pl script accomplishes this for you. You can also use this script if you have manually moved a number of files into the spam/nonspam folders and want to convert their filenames to ASSP's numbers.<br>
<pre> perl move2num.pl -r</pre>
<p>
Note that ASSP reads all files in the directories irregardless of their name, so numbers or words for filenames is fine. However filenames that aren't numbers will remain eternally in the spam / nonspam folders and never be rotated out. 
<p>
Note also that the errors/spam and errors/notspam folders are not processed in this way -- the files always remain in these folders indefinately. 
<br><i>2003-Sep-04  1:28pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=70&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:28pm</i>
</td></tr>

<!--Item: What is stat.pl?  file: 71--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_71"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What is stat.pl? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>To list statistics from your maillog.txt file do the following: 
<pre> Perl stat.pl maillog.txt</pre>
<p>
Your results should look something like this:<br>
<pre> As of Thu Mar 27 10:48:54 2003 the mail logfile shows:
 78843 messages, 47637 were spam (60.4%) in 73 days
  for 1080.0 messages per day or 652.6 spams per day
 8303 additions to / verifications of the whitelist (113.7 per day)
 28273 were judged spam by the bayesian filter (59.4% of spam)
 18862 were to spam addresses (39.6% of spam)
 502 were rejected for executable attachments (1% of spam)
 12608 were sent from local clients (40.4% of nonspam)
 7838 were from whitelisted addresses (25.1% of nonspam)
 10760 were ok after a bayesian check (34.5% of nonspam)
 14467 addresses are on the whitelist
 
 15108 hits on the blacklist
 14890 resulted in spam (52.7% of Bayesian spam, 98.6% of blacklist hits)
 218 resulted in non-spam (1.443% of blacklist hits)</pre>
<br><i>2003-Sep-04  1:28pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=71&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  1:28pm</i>
</td></tr>

<!--Item: What is goodhosts.pl?  file: 72--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_72"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_65"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Other Tools Included With ASSP </a> :
<br><font size="+1"><b>What is goodhosts.pl? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>This feature is depreciated in versions 1.0.5 and later. Use the greylist instead.
<p>
For an explanation of what goodhosts is see <a href="#file_21"><img src="http://assp.sourceforge.net/fom/bags/ans-also.gif" alt="(Xref) " border=0 width=21 height=14>What is goodhosts and what does it do? </a> 
<p>
It is possible that your goodhosts file can become corrupted. To know if you're affected, look at the end of your goodhosts file -- the last two entries should be something like this:
<pre> notspam?3000
 spam?52384</pre>
<p>
(Your numbers will be different). If either or both of these lines are missing, or if you're just paranoid, do this: 
<p>
1) stop assp<br>
2) do: <br>
<pre>  perl goodhosts.pl maillog.txt<br></pre>
(if you have more than one maillog handy you can list as many as you like, but put them in order getting older by date)<br>
3) start assp
<br><i>2003-Oct-22  1:44pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=72&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  1:44pm</i>
</td></tr>

<!--Item: ASSP Changelog  file: 73--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_73"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>ASSP Changelog </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>This records the changes of the ASSP project over time.  
<br><i>2003-Sep-04  1:31pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_100"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-09-23 -- Release 1.0.2</a><br>
<a href="#file_101"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-09-26 -- Release 1.0.3</a><br>
<a href="#file_109"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-10-09 -- Release 1.0.4</a><br>
<a href="#file_111"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-10-17 -- Release 1.0.5</a><br>
<a href="#file_116"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-10-22 -- Release 1.0.6</a><br>
<a href="#file_122"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-11-06 -- Release 1.0.7</a><br>
<a href="#file_155"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-12-17 -- Release 1.0.8</a><br>
<a href="#file_165"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2003-12-22 -- Release 1.0.9</a><br>
<a href="#file_198"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>2004-06-09 -- 1.0.10d release</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=73">New Answer in "ASSP Changelog "</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  2:53pm</i>
</td></tr>

<!--Item: 2003-09-23 -- Release 1.0.2 file: 100--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_100"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-09-23 -- Release 1.0.2</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-09-23 -- Release 1.0.2
           -- Fixed bug that hangs ASSP when some databases (especially dnsbl) is empty
           -- Added Forward-All-Spam option
           -- Added &quot;expression to identify no-processing mail&quot;
           -- added default file extension for maillog files
           -- added preliminary code to rebuildspamdb to build a true host greylist to replace dnsbl

2003-08-25 -- changed file lists to not require \n at the end of the last line
           -- added .cmd to the list of blocked filetypes

2002-08-20 -- Release 1.0.1
           -- Fixed clean to better remove headers (aids in some spam detection)

2003-08-15 -- Fixed a bug that causes qmail (and a few others) to ignore the confirmation emails
              from the email interface. (Thanks JustinMazzi)

2003-08-13 -- release 1.0.0
           -- separated config options to basic and advanced
           -- RamSaver and OrderedTieHashSize in the config
           -- PopB4SMTPFile in the config
           -- Fixed some spelling errors &amp; capitalized Bayesian
           -- Fixed the missing &lt;&gt; in the docs for mailFrom
           -- tidied up some details in orderedTie that missused RAM
           -- added more informative progress messages for rebuildspamdb

2003-08-06 -- release 0.3.5
           -- fixed BDAT bug (exchange attachments) by blocking 250-CHUNKING

2003-08-05 -- fixed bug that added rndhelo where there was no helo

2003-08-04 -- release 0.3.4b
           -- updated rebuildspamdb.pl to not generate negative spam probs
           -- updated the description text for RedRE to have \[autoreply\]
           -- release 0.3.4
           -- fixed important bug about header wrapping with \n instead of \r\n
           -- fixed possible bug in cleaning goodhost

2003-08-01 -- release 0.3.3
           -- localDomainFile was incorrectly implemented -- fixed exceptions.
           -- changed how spambucket addresses are handled (because of localDomainFile)
           -- corrected noProcessing to work with mail from an address as well as to address
           -- allowed noProcessing to work with full addresses rather than local ones.
           -- redlist now prevents whitelist additions but doesn't make locals/whitelisted non local/whitelisted
           -- fixed a couple of important bugs in rebuildspamdb for cleaning whitelist and goodhosts

2003-07-31 -- description string for block exes includes whitelisted AND LOCAL
           -- multiple helo's don't goof up the header (thanks pwhodges)
           -- recieved line wraps
           -- rc script stop recognizes base (thanks enrico)
           -- kill -HUP now reopens log file

2003-07-30 -- clean now recognizes the helo -- improves spam detection a bit

2003-07-25 -- release 0.3.2
           -- recognized &lt;script tags in clean sub
           -- replaced url encoding wherever it appears, not just in urls
           -- relaxed randword constraints
           -- better handling of non-latin characters
           -- moved to two word tokens instead of three-word tokens to reduce RAM need for rebuildspamdb

2003-07-24 -- fixed chroot -&gt; tie order problem
           -- allowed ! addresses to local users
           -- added support for CHUNKING / BDAT esmtp features
           -- changed move2num to not exceed MaxFiles
           -- updated rebuildspamdb to use less ram

2003-07-23 -- fixed weakness in mail relay detection
           -- now base gets chroot chopped off
           -- rebuildspamdb.pl unlinks .bak files before renaming
           -- filtered off bad | options in makeRE

2003-07-22 -- fixed bugs in runAsUser code &amp; logging messages

2003-07-17 -- release 0.3.1
           -- fixed two bugs that cause crashes under unusual cricumstances
           -- 1) accept gets null
           -- 2) posting over 32k hangs on web admin interface
           -- added noProcessing addresses
           -- fixed bug in log rollover

2003-07-16 -- added goodhosts spam detection
           -- added options for localdomains and relayhosts files
           -- added dnsbl and goodhosts to analysis page
           -- updated stats
           -- moved PID file to correct location to make a pid file of the fork, not the parent
           -- added more default paths to look for assp.cfg; checked in this order:
               '.','assp','/usr/local/assp','/home/assp','/usr/assp','/assp'
           -- widened some config options's boxes
           -- added whitelist only option and nomaillog option
           -- added EmailFrom config option for people whose mailer dislikes &lt;&gt;
           -- added &quot;Maillog Tail&quot; to config pages
           -- updated documentation

2003-07-11 -- fixed iswhite to correctly redlist &lt;&gt;
           -- option added for redRe for autoreply
           -- spamlovers get [SPAM] subject (treated like testmode)

2003-07-10 -- release 0.3.0
           -- updated stat.pl with new stats and for new whitelist format
           -- updated rebuildspamdb to remove files from spam collection that match
               corrected notspam and visa versa
           -- rebuildspamdb uses squares of token values for tokens only present in one set
           -- report false-positives by email
           -- see maillog from admin interface
           -- see analysis of spaminess of a mail from admin interface

2003-07-03 -- auto rollover for log file.
           -- report spam by email
           -- add to whitelist by email
           -- config option to disable blocking executable attachments
           -- config option to block exe attachments from local/whitelisted users
           -- config option to log bayesian non-spam mail
           -- code stub for those who want to implement pop before smtp
           -- show entire whitelist / redlist (on list maintenance page)
           -- config option to not add spam prob for outgoing mail
           -- database files use \n as record separator
           -- bug fixes: rebuildspamdb hammers whitelist
           -- rebuildspamdb squares scores that are all spam or all ham
           -- helo without backslashes passed to MTA
           -- more executable file extensions are blocked
           -- SIG{TERM} is logged
           -- from &lt;&gt; (usually postmaster) will not add to whitelist
           -- ? not a valid email address character
           -- quoted printable isn't confused by \r
           -- hasspamaddresses fails gracefully if $spamaddresses is undefined
           -- white/red list additions by the admin interface are logged

2003-06-13 -- release 0.2.1
           -- fixed whitelistdomains' config option to allow blank entry
           -- fixed upload stats to recover gracefully from a socket error
           -- fixed problem with unusual HELO that could crash ASSP
           -- moved pointer to ASSP's documentation

2003-05-30 -- release 0.2.0
           -- There's too many changes to name. I'll try to list a few:
           -- web based configuration and whitelist/ redlist maintenance interface
           -- noop config option
           -- [spam] in subject
           -- whitelist / blacklist domain
           -- destination address in maillog
           -- sender / from whitelist check
           -- % relay test
           -- daemon on *nix
           -- totalizer
           -- ASSP to stop listening to a client after a certain high-water mark on the MTA...
           -- assp.cfg file
           -- base is command line parameter
           -- whiteRE and blackRE help identify ham / spam
           -- online statistics
           -- sig HUP causes assp.cfg to be reread (unix)
           -- X-Assp-Spam: YES can be added to header
           -- sorted hash files (means uses less ram and loads immediately)

2003-04-07 -- Release 0.1.6
           -- Added $relayHost and $relayPort to support Exchange and Notes.
           -- Updated documentation for the Exchange / Notes setup.

2003-04-04 -- fixed missing received line bug, and bug that affected missing pieces of spamlog files.
           -- fixed bug that caused the spamprob header to be left off some emails.
           -- fixed move2num to skip existing numbers &amp; not overwrite files.
           -- added code to skip exchange's XEXCH50 command.

2003-04-02 -- added picturelink and randomtext checks in clean to try to improve spam detection
           -- updated rebuildspamdb to handle maxtick better -- corrects an asterisk bug

2003-03-27 -- Release 0.1.5
           -- Updated documentation for changes for pipeline problem
           -- integrated &quot;NOOP Connection from&quot; idea from Rainer Schuetz
           -- fixed no spam header in test mode bug
           -- added spam header to local / whitelisted mail

2003-03-26 -- Fixed pipeline problem causing &quot;crlf.crlf&quot; errors
           -- fixed problem where some non-spam was incompletely logged

2003-02-27 -- Release 0.1.4
           -- Updated docs for asspsmpl and removed rmdoubt.

2003-02-25 -- fixed a not-cleared buffer that shows up when two messages are sent in sequence without
              a RSET or QUIT between them.

2003-02-20 -- added wantsMessage and appendMessage to handle servers that don't stream after the DATA

2003-02-19 -- fixed funny dates in changelog ;-)
           -- added $ChangeRoot configuration option
           -- cleaned up some other win/*nix issues
           -- updated documentation for ChangeRoot

2003-02-13 -- Release 0.1.3
           -- Fixed a bad bug that corrupted large emails

2003-02-09 -- Fixed a syntax error in list.pl
           -- changed isspam to count only first two occurrances of a token -- reduces ability for spoofing.
           -- updated clean to move html out of mid-words lik&lt;woffie&gt;e thi&lt;baffie&gt;s
           -- removed the possibility of &lt;&gt; being added to the whitelist

2003-02-04 -- Cleaned up documentation here and there.
           -- first attempt at $spamLovers

2003-01-30 -- Release 0.1.2
           -- worked with spamarchive data to improve sub clean
           -- copied the fixed switchUser sub into assp.pl
           -- converted scripts to unix line ends
           -- merged in new configuration options into documentation

2003-01-29 -- Updated documentation for openrbl. Added a sample proxy dialogue.

2003-01-27 -- commented out #use Warnings and #use Strict -- should have done this before now :-(
           -- commented out the data::dump parts (used for debugging only)
           -- made better error result for can't create socket

2003-01-24 -- commented out IpSpam stuff and implemented dnsbl @ 0.95 x 3
           -- wrote switchUser and changed config.pl &amp; docs

2003-01-23 -- Added support for %hh, &amp;#112; and &amp;nbsp; decoding in sub clean
           -- stripped out a number of uninformative html tags (see sub clean)

2003-01-22 -- Changed the isspam function to total probabilities on the top 30 influential
              keywords rather than 50 to increase spam hit rate. This increased my hit rate on
              SpamArchive data by about 1%.
           -- Changed IpSpam functions to look at xx.xx.xx groups rather than xx.xx groups.

2003-01-20 -- Changed isspam so tokens must be between 2 and 19 (inclusive) chars. -- Aids in detecting
              non-English spam.
           -- Added first attempt at %IpSpam functions

2003-01-16 -- Release 0.1.1

2003-01-16 -- Changed &quot;free as in beer&quot; to &quot;free as in speech&quot; in the documents -- you can still buy me
              beer if you want...
           -- Added section on absolute path in docs for assp.pl's do config.pl
           -- Commented out use Strict and use Warnings untill I can get them to work right on Linux

2003-01-14 -- Added the $AddSpamProbHeadder config option

2003-01-20 -- changed the maillog to only save local and whitelisted mail. This prevents gradual
              spamification of the nonspam corpus by false negatives.

2002-12-20 -- Initial Release 0.1.0</pre><i>2003-Sep-23  4:01pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=100&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-23  4:01pm</i>
</td></tr>

<!--Item: 2003-09-26 -- Release 1.0.3 file: 101--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_101"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-09-26 -- Release 1.0.3</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-09-26 -- Release 1.0.3
           -- Fixed bug with blank spam forwards
           -- reorganized menu slightly
           -- added extensions to block executables feature
           -- added feature to block spam bombs
           -- added feature to disable greylist upload
           -- increased greylist scan to look at last 3 days
</pre><i>2003-Sep-26  3:01pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=101&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-26  3:01pm</i>
</td></tr>

<!--Item: 2003-10-09 -- Release 1.0.4 file: 109--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_109"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-10-09 -- Release 1.0.4</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-10-09 -- Release 1.0.4

2003-10-08 -- changed the default blackre to allow . in the text before the @
           -- made the description of the &quot;cc all spam&quot; more clear
           -- documented that maillog.txt without the .txt won't auto-rollover
           -- commented out a few debug print statements that got away
           -- converted dos line ends to unix LF's
           -- added X-Assp-Report: YES headers to the spam / ham / white reports
           -- cleared out X-Assp-Spam-Prob: lines before adding a new one
           -- tuned up sub clean to better detect spam:
           -- detect multiple blank lines, better detection of text in links and urls, 
           --   better detection of randwords</pre><i>2003-Oct-10  2:47pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=109&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-10  2:47pm</i>
</td></tr>

<!--Item: 2003-10-17 -- Release 1.0.5 file: 111--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_111"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-10-17 -- Release 1.0.5</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-10-17 -- Release 1.0.5
           -- Merged AJ's web design into the assp code (Thanks AJ!)
           -- added OutgoingBufSize, NotGreedyWhitelist, and WhitelistLocalOnly config options

2003-10-15 -- changed allowAdminConnectionsFrom, acceptAllMail, localDomains, spamaddresses,
               spamLovers, noProcessing, whiteListedDomains, and blackListedDomains to allow file lists.
               These also make use of perl's more effecient qr// syntax
           -- KeepWhiteListedSpam option added to disable the &quot;delete spam that became whitelisted&quot;
               feature which was also added
           -- added greylist support, replacing goodhosts and dnsbl
           -- spamprob is added to forwarded spam
           -- reportmail gets rid of \r in subjects causing 550 Invalid Line End errors for SAV
           -- fixed a critical bug in the orderedtie class that dropped numerous entries in the
               various databases</pre><i>2003-Oct-17 11:06am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=111&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-17 11:06am</i>
</td></tr>

<!--Item: 2003-10-22 -- Release 1.0.6 file: 116--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_116"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-10-22 -- Release 1.0.6</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-10-22 -- Release 1.0.6
           -- Two spelling errors
           -- Significantly updated the &quot;getting started&quot; documentation
           -- Added the &quot;Error spamdb/whitelist must be repaired&quot; log message to prevent system hanging.
           -- Fixed a couple of major bugs in repair.pl
           -- Fixed the bug that causes ASSP to die the first time the greylist is downloaded
           -- Added stats that don't reset</pre><i>2003-Oct-22  2:44pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=116&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-22  2:44pm</i>
</td></tr>

<!--Item: 2003-11-06 -- Release 1.0.7 file: 122--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_122"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-11-06 -- Release 1.0.7</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-11-06 -- Release 1.0.7
           -- NoHaiku option added
           -- fixed debug print in mainloop
           -- implemented nogreydownload
           -- prevented crashes on flushing ordered ties when they're undefined
           -- fixed the spamprob in &quot;send all spam&quot;
           -- fixed debug info in authentication
           -- fixed CRCRLF issue when removing spam-prob header
           -- fixed repeated download of greylist when there's a base
           -- limited the size of subjects when running with &quot;use subjects as filenames&quot;
           -- fixed multiple check of makeRE files</pre><i>2003-Nov-06  1:49pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=122&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-06  1:49pm</i>
</td></tr>

<!--Item: 2003-12-17 -- Release 1.0.8 file: 155--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_155"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-12-17 -- Release 1.0.8</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2003-12-17 -- Release 1.0.8
           -- Default Localhost option to accept mail addressed to addresses without a hostname
           -- Handles &quot;Broken Pipe&quot; error
           -- Gracefully handles invalid user-entered regular expressions without crashing
           -- Switched to better defined and more consistent email address recognition
           -- fixed spam address bug that never matched user@domain entries
           -- spam prob headers for messages forwarded to &quot;send all spam&quot; address
           -- recognized server error return on XEXCH50 directives
           -- fixed bug for &quot;no maillog&quot; that logged mail anyway
           -- fixed nominal bug in orderedtie -&gt; CLEAR. function was never called.
           -- fixed bug where options files are left open
           -- fixed move2num to correctly support the maillog file extension (.eml)
           -- move spam-prob headers to the bottom of the header instead of at the subject
           -- fixed the reload time for option files
           -- email reports put in separate files</pre><i>2003-Dec-17  3:06pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=155&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-17  3:06pm</i>
</td></tr>

<!--Item: 2003-12-22 -- Release 1.0.9 file: 165--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_165"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2003-12-22 -- Release 1.0.9</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>2003-12-22 -- Release 1.0.9
<pre>           -- fixed &quot;random relaying&quot; errors
           -- removed a debug print that I forgot</pre>
<br><i>2004-Jan-27  8:37am joe</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=165&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-27  8:37am</i>
</td></tr>

<!--Item: 2004-06-09 -- 1.0.10d release file: 198--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_198"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_73"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Changelog </a> :
<br><font size="+1"><b>2004-06-09 -- 1.0.10d release</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
2004-06-09 -- 1.0.10d release
           -- Added support to block viruses with the clamav database
           -- postmaster added to the default spamlovers list
           -- added default regular expression to identify random junk on subjects
           -- cleared up config messages about addresses / usernames
           -- changed the log-roll to keep maillog.txt always the current maillog -- Thanks Jason W!
           -- added LogRollDays config variable
           -- added maxbytes setting to make the 10k configurable
           -- added helo blacklist
           -- fixed popb4smtp to work out of the box for dbfile implementations
           -- fixed bug that double wrapped the rcvd line if ehlo failed
           -- blocked ! @ and % relay attempts in the user name
           -- allowed for possible blank messages (ie header only)
           -- added commented out line to include &quot;x-intended-for: &quot; header
           -- took rndhelo out of clean -- wasn't working right
           -- clean looks at all recipients / addresses in the header
           -- updated analyze to handle new helo blacklist
           -- abort posting config data unless the whole post is present (prevents browser
              errors from corrupting your configuration)
           -- Fixed spelling error: deubg -&gt; debug

2004-01-26 -- Added RemovePid function for sig TERM and sig INT

2004-01-09 -- Fixed bug in statistics that showed the wrong percentage for cumlative relay attempts (thanks Rikard)
           -- Changed link for relay port &amp; email interface (thanks dynamite)
</pre><i>2004-Jun-09  2:53pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=198&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  2:53pm</i>
</td></tr>

<!--Item: HOWTOs and notes for specific MTAs and OSes  file: 74--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_74"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>HOWTOs and notes for specific MTAs and OSes </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>As folks write HOWTOs or install notes for specific mail programs or operating systems we will link to them here. 
<br><i>2003-Sep-04  2:00pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:<br>
<a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a>
<p>
Answers in this category:<br>
<a href="#file_78"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>ASSP and OS/2 </a><br>
<a href="#file_81"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: Post.Office </a><br>
<a href="#file_85"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO Change the SMTP port for Lotus Notes </a><br>
<a href="#file_86"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: General instructions for any non-SMTP mail server (MS Exchange, Lotus Notes, etc) </a><br>
<a href="#file_87"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP and TLS or secure SMTP. </a><br>
<a href="#file_88"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: Change the SMTP port in Courier-MTA? </a><br>
<a href="#file_89"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: change the smtp port in sendmail</a><br>
<a href="#file_99"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP and Antivirus proxies</a><br>
<a href="#file_106"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP Mysql local domains</a><br>
<a href="#file_107"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP &amp; VPopMail PopBeforeSmtp</a><br>
<a href="#file_108"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP &amp; SAV on the same server</a><br>
<a href="#file_110"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP &amp; Merak Mailserver</a><br>
<a href="#file_119"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP &amp; Fetchmail</a><br>
<a href="#file_121"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP on Mitel SME (E-Smith)</a><br>
<a href="#file_146"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: automatically restart ASSP if it dies in *nix</a><br>
<a href="#file_152"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: NAV for Gateways, IIS SMTP -&gt; Exchange</a><br>
<a href="#file_158"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO Change the SMTP port for IMAIL</a><br>
<a href="#file_161"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: ASSP &amp; Postfix</a><br>
<a href="#file_187"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>SMTP on Telstra Australia after April 2004</a><br>
<a href="#file_189"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>SIMS and ASSP on MacOS X HowTo</a><br>
<a href="#file_197"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>ASSP on Win32 Install</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=74">New Answer in "HOWTOs and notes for specific MTAs and OSes "</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  2:02pm</i>
</td></tr>

<!--Item: Microsoft Exchange  file: 75--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_75"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>Microsoft Exchange </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Instructions and helps for users of ASSP and Microsoft Exchange Server, all versions.
<br><i>2003-Sep-04  2:01pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_76"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How can I get Exchange 5.5 to stop sending NDRs? </a><br>
<a href="#file_77"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Can I use Exchnage 2000 Public folders to report spam / notspam? </a><br>
<a href="#file_79"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: Change the SMTP port in Exchange </a><br>
<a href="#file_80"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: Modification to make exchange public folder for whitelist additions? </a><br>
<a href="#file_97"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How to trick Exchange 5.x to forward outgoing mails through ASSP</a><br>
<a href="#file_105"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: Use an Exchange 2000 Virtual Server instead of your ISP.</a><br>
<a href="#file_194"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>HOWTO: Exchange 2003 to check for valid recipients</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=75">New Answer in "Microsoft Exchange "</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-04  1:29pm</i>
</td></tr>

<!--Item: How can I get Exchange 5.5 to stop sending NDRs?  file: 76--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_76"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>How can I get Exchange 5.5 to stop sending NDRs? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>(From Jon Bell, June 25, 2003 7:03 AM)<br>
Just FYI, I figured out how to get Exchange 5.5 to stop sending Non-Delivery Report (NDR) messages... At least for invalid user addresses. Did some digging on the Internet, and found out that really the only way to do it is this:<br>
-- Create a &quot;distribution list&quot; in Exchange called something like &quot;Terminated Employees&quot;, with no members. Then hide the list.<br>
-- Add SMTP user addresses (presumably for users who are no longer employed there, but could be anyone you want as long as the address isn't used somewhere else already) to the distribution list. 
<p>
This method results in NDR messages not being generated because the address DOES exist... it just doesn't GO anywhere. According to what I read while finding this tip, the incoming messages do not get stored anywhere... they just &quot;disappear&quot;. 
<p>
So that, combined with redlisting &quot;Postmaster&quot; in ASSP, has pretty much resulted in the elimination of NDR messages from Exchange... while leaving the Postmaster mailbox able to receive incoming mail addressed specifically to it. That way, if anyone on the outside has a problem, they can still reach you using the Postmaster address. <br>
Unless you use this method, Exchange 5.5 will ALWAYS send out NDR messages for any e-mail sent to an invalid address. There is no known way to turn it off the &quot;feature&quot;. (Apparently, Exchange 2000 DOES have a way to disable NDR messages.) 
<p>
(From Matthias Behnke, Tuesday, June 24, 2003 10:20 PM)<br>
In Exchange 5.5 (not 2000) you can enable the SMTP VRFY-command to reject email delivery at the SMTP-Level. Microsoft does not recommend to enable this feature as spammers will then be able to quickly check which accounts are hosted on your server, so spams will be more direct. In Exchange 2000 the VRFY-command is no longer supported. 
<p>
Refer to <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;289521">http://support.microsoft.com/default.aspx?scid=kb;en-us;289521</a> Disabling NDRs at all is not really a good idea as senders, who accidently misspell the mailaddress will get no reply that their mail was not delivered. 
<p>
As John said, redlisting should help to protect the whitelist from adding the NDR-receivers
<br><i>2003-Sep-04  2:02pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=76&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:02pm</i>
</td></tr>

<!--Item: Can I use Exchnage 2000 Public folders to report spam / notspam?  file: 77--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_77"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>Can I use Exchnage 2000 Public folders to report spam / notspam? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I created public folders, named &quot;Spam&quot; and &quot;Nospam&quot;, and tell our users copy mail examples on it. 
<p>
Then on Exchange machine, on disk M: (virtual disk for Exchange mail storage) I can find .eml files in plain text format (header+body), just copy it to c:\assp\spam and nospam, and use move2num.pl to convert file names to numbers. This task easy to automatize with .bat files. 
<p>
Users not need change it client's configuration (our organization use Outlook as MAPI client on most workstations) 
<p>
Users, who connect to Exchange over SMTP/POP3/IMAP, can forward spam to Public Folder's mailbox adress. 
<p>
I think it's useful methode for such configuration. 
<p>
See also <a href="http://sourceforge.net/forum/forum.php?thread_id=897310&amp;forum_id=235332">http://sourceforge.net/forum/forum.php?thread_id=897310&amp;forum_id=235332</a>
<br><i>2003-Sep-04  2:03pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=77&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:03pm</i>
</td></tr>

<!--Item: HOWTO: Change the SMTP port in Exchange  file: 79--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_79"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>HOWTO: Change the SMTP port in Exchange </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>You CAN change the SMTP Port on Exchange 5.5 - quite easy, but not well documented: 
<p>
Look for the &quot;services.&quot; file (usually at c:\winnt\system32\drivers\etc\) 
<p>
load this in the editor and change the port number for SMTP to anything other than 25. Make sure Editor does not add any file extension to this file upon save or remove it afterwards. 
<p>
done. 
<p>
Exchange 5.5 reads this file on startup and uses whatever port there is for SMTP. 
<br><i>2003-Sep-04  2:05pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=79&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:05pm</i>
</td></tr>

<!--Item: HOWTO: Modification to make exchange public folder for whitelist additions?  file: 80--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_80"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>HOWTO: Modification to make exchange public folder for whitelist additions? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I have ASSP set up and proxying for Exchange 2000. As someone suggested, I created public folders for spam/notspam reporting, and have those messages moved over into ASSP on a nightly basis. I wanted to be able to make whitelist additions the same way and not have to resort to the email or web interfaces... 
<p>
So here's my very first Perl hack. I'd love to hear from any of you Perl programmers (particularly JohnH, of course) on whether this is broken in any way or if there's simply a better way of doing it. 
<p>
I added these two subroutines to ASSP.PL (doesn't matter much where they go - as long as it isn't in the middle of an existing routine...): <br>
<pre> ################ HACK
 sub FileWhiteCheck {
  local $_;
  mlog(0,&quot;looking for file-based whitelist additions...&quot;);
  foreach $filename (glob(&quot;$base/whitelst/*&quot;)) {
    open(F, &quot;&lt;$filename&quot;) or next;
    while(&lt;F&gt;) {
      last if /^[\r\n]*$/;
      for $a ($_=~/^From:.+?([^&lt;&gt;,;&quot;'\(\)\s]+\@[^&lt;&gt;,;&quot;'\(\)\s\?]+)/g) {
        FileWhiteAdd($a);
      }
    }
    close(F);
    unlink ($filename);
  }
 }
 sub FileWhiteAdd {
  my($a)=@_;
  if ($a=~/\@($localDomains)$/) {
    # can't add local users to whitelist
  } elsif( $Whitelist{lc $a} ) {
    # already on whitleist
  } else {
    # ok, add it
     mlog(0,&quot;file new whitelist addition: $a&quot;);
     $Whitelist{lc $a}=time;
  }
 }
 ################ HACK</pre>
<p>
Then in ASSP's existing MainLoop right before the first call to SaveWhitelist(line 575 of version 0.3.2) I added a call to FileWhiteCheck: <br>
<pre> if($time &gt;= $saveWhite) {
  d(9);
  FileWhiteCheck();
  &amp;SaveWhitelist;
  $saveWhite=$time+$UpdateWhitelist;
 }<br></pre>
You can obviously make this fancier by adding configuration parameters and the like, but I wanted to make as few changes as possible to the existing ASSP. 
<p>
Note that FileWhiteCheck looks for ANY files in the subdirectory &quot;whitelst&quot; (the 'i' is missing so that it doesn't conflict with the existing &quot;whitelist&quot; file) AND WILL DELETE THEM AFTER PROCESSING! You've been warned... 
<p>
My search for whitelist additions in the messages is also a bit different from JohnH's: I only look for addresses in the first line of the message's &quot;From:&quot; header. Any other addresses are ignored. 
<p>
-Oscar<br>
<br><i>2003-Sep-04  2:06pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=80&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:06pm</i>
</td></tr>

<!--Item: How to trick Exchange 5.x to forward outgoing mails through ASSP file: 97--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_97"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>How to trick Exchange 5.x to forward outgoing mails through ASSP</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
Microsoft Exchange-Server is not easily tweaked to run flawlessly with ASSP.

To have all outgoing mails scanned by ASSP for automatic whitelist additions,
Exchange should forward all outgoing mail to the IP:Port address that is
configured on the ASSP machine (might be the same machine).

Unfortunately Exchange 5.x does NOT allow the specification of a port number
for the &quot;forward all mail to ...&quot; setting in the Internet-Connector. 
We therefore have to set the ASSP-Relay-Port to &quot;25&quot; - which usually conflicts
with the port &quot;25&quot; that we use for INBOUND Mail.

My solution: Bind another IP address to the network card on the ASSP machine.

This might sound a little weird but works quite well:
Open &quot;Control Panel / Network&quot;
Pick &quot;TCP/IP&quot; and klick [Properties]
on the &quot;IP Address&quot; tab klick [options]
under &quot;IP-Addresses&quot; ckick [Add] and enter a new IP Address and Netmask
Save all

Example:
ASSP / Exchange on the same machine
local IP address: 192.168.1.1, Netmask 255.255.255.0

Add a second IP Address: 192.168.1.2 netmask 255.255.255.0

Change the SMTP port in \winnt\system32\drivers\etc\services as described in
the Faq-O-Matic to 125

Configure ASSP Ports:
Listen Port: 192.168.1.1:25
SMTP Destination: 192.168.1.1:125
RELAY port: 192.168.1.2:25   &lt;-- bound to the other IP
RELAY host: mail.yourprovider.com:25

Mailflow:

sending SMTP-Server 
   ----&gt; (firewall mail.yourdomain.com:25) 
   ----&gt; ASSP 192.168.1.1:25 
   ----&gt; Exchange 192.168.1.1:125

Exchange-User 
   ----&gt; Exchange Server 
   ----&gt; ASSP(Relay) 192.168.1.2:25 
   ----&gt; (firewall) 
   ----&gt; mail.yourprovider.com:25

This works equaly well if ASSP is running on a different machine. Normally
there should be no problem to have the PC listen to another internal IP
address as long as it is in the same subnet and is not used otherwise.

If the ASSP-Machine uses an official IP address for which you would avoid to
add another OFFICIAL address you might add one of the 10.x.x.x/255.0.0.0 range
but that will probably work only if Exchange is on the SAME machine.</pre><i>2003-Sep-15  9:11am ro</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=97&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-15  9:11am</i>
</td></tr>

<!--Item: HOWTO: Use an Exchange 2000 Virtual Server instead of your ISP. file: 105--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=6 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_105"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>HOWTO: Use an Exchange 2000 Virtual Server instead of your ISP.</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>In your documentation regarding Exchange you state that if you want to run ASSP and Exchange 2000 on the same box you need a second SMPT server. This is not quite correct. While it will work its not really necessary to have a second separate SMPT server. You can add a new SMTP Virtual server under Exchange admin. I created a new virtual server as the smart host.
<p>
Incoming:<br>
Internet-&gt;ASSP(25)-&gt;Default Virtual SMTP Server(225)
<p>
Outgoing:<br>
Default Virtual SMTP Server(225)-&gt;ASSP(25)-&gt;ASSP Relay SMTP Virtual Server(125)-&gt;Internet
<p>
This worked flawlessly
<p>
Thought this might be of interest to you and your users<br>
Cliff Williams
<br><i>2003-Oct-06 10:49am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Mail Routing:<br>
Incoming
<pre> Internet-&gt;ASSP-&gt;Default SMTP Virtual Server<br></pre>
Outgoing
<pre> Default Virtual Server-&gt;ASSP-&gt;Relay SMTP Virtual Server-&gt;Internet<br></pre>
Detailed How To:<br>
==================================<br>
Configuring ASSP for Exchange 2000 single server implementation.
<p>
Overview:<br>
This explains how to setup ASSP on an Exchange 2000 server in a single server implementation. This implementation utilizes 2 SMTP virtual servers setup in Exchange 2000.
<p>
Step 1:<br>
Assign 3 IP addresses to your Exchange server (I'm assuming you know how to do this). In this example we will be using the following addresses:
<p>
10.5.200.2 This is the inside address that ASSP listens on. It is also the address that the firewall routes SMTP to and the address of the Default SMTP Virtual Server.<br>
10.5.200.3 This is the address of the SMTP Virtual Server used by ASSP to route mail to the internet<br>
10.5.200.4 This is the address ASSP uses to accept connections from your exchange server. This will be your smart host.
<p><br>
Step 2:<br>
We will need to modify the Default SMTP Virtual Server and create a new virtual server. These servers will operate on ports other than the default 25. In this example we will be using 125 &amp; 225. ASSP should not be running. If it is stop it.
<p><br>
Open Exchange System Manager and expand the Servers node. <br>
Then expand the server node you are going to work on. <br>
Expand the Protocols node and click on SMTP.<br>
In the result pane, right click on the Default SMTP Virtual Server and select Properties.
<p><br>
In the IP address drop down, select the original IP address for your server. In our example this is 10.5.200.2.
<p><br>
Click the Advanced button, then click the IP address in the list and click Edit. Change the port to 125. Click OK, then Apply and OK.
<p><br>
Now, right click in the white space in the result pane and select New SMTP Virtual Server.
<p><br>
In the Name Field give this server a name. I used &quot;ASSP Relay Host&quot; click next. Now select an IP address from the drop down list. In our example we'll use 10.5.200.3.  Click finished. (you will see a question mark on the new server)
<p><br>
Now right click on the new virtual server and choose Properties. Click Advanced and change the port to 225. Click Ok and OK.
<p><br>
Right click on both Virtual servers and stop them. This will prevent them from colliding with ASSP if there is an interface:port conflict. 
<p><br>
Step 3:<br>
Install ASSP if you have not already done so. 
<p><br>
Start ASSP from the command line. (we will start the service later). <br>
perl assp.pl
<p><br>
Open the Configuration web page. <a href="http://localhost:55555">http://localhost:55555</a>
<p><br>
Click &quot;Show Advanced Configuration Options, scroll to the bottom and click Apply Changes.
<p><br>
Now, in the SMTP Destination enter the IP:port of your Default SMTP Virtual Server. In our example. 10.5.200.2:125
<p><br>
Click As a Service if it's not already checked.
<p><br>
Change the Listen Port to the IP:port that incoming SMTP connection will be made on. Example. 10.5.200.2:25
<p><br>
Enter an alternate if you like. Remember to change your password.
<p><br>
Under Relaying make these changes.
<p><br>
Add your local subnet to the Accept All Mail field. Example: 10.5.<br>
Enter your local Domains
<p><br>
In Relay Host enter your ASSP Relay Virtual Server. Example 10.5.200.3:225<br>
In Relay Port enter the 3rd address we created on port 25. <br>
Example 10.5.200.4:25
<p><br>
Configure all other parameters as you see fit and click &quot;apply changes&quot;.
<p><br>
Shut down ASSP.
<p><br>
Start the ASSP Service.
<p><br>
Step 4:<br>
In your local DNS (local not public) enter a host name for your Relay Port IP address. I called mine smarthost. As of Service Pack 3 Exchange will no longer allow you to enter an IP address for the smart host.
<p><br>
In Exchange System Manager right click on the Default Virtual Server and choose properties. Click the Delivery tab, and then click the Advanced button.<br>
In the Smart Host field enter the FQDN of your smart host virtual server created above. Example: smarthost.domain.com
<p><br>
Click OK, Click OK.
<p><br>
Start both Virtual SMTP servers.
<p><br>
If any of the servers fail to start you have an address:port conflict somewhere.  Most likely ASSP is colliding with one of your virtual servers.
<p><br>
This configuration should work fine for small to mid size organizations. Larger organizations should separate these services on different boxes.
<br><i>2003-Oct-17  3:45pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I've followed your instructions to the T but mail is still going out through the Default SMTP Virtual Server.  I came to that conclusion by looking at the Queues under the Default SMTP Virtual server.  With the configurations you outlined, shouldn't mail flow out through the ASSP Relay Host/Virtual Server?
<br><i>2004-Mar-29 11:47am eric.mallo</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=5&cmd=editPart&file=105&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Mar-29 11:47am</i>
</td></tr>

<!--Item: HOWTO: Exchange 2003 to check for valid recipients file: 194--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_194"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> : <a href="#file_75"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Microsoft Exchange </a> :
<br><font size="+1"><b>HOWTO: Exchange 2003 to check for valid recipients</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>from <a href="http://hellomate.typepad.com/exchange/2003/09/exchange_2003_r.html">http://hellomate.typepad.com/exchange/2003/09/exchange_2003_r.html</a>
<p>
With Exchange 2003, there's now a Recipient Filtering option to be found in Exchange System Manager, under Global Settings / Message Delivery. This simply allows you to block messages that are sent to specific recipients.
<p>
There's also an interesting tick box titled 'Filter recipients who are not in the Directory'. You might wonder why you'd want to filter messages that are addressed to non-existant users - after all, the server will just send a non-delivery report (NDR) back to the sender.
<br><i>2004-Jun-04  1:25pm advonet</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=194&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-04  1:25pm</i>
</td></tr>

<!--Item: ASSP and OS/2  file: 78--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_78"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>ASSP and OS/2 </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I had perl 5.8/OS2 installed and also i had wget and bzip2 and wget in my path. 
Also i created a file updatednsbl.cmd for periodic updates<br>
<pre> wget <a href="http://spfilter.openrbl.org/data/output/DEFAULT.octets.bz2">http://spfilter.openrbl.org/data/output/DEFAULT.octets.bz2</a> --output-document=dns.bz2
 if not exist dns goto cont
 if exist dns.sav del dns.sav
 ren dns dns.sav
 :cont
 bzip2 -d dns.bz2
 perl dnsbl.pl dns</pre>
<br><i>2003-Sep-04  2:04pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=78&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:04pm</i>
</td></tr>

<!--Item: HOWTO: Post.Office  file: 81--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_81"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: Post.Office </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>NT only: How do I change the SMTP Port 25 something else? 
<p>
That information is stored in the registry and can be modified for Post.Office. <br>
1. As a local NT Administrator for that host, open the Registry Editor. <br>
2. Within HKEY_LOCAL_MACHINE select: 
SOFTWARE -&gt; Software.com -&gt; post.office -&gt; SMTP-Accept -&gt; Config <br>
3. Double-click on the &quot;Socket&quot; Key to edit it. <br>
4. Change the value from 25 to 26 (for example) and click on OK. <br>
5. If you do not have permission to save this value, you will need to: select the Security Menu Option -&gt; Owner…-&gt; Take Ownership; select the Security Menu Option again -&gt; Permissions -&gt; ; highlight your administrative self; select the Type of Access Pull Down and select Full Control; select OK; now try the edit the Socket Key. <br>
6.You will now need to stop and start the Post.Office service in your Control Panel - Services Window. 
<br><i>2003-Sep-04  2:07pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=81&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:07pm</i>
</td></tr>

<!--Item: HOWTO Change the SMTP port for Lotus Notes  file: 85--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_85"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO Change the SMTP port for Lotus Notes </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>For Release 4.6.1 or greater of IBM/Lotus Domino, you could add SMTPMTA_IPPORT=xxx to your notes.ini and change that way the SMTPMTA lisener port. After you have changed this value, you need to restart the SMTPMTA and the native Domino router. 
<p>
For Release 5 of IBM/Lotus Domino you need to change the Internet Ports in the Server document. See attachment Domino_R5_Server_Document.jpg or Domino_R5_Server_Document.png After you have changed this value in the Server document, you only need to restart the Domino router. 
<p>
For Release 6 of IBM/Lotus Domino you need to change the Internet Ports in the Server document. See attachment Domino_R6_Server_Document.jpg or Domino_R6_Server_Document.png After you have changed this value in the Server document, you only need to restart the Domino router. 
<p>
Kind Regards from Switzerland<br>
SteveB
<br><i>2003-Sep-04  2:10pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=85&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:10pm</i>
</td></tr>

<!--Item: HOWTO: General instructions for any non-SMTP mail server (MS Exchange, Lotus Notes, etc)  file: 86--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_86"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: General instructions for any non-SMTP mail server (MS Exchange, Lotus Notes, etc) </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I’m writing specific instructions for how to install ASSP with Microsoft Exchange, but the process is the same for other servers. 
<p>
You need to make some choices: Will ASSP run on the same box as Exchange? ASSP requires a second mail server to deliver internet mail; will you use your ISP’s mail relay host, or configure your own secondary mail server (in addition to Exchange)? If so, what server will you use? 
<p>
I'll explain two ways to do this. 
<p>
The first way works best with two servers. I’ll assume you have Exchange running on one server and that you run ASSP and qmail on a separate FreeBSD server. (You can use many other possibilities, but I’ll describe this setup. Actually Windows with Mercury will work equally well.) This setup looks like this: 
<p>
Internet -&gt; ASSP -&gt; qmail -&gt; exchange -&gt; client<br>
and<br>
Client -&gt; Exchange -&gt; ASSP -&gt; qmail -&gt; Internet 
<p>
Set up your FreeBSD server with perl and qmail. (see <a href="http://www.freebsd.org/">http://www.freebsd.org/</a> ) Make sure it’s working on the network. Edit /etc/services and change SMTP from 25 to 125. Create a group and user called assp. Install ASSP to the assp user’s home. (These are suggestions – do something else if you prefer.) Verify that qmail relays mail for 127.0.0.1. Configure any mail applications (web mail or local clients) to use SMTP for delivery and not sendmail. 
<p>
Direct your DNS MX for Exchange’s domain to the ASSP / qmail box. Configure qmail to route mail for Exchange’s domain to Exchange’s IP. (Depending on your mail server this may be tricky. One option might be to put the Exchange's IP in the /etc/hosts or /winnt/services32/drivers/etc/hosts file associated with the mail host in your DNS MX.) 
<p>
Configure ASSP this way: Listen Port = 25, SMTP Destination = 125, Accept All Mail = exchange server, 127.0.0.1 and whatever else you like. 
<p>
Configure Exchange to route all Internet mail to the ASSP / qmail box. 
<p>
That’s it. Please read the documentation to know how to set up your spam and notspam collections, prime the whitelist, rebuild your spamdb, customize ASSP’s configuration settings for your site, and more. 
<p>
This is the more complicated, but more flexible way. 
<p>
If you plan to run everything on one box and you’re not planning to use your ISP’s mail relay, you can use Mercury (see <a href="http://www.pmail.com">http://www.pmail.com</a>) or even IIS’s SMTP service. Be sure you’re familiar with their configuration options and limitations. 
<p>
Incoming mail will follow this path: 
<p>
Internet Mail -&gt; DNS MX record -&gt; (port 25) ASSP -&gt; Exchange -&gt; Clients 
<p>
Outgoing mail will follow this path: 
<p>
Client -&gt; Exchange (Smart host) -&gt; (Relay port) ASSP -&gt; ISP’s Mail Relay<br>
or<br>
Client -&gt; Exchange (Smart host) -&gt; (Relay port) ASSP -&gt; local secondary SMTP 
<p>
If ASSP and Exchange are on the same box, you need to move Exchange’s SMTP port. Different mail servers allow you to do this in different ways. You may find a configuration menu like Domino / Notes: Ports -&gt; Internet Ports -&gt; Mail -&gt; SMTP Inbound. For Exchange you need to look in c:\winnt\system32\drivers\etc\services and edit the SMTP line so say 125 instead of 25. (You can use any port you want, but use ports consistently and be sure that your firewall protects ports appropriately.) Save the file (make sure your editor didn’t add a .txt). You may need to restart Exchange. 
<p>
In the ASSP Configuration web page (<a href="http://127.0.0.1:55555/">http://127.0.0.1:55555/</a>) put Exchange’s address in the SMTP Destination: 127.0.0.1:125 perhaps. 
<p>
If ASSP and Exchange are on the same box put your public IP : 25 in the “Listen Port” box. For example, 220.1.2.3:25. Then put 127.0.0.2:25 in ASSP’s “Relay Port” and the address of your ISP’s mail relay or your secondary SMTP server in the “Relay Host.” For example: smtp.localhosting.com:25 or 127.0.0.1:325. Configure Exchange to route all Internet mail to 127.0.0.2. 
<p>
If ASSP and Exchange are on separate boxes, you need to assign a second IP address (often called an alias) to the ASSP box. (If Exchange is on a private network and your ASSP box is on both the public and private networks, so it already has two addresses, you can skip this step.) Let’s assume you have given ASSP 220.1.2.3 and 220.1.2.4. Your Mail MX should point to 220.1.2.3, and ASSP should have 220.1.2.3:25 for its “Listen Port.” 220.1.2.4:25 should be the “Relay Port” and your firewall should block external connections to 220:1.2.4:25. Configure Exchange to route all Internet mail to 220:1.2.4. 
<p>
Don’t forget to click submit on the ASSP configuration page to accept the changes. 
<p>
If you are using a secondary SMTP server, configure it to listen on port 325. (You can use any port you want, but use ports consistently and be sure that your firewall protects ports appropriately.) Configure it to accept all connections/mail from ASSP for relaying, and disable any message size limitations.
<p>
See also the note on how to use the email interface with Exchange / Notes, etc at <a href="#file_45"><img src="http://assp.sourceforge.net/fom/bags/ans-also.gif" alt="(Xref) " border=0 width=21 height=14>How do I use the email interface with Exchange, Notes, or a RelayHost / RelayPort setup? </a>. 
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=86&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-05 10:10am</i>
</td></tr>

<!--Item: HOWTO: ASSP and TLS or secure SMTP.  file: 87--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_87"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP and TLS or secure SMTP. </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>TLS or Transport Layer Security is one method of securing SMTP connections. It is beyond the scope of the project to add TLS to the ASSP program. However you can use the free tool, Stunnel (see <a href="http://www.stunnel.org">http://www.stunnel.org</a>) to achieve the desired result. 
<p>
Start by downloading and installing stunnel as described on their website. Note that in Windows you can use srvany.exe and ntinstsrv.exe to run stunnel as a service. Your &quot;Parameters/Application&quot; registery entry will be something like this:<br>
<pre> c:\service\stunnel.exe -D 0 -d 465 -r 127.0.0.2:25 -p c:\service\stunnel.cer -n smtp<br></pre>
(I'm seeing now that version stunnel 4 can make it's own service and uses a config file -- use protocol = smtp.) 
<p>
Set ASSP to &quot;allow all mail&quot; from 127.0.0.1 (if you like) but exclude 127.0.0.2. Stunnel will connect to ASSP on that port, and ASSP will treat these connections as non-local. Enable SMTP authentication on your email client. (Your mail transport must also support authentication.) 
<p>
If your mail server doesn't support authentication you can run with ASSP &quot;allow all mail&quot; from the stunnel connection, but you create an open relay. Generally spammers haven't used TLS / port 465 / Secure SMTP as open relays, but they might start doing that at any time, so this configuration is not recommended. 
<br><i>2003-Sep-04  2:23pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=87&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:23pm</i>
</td></tr>

<!--Item: HOWTO: Change the SMTP port in Courier-MTA?  file: 88--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_88"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: Change the SMTP port in Courier-MTA? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Look in /etc/courier (maybe /usr/local/etc/courier) for a file esmtpd 
<p>
There should be a line PORT=smtp 
<p>
Change that to 
<pre> PORT=125<br></pre>
(or whatever port you like) 
<p>
Restart courier. 
<br><i>2003-Sep-04  2:24pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Randy writes:
<p>
We're using courier-mta here on a bunch of machines and
will be consolidating the SPAM analysis to a single point of entry
to simplify and unify the data. During the process of setting up
a machine (that acts as a firewall, i.e., two (2) nics) we found
that courier happily binds to each nic for smtp listening.
<p>
Actually, it's documented to work that way and it does.
<p>
We had to get very specific with courier's etc/esmtpd file entry,
using the following line:
<p>
<pre> PORT=127.0.0.1.125</pre>
<p>
..to convince it to really only listen to your ASSP proxy on the one
nic (inside). Otherwise, courier would reject the socket bind attempt
to 127.0.0.1:125 (Note: that courier's file uses 127.0.0.1.125 dotted only)
<p>
It took a short while to grok that courier was the culprit, and now it
behaves way better.
<p>
We set up ASSP to be the real honest SMTP service for the machine; and
it handles SMTP connections on both nics without incident.
<p>
Please, if you get a chance, update the FAQ thingy to add some words
about telling courier to be very specific (if it makes sense to you) because
this was really the only issue here - and it was very frustrating. Now, after
the fact, it's pretty obvious - but, as you know, hindsight is..... and all that.
<br><i>2003-Nov-04  2:46pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=88&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-04  2:46pm</i>
</td></tr>

<!--Item: HOWTO: change the smtp port in sendmail file: 89--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_89"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: change the smtp port in sendmail</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Edit Sendmail.cf <br>
Change 
<pre> O DaemonPortOptions=Port=smtp,Addr=127.0.0.1, Name=MTA <br></pre>
to 
<pre> O DaemonPortOptions=Port=125,Addr=127.0.0.1, Name=MTA</pre>
<br><i>2003-Sep-04  2:25pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=89&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:25pm</i>
</td></tr>

<!--Item: HOWTO: ASSP and Antivirus proxies file: 99--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_99"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP and Antivirus proxies</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Generally it's best to put mail through ASSP before going to antivirus proxies. I'll post more on why later.
<br><i>2003-Sep-19 10:23am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I thought I would just give people a heads up in case I am not the only one who didn't think of it.  
<p>
If you use Norton Anti-virus for Exchange on your mail server and have recipient notification turned on, you will add the virus sender's email address to the whitelist every time you receive a virus, because NAV sends them a notification. 
<p>
This is of course easily fixed by turning this feature off which is probably fine, with the types of viruses nowadays it probably isn't notifying the actual sender anyways.  :-)  Or you can add the NAVMSE email address to the redlist. 
<p>
This caught me by surprise so I thought I would share it with the group.  I am probably the only one who didn't think of this before now.  But there you go anyways! :-)
<p>
Ged West
<br><i>2003-Sep-19 10:23am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=99&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-19 10:23am</i>
</td></tr>

<!--Item: HOWTO: ASSP Mysql local domains file: 106--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_106"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP Mysql local domains</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
I am looking into using ASSP for our organization, and ran into a 
situation where I'm using Postfix/Mysql/Courier-Imap - Rather than using 
your config file to specify local domains, I needed to be able to query 
a table in a MySQL database.

If you are interested in offering a similar feature for that config 
entry or others, here is the diff output I used to patch the existing 
codebase for 1.0.3.

14a15,19
 &gt; #20031007 BLF
 &gt; #Note: Added Mysql local database query for domains
 &gt;
 &gt; my %cachedomain;
 &gt;
939a945,985
 &gt; #Added by BLF
 &gt; sub loaddatabase {
 &gt;         use DBI;
 &gt;         my $host = shift;
 &gt;         my $result;
 &gt;         my $count = keys %cachedomain;
 &gt;         if ($count &gt; 10000) {
 &gt;                 %cachedomain = ();
 &gt;         }
 &gt;         if (!(exists $cachedomain{$host})) {
 &gt;                 my (%data) = (
 &gt;                         MySQL_Server =&gt; &quot;localhost&quot;,
 &gt;                         MySQL_Username =&gt; &quot;myusername&quot;,
 &gt;                         MySQL_Password =&gt; &quot;mypassword&quot;,
 &gt;                         MySQL_Transport =&gt; &quot;transport&quot;,
 &gt;                         MySQL_ServerDB =&gt; &quot;postfix&quot;,
 &gt;                 );
 &gt;                 my $dbh = 
DBI-&gt;connect(&quot;dbi:mysql:$data{MySQL_ServerDB}:$data{MySQL_Server}&quot;,&quot;$data{MySQL_Username}&quot;, 
&quot;$data{MySQL_Password}&quot;, { AutoCommit =&gt; 1 }) || { $errorcode= 
$DBI::errstr };
 &gt;                 if ($errorcode) {
 &gt;                         return 0;
 &gt;                 }
 &gt;                 my $queryhost = $dbh-&gt;quote($host);
 &gt;                 my $sth = $dbh-&gt;prepare(&quot;SELECT domain FROM 
$data{MySQL_Transport} where domain = $queryhost&quot;);
 &gt;                 $sth-&gt;execute;
 &gt;                 ($result) = $sth-&gt;fetchrow_array;
 &gt;         } else {
 &gt;                 return $cachedomain{$host};
 &gt;         }
 &gt;         if ($result eq $host) {
 &gt;                 $cachedomain{$host} = 1;
 &gt;                 return 1;
 &gt;         } else {
 &gt;                 $cachedomain{$host} = 0;
 &gt;                 return 0;
 &gt;         }
 &gt; }
 &gt;
944a991,994
 &gt;
 &gt; #Added by BLF
 &gt;  return 1 if &amp;loaddatabase($h);
 &gt;


-- 
Brian Fields</pre><i>2003-Oct-08  9:58am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=106&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-08  9:58am</i>
</td></tr>

<!--Item: HOWTO: ASSP &amp; VPopMail PopBeforeSmtp file: 107--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=6 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_107"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP &amp; VPopMail PopBeforeSmtp</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I have modified the PopB4SMTP subroutine of ASSP.PL in order that 
ASSP is now compatible with the &quot;Pop before SMTP&quot; implementation of 
VPOPMail (the virtual domain manager of Qmail).<br>
For those who are interested, here is the modified code:<br>
<pre> sub ok2Relay {
  my $ip=shift;<br>
  # If you want to allow pop before smtp uncomment this line and implement the PopB4SMTP sub below<br>
  # This must be done first...<br>
  return 1 if PopB4SMTP($ip);<br>
  return 1 if $acceptAllMail &amp;&amp; $ip=~/^($acceptAllMail)/i;<br>
  if($relayHostFile) {
   check4update(relayHostFile);
   return 1 if $relayHostFile{$ip};
  }<br>
  # failed all tests -- return 0
  0;</pre>
}<br>
<pre> # if you want to allow pop before smtp authentication then umcomment the line above
 # where this sub is called and edit this sub to be appropriate for your implementation<br>
 # It sequentially test the text file /users/vpopmail/etc/open-smtp
 # maintained by vpopmail (Guy)<br>
 sub PopB4SMTP {
  my $ip=shift; my $s; my $cip;
  open(PBSMTP,&quot;&lt;$PopB4SMTPFile&quot;) or return 0 ;
  while(&lt;PBSMTP&gt;) {
     $s=index($_,&quot;:&quot;);
     if ($s != 0) {
       $cip=substr($_,0,$s);
       if ($cip eq $ip) {
         mlog(0,&quot;PopB4SMTP OK for $ip&quot;);
         close(PBSMTP);
         return 1;
       }
     }
  }
  close(PBSMTP);
  mlog(0,&quot;PopB4SMTP NOT OK for $ip&quot;);
  return 0;
 }<br></pre>
Guy LOUIS
<br><i>2003-Oct-08  2:01pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Thanks for posting Guy.<br>
Here's one that works with Merak mail, but it may work with others unaltered because of how it works. <br>
My first Perl app, yay!<br>
sub PopB4SMTP {
<pre> return 0 unless $PopB4SMTPFile;
 my $ip=shift;
 my $ind; my $ipMatch; my $preByte; my $postByte;<br>
        open(MKPOPSMTP,&quot;&lt;$PopB4SMTPFile&quot;) or return 0 ;<br>
        while ($line = &lt;MKPOPSMTP&gt;) {
                $ind = index($line,$ip);
                        if ($ind  != 0) {
                                #find the match, and get it and the char before and after
                                #if both of those aren't a number ord(&quot;0&quot;) &amp; ord(&quot;9&quot;) 48 - 57 then I have the whole IP [ord is same as asc]
                                #if not, this is a subset of a larger IP address and thus no good
                                #ex: 66.35.250.203 I don't want to let 66.35.250.20 or 6.35.250.203 or 6.35.250.20 you get the idea<br>
                                $preByte = ord(substr($line, ($ind - 1), 1));
                                $postByte = ord(substr($line, ($ind + length($ip)), 1)); #0 based, so no + 1
                                
                                if ( (($preByte &lt; 48) || ($preByte &gt; 57)) &amp; (($postByte &lt; 48) || ($postByte &gt; 57)) ) {
                                        close(MKPOPSMTP);
                                        mlog(0,&quot;PopB4SMTP OK for $ip&quot;);                         
                                        return 1;                               
                                }       
                        }
        }
        close(MKPOPSMTP);
        mlog(0,&quot;PopB4SMTP NOT OK for $ip&quot;);
        return 0;</pre>
}
<br><i>2004-Feb-11  9:22pm chris</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
sub PopB4SMTP { 
 return 0 unless $PopB4SMTPFile;
 my $ip=shift;
 my $ind; my $ipMatch; my $preByte; my $postByte;
        open(MKPOPSMTP,&quot;&lt;$PopB4SMTPFile&quot;) or return 0 ;
        while ($line = &lt;MKPOPSMTP&gt;) {
                $ind = index($line,$ip);
                        # Here was my bug. I had Not 0, which was true for -1;
                        # Well, that just goes to show you
                        if ($ind  &gt; 0) {
                                #find the match, and get it and the char before and after
                                #if both of those aren't a number ord(&quot;0&quot;) &amp; ord(&quot;9&quot;) 48 - 57 then I have the whole IP [ord is same as asc]
                                #if not, this is a subset of a larger IP address and thus no good
                                #ex: 66.35.250.203 I don't want to let 66.35.250.20 or 6.35.250.203 or 6.35.250.20 you get the idea
                                $preByte = ord(substr($line, ($ind - 1), 1));
                                $postByte = ord(substr($line, ($ind + length($ip)), 1)); #0 based, so no + 1
                                
                                if ( (($preByte &lt; 48) || ($preByte &gt; 57)) &amp; (($postByte &lt; 48) || ($postByte &gt; 57)) ) {
                                        close(MKPOPSMTP);
                                        mlog(0,&quot;PopB4SMTP OK for $ip&quot;);                         
                                        return 1;                               
                                }       
                        }
        }
        close(MKPOPSMTP);
        mlog(0,&quot;PopB4SMTP NOT OK for $ip&quot;);
        return 0;
} </pre><i>2004-Feb-13  8:23pm chris</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=107&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Feb-13  8:23pm</i>
</td></tr>

<!--Item: HOWTO: ASSP &amp; SAV on the same server file: 108--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_108"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP &amp; SAV on the same server</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>By: vreiner ( Victor Reiner ) 
<pre> RE: can't send outbound mail   </pre>
2003-10-10 16:41  
<p>
When I changed the setup as discussed, I still was unable to deliver outbound mail. Strangely, the fix was to change the ASSP's &quot;SMTP Destination&quot; field from 127.0.0.1:125 to 10.100.10.54:125 (the assigned IP address). Everything is working fine now.  
<p>
-----------------------<br>
ASSP can't perform delivery to the destination mail servers because it's a proxy, not a mail transport. Please re-read the page discussion how to setup assp with exchange.
<p>
You must involve another mail transport to make this work, (note the new post in the online documentation that apparently with exchange 2000 or better you can create a &quot;virtual server&quot; to handle this -- I'm no exchange guru, so don't ask me how this works.)
<p>
If you're going to use SAV in the process on both incoming and outgoing mail you must set it up like this:
<p>
Internet -&gt; assp -&gt; sav -&gt; SMTP2 -&gt; exchange -&gt; clients
<p>
Clients -&gt; exhcnage -&gt; assp -&gt; sav -&gt; SMTP2 -&gt; internet
<p>
Note that assp -&gt; sav -&gt; smtp2 is the same in both setups.
<p>
SMTP2 is your second smtp server and can be IIS's smtp, or an exchange virtual server, or Mercury, but it can't be the same SMTP that receives your internet mail for exchange users. (I duno, some exchange guru is gona come up with some crazy way to get client mail out through a relay host throug assp and sav and back into exchange's smtp connection then out to the internet, but that sounds pretty twisted to me. I suppose that's what the virtual server does.)
<p>
You don't need to use ASSP's relay port / relay host to do this.
<br><i>2003-Oct-10  2:10pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>vreiner ( Victor Reiner ) 
2003-10-31 20:25  
<p>
Not being an SMTP guru, what is the purpose of the &quot;Send NOOP Info&quot; option? I've searched the forums and docs and not found anything enlightening. I'm hoping it will fix an error I get a LOT of in my application error log:<br>
<pre> Event Type: Warning
 Event Source: Symantec AntiVirus for SMTP Gateways
 Event Category: None
 Event ID: 2
 Date: 10/31/2003
 Time: 12:05:42 PM
 User: N/A
 Computer: EMAILSERVER
 Description:
 Error 0 receiving data from remote host. (10.100.10.54) </pre>
<p>
It seems to occur with each message tagged as spam, and it occurs with Test Mode on and off. 
<p>
--------------
<p>
vreiner ( Victor Reiner ) 
2003-11-03 18:17  
<p>
I checked with Symantec on this, and it is neither possible to reduce the level of verbosity nor even turn this warning off. I put it into them as a suggestion....
<p>
You might want to place a note in the SAV section of the docs to warn people that this is &quot;normal&quot; for an installation of ASSP with SAV and not changeable/fixable at least right now.  
<br><i>2003-Nov-04 10:36am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=108&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-04 10:36am</i>
</td></tr>

<!--Item: HOWTO: ASSP &amp; Merak Mailserver file: 110--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_110"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP &amp; Merak Mailserver</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ladylong ( Ruth Rogers ) wrote on 2003-10-15 00:59  
<p>
From someone who learned the hard way!
<p>
Add 127.0.0.1 to the &quot;bypass tarpitting&quot; list, or else when things get busy Merak will Tarpit ASSP and it won't be able to process mail for the next hour (or whatever your tarpitting timeout is set to).
<br><i>2003-Oct-15  8:20am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=110&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-15  8:20am</i>
</td></tr>

<!--Item: HOWTO: ASSP &amp; Fetchmail file: 119--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_119"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP &amp; Fetchmail</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>By: mfwiniberg
<p>
Applicable to versions 1.0.6 onwards unless ASSP operation changes
significantly!
<p>
I have spent some time trying to make ASSP work on a linux system that fetches
mail from our ISP via fetchmail, and forwards it to our users via Sendmail.
This is a fairly common configuration for a linux mailserver that is not permanently
connected to the internet.
<p>
In our case this set-up is also used because our ISP has an excellent virus
filtering system for
email which we could not economically replicate in-house.
<p>
ASSP has a problem in this type of configuration though:
<p>
To filter email, ASSP has to be interposed between fetchmail and sendmail. The
problem arises because, when running in it's full fitering mode (ie not testmode)
ASSP tells fetchmail to send a rejection message back to the SMTP server before
discarding the mail - unfortunately, ASSP then closes the socket which was opened
for mail delivery in the first place, fetchmail sees that its socket has closed
and promptly shuts down. In testmode, however, as all mails are delivered regardless,
everything works as expected.
<p>
It seemed obvious to me that the way to make ASSP work in these circumstances
was to leave it in test mode, and to get sendmail to deal with any mails marked
as spam by ASSP. Combine this with the ASSP spamtrap facility, and you can have
all emails delivered, but stop the spam reaching your end-users.
<p>
So:
<p>
Setup ASSP/Sendmail as describe in the ASSP documentation.
<p>
Configure ASSP to run in testmode, have it mark all spam email Subject lines
with something that
is almost certainly unique eg TRAPPEDSPAM.
<p>
If you want to retain copies of all email regardless, configure a spam trap
account and have ASSP
copy all identified SPAM to it - note that this happens before the header is
changed and hence the emails will be accepted by the altered sendmail configuration
below, and placed in the trap.<br>
<pre>     Add the following to your sendmail configuration file (usually</pre>
/etc/sendmail.cf)<br>
<pre>     In the FORMAT OF HEADER area add (&lt;tab&gt; represents a tab character - tabs</pre>
are separators in sendmail)
<p>
<pre> HSubject:&lt;tab&gt;$&gt;75&lt;tab&gt;Used to sheck for spam mail marked by ASSP</pre>
<p>
<pre>     Add a new rule set 75 (if this number is already in use, pick one that</pre>
isn't and use that both here and in the above H line<br>
<pre> S75
 RS*TRAPPEDSPAM$*&lt;tab&gt;$#discard $: discard</pre>
<p>
If you get this all correct, then emails identified by ASSP will have their
headers marked with<br>
<pre> Subject: [TRAPPEDSPAM] ...</pre>
<p>
Sendmail will see that in the subject and discard the mail!
<p><br>
Note that this setup does mean that all email presented to your server will
be downloaded - for
busy systems this may be too expensive in bandwith/server load, but it is perfect
for us (about 1000 email per day including spam).
<p>
Mike
<br><i>2003-Oct-31 11:10am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=119&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Oct-31 11:10am</i>
</td></tr>

<!--Item: HOWTO: ASSP on Mitel SME (E-Smith) file: 121--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_121"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP on Mitel SME (E-Smith)</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Here is a link to a 4 page setup.
It doesn't mention some file &amp; directory permissions but it is enough to get you up and running.<br>
<a href="http://www.sonoracomm.com/sonoracomm/pdf/ASSP_HOWTO.pdf">http://www.sonoracomm.com/sonoracomm/pdf/ASSP_HOWTO.pdf</a>
<br><i>2003-Oct-31  8:24pm joe</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I've added a mirror here:
<a href="http://assp.sourceforge.net/ASSP_SME_HOWTO.pdf">http://assp.sourceforge.net/ASSP_SME_HOWTO.pdf</a>
<br><i>2003-Nov-19  9:31am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=121&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-19  9:31am</i>
</td></tr>

<!--Item: HOWTO: automatically restart ASSP if it dies in *nix file: 146--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_146"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: automatically restart ASSP if it dies in *nix</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
#!/usr/pkg/bin/bash

#
# ASSP watchdog process.
# This should be run from ROOTs crontab.
# joehodge

#
# Start in the correct direcroty.
#
cd /usr/local/assp-1.0.7

#
# Check for a running ASSP process.
#
PROC=`pgrep -f -U 10000 assp`

#
# If ASSP is not running, start it.
#
if [ &quot;${PROC}&quot; = &quot;&quot; ]
then {
echo &quot;Restarting ASSP.&quot;
ulimit -d unlimited
perl assp.pl `pwd`
}
fi</pre></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=146&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-02 12:56pm</i>
</td></tr>

<!--Item: HOWTO: NAV for Gateways, IIS SMTP -&gt; Exchange file: 152--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_152"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: NAV for Gateways, IIS SMTP -&gt; Exchange</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>This explains how to setup ASSP for on Windows 2000 Server running Norton's
Anti-Virus for Gateways with an a IIS SMTP Virtual Server forwarding to an
internal Exchange 5.5 server.
<p>
*************************************<br>
The route my mail takes -<br>
Incoming<br>
Internet-&gt;ASSP(25)-&gt;Norton's Anti-Virus for Gateways(225)-&gt;SMTP Virtual
Server(125)-&gt;Firewall-&gt;Exchange Server(25)-&gt;Clients 
<p>
Outgoing<br>
Clients-&gt;Exchange Server(25)-&gt;Firewall-&gt;ASSP(25-2nd IP)-&gt;Norton's Anti-Virus
for Gateways(225)-&gt;SMTP Virtual Server-&gt;Internet
<p>
*****************************************<br>
The SMTP Virtual Server -<br>
Assign 2 IP addresses to your Windows 2000 mail server.  As an example I
will be use private addresses:
<p>
192.168.0.1 This will be the address that ASSP listens on. It is also
the address of the Default SMTP Virtual Server.<br>
192.168.0.2 This will be the address of the relay port used by Exchange
as a &quot;smart host&quot; to forward all outgoing mail to.
<p>
Install IIS.  <br>
Open the Information Systems Manager. <br>
Right click on the Default SMTP Virtual Server and select Properties.<br>
Select the original IP address for your server. In our example this is
192.168.0.1.<br>
Click the Advanced button, then click the IP address in the list and click
Edit. Change the port to 125. Click OK, then Apply and OK.
<p>
Right click on the Default SMTP Virtual Server and click New, and select
Domain.<br>
In the &quot;Create New Domain&quot; Wizard choose &quot;Remote&quot; click next, type your
local email domain domain.com (you don't need the @ symbol) then click ok.
<p>
In the left pane of the Information Systems Manager expand your Default SMTP
Virtual Server, double click on the &quot;Domains&quot; folder, right click on your
domain name and choose Properties.  In the Properties choose &quot;Allow all
incoming mail to be relayed through this server.&quot; and select &quot;route all
incoming mail to this host&quot; and type in the IP address of your Exchange
Server(or the IP that answers for it on your firewall)and click ok.
<p>
Right click on the Virtual server and stop it.
<p><br>
Installing Norton anti-Virus for Gateways -
<p>
Double click on the NAVGW icon. Logon and click on the &quot;Configure&quot; button.<br>
Configure notification - Do NOT SEND NOTIFICATION TO SENDER! That will add
spammers to your whitelist! Click save.<br>
Click on the SMTP Tab, set SMTP Port to 225 click save.<br>
Click on Relay tab, add 127.0.0.1 port 125 as the default relay host to
route all mail to.  That will send everything to the SMTP Virtual server
after being scanned. Click save.<br>
<pre> <br></pre>
Setting up ASSP. 
<p>
Start ASSP. 
<p>
Goto <a href="http://localhost:55555">http://localhost:55555</a>
<p>
Click &quot;Show Advanced Configuration Options, scroll to the bottom and click<br>
Apply Changes.<br>
in the &quot;SMTP Destination&quot; enter the IP:port of NAVGW - 127.0.0.1:225
<p>
Add your local subnet to &quot;Accept All Mail&quot; - 192.168.<br>
Add your local Domains - i.e. domain.com
<p>
In the &quot;Relay Host&quot; enter the NAVGW port - 127.0.0.1:225<br>
In &quot;Relay Port&quot; enter the 2rd address we created - 192.168.0.2:25. 
<p>
Configure all other parameters as you see fit and click &quot;apply changes&quot;.
<p>
Shut down ASSP.
<p>
On your Exchange Server, in the &quot;Connections&quot; tab of the IMS, choose
&quot;Forward all messages to Host:&quot; and put 192.168.0.2 in the box.  
<p>
Start the Virtual SMTP server.
<p>
Start ASSP.
<p><br>
Ged West
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=152&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-11  1:41pm</i>
</td></tr>

<!--Item: HOWTO Change the SMTP port for IMAIL file: 158--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_158"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO Change the SMTP port for IMAIL</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
In versions before 7.10 you have to change the listening port for SMTP in the Windows Registry.
1: Run regedit
2:Go to HKEY_LOCAL_MACHINES/System/CurrentControlSet/Services/SMTPD32/Parameters
3:If you do not have a Value named &quot;Port&quot; on the right side, then you will need to create one.
4:Click on edit | New | DWORD value , name it &quot;Port&quot; and hit enter(exclude the &quot; marks).
5:Double click on this new Port key and change the value to whatever port you want SMTP on. Set the port number as decimal rather than hexadecimal.
6:Stop and restart the SMTP service.
Versions 7.10 and later you can change the SMTP port on the Advanced tab in the IMAIL Administrator | Localhost | Services | SMTP .

Hope this helps...
Bill Somers</pre><i>2003-Dec-22  8:47pm bsomers</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=6&cmd=editPart&file=158&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-22  8:47pm</i>
</td></tr>

<!--Item: HOWTO: ASSP &amp; Postfix file: 161--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_161"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>HOWTO: ASSP &amp; Postfix</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
In /etc/postfix/master.cf, there is a line that says:
smtp      inet  n       -       n       -       -       smtpd

Change that to be:
localhost:smtp   inet  n       -       n       -       -       smtpd

Then restart postfix.

Then, tell assp to listen to &lt;youripaddress&gt;:25 and forward to localhost:25.</pre><i>2004-Jan-15  7:51pm pfudd</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=161&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-15  7:51pm</i>
</td></tr>

<!--Item: SMTP on Telstra Australia after April 2004 file: 187--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_187"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>SMTP on Telstra Australia after April 2004</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>After mid-April, Telstra Australia is blocking outbound port 25 except for static ips and some business accounts. This affects outbound mail only and is easily patched. It is evidenced by numerous bounce reports, delayed queues (over and above the current worm slowdown). It has no bearing whatsoever on inbound mail and ASSP. There is one and only one minor patch to be made.<br>
Refer to the following page for details on what and why;
<a href="http://bigpond.custhelp.com/cgi-bin/bigpond.cfg/php/enduser/std_adp.php?p_sid=MNnoBHbh&amp;p_lva=&amp;p_faqid=5562&amp;p_created=1080867561&amp;p_sp=cF9zcmNoPSZwX2dyaWRzb3J0PSZwX3Jvd19jbnQ9MzMxJnBfcHJvZF9sdmwxPTEmcF9wYWdlPTE*&amp;p_li=">http://bigpond.custhelp.com/cgi-bin/bigpond.cfg/php/enduser/std_adp.php?p_sid=MNnoBHbh&amp;p_lva=&amp;p_faqid=5562&amp;p_created=1080867561&amp;p_sp=cF9zcmNoPSZwX2dyaWRzb3J0PSZwX3Jvd19jbnQ9MzMxJnBfcHJvZF9sdmwxPTEmcF9wYWdlPTE*&amp;p_li=</a><br>
Next follow up to patch your specific mail server to use Telstra's smarthost feature.
<a href="http://bigpond.custhelp.com/cgi-bin/bigpond.cfg/php/enduser/std_adp.php?p_admin=1&amp;p_faqid=5564&amp;p_created=1081218123">http://bigpond.custhelp.com/cgi-bin/bigpond.cfg/php/enduser/std_adp.php?p_admin=1&amp;p_faqid=5564&amp;p_created=1081218123</a>
<br><i>2004-May-18  5:18pm joe</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=187&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-May-18  5:18pm</i>
</td></tr>

<!--Item: SIMS and ASSP on MacOS X HowTo file: 189--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_189"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>SIMS and ASSP on MacOS X HowTo</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><!-- This text is untranslated from the original;
any errors are in the original text. -->
see <a href="http://www.maxlyth.com/whitepapers/SIMS_ASSP_HowTo/">http://www.maxlyth.com/whitepapers/SIMS_ASSP_HowTo/</a> until Max feels like it's done. :-)<p>

<!--

Introduction


I've been using Stalker's SIMS for almost 8 years now because it's free and has a great web interface. I know what I'm doing in Unix and curse my reliance on an old OS 9 app but I have looked at Postfix, Sendmail and Exim but found them all wanting in one aspect or another.


SIMS has always had industry leading anti-spam countermeasures but Stalker stopped developing the product with the advent of MacOS X and a port is never going to happen as it could compete with their own commercial Communigate product. This has meant that SIMS' use of spamtraps, RBLs and anti-name harvesting techniques were failing in the growing onslaught, not wanting to discard my beloved SIMS I decided to shore up the defences with a Bayesian filter.


I rejected the common method of filtering on the POP or client side because I believe that a spammer has to know they are sc*m and not welcome, it is not sufficient to accept the mail and then silently drop it in the bit bin. I looked at SpamAssassin implemented both with the SAProxy and spamd but both accept the message entirely and rely on a later process to send a bounce. This bounce is a further waste of bandwidth and almost certainly futile as the return address is most likely forged with some sucker at the other end pondering why their mail server is drowning in bounces.


The solution came in the form of ASSP, a transparent SMTP proxy that checks the message during reception and curtly cuts short the connection with an appropriate message as soon as it is clear that an inbound message is suspicious. ASSP also has some great features for reducing and resolving false positives such as automatic outbound white lists, magic keywords and automatic spam corpus maintenance.


The down side of ASSP is that it is implemented in Perl and while it may have been possible to get it up and running in MacPerl, the fact that SIMS runs fine in Classic made OS X the obvious choice. I have been running SIMS for years on a Quadra 840 and could not afford a new machine so an old beige G3 was the obvious choice. Given that Panther is not official supported for Beige machines, these instructions are for 10.2 but should work equally well in 10.3. On the hardware front this setup will run on anything with the one caveat that plenty of RAM is needed, in my case I have 224MB installed and I would consider 192MB an absolute minimum.


Requirements


This guide assumes you OS X 10.2 or greater installed along with Classic environment.


You must also have Developer Tools already installed (that grey CD that came with Mac OS X). You can download the Developer Tools at http://connect.apple.com


Finally you must be comfortable with the command line and familiar with pico and sudo


Installing SIMS on OS X


If you are migrating from Mac OS 9 then this is a simple task of copying the 'SIMS Folder' from original System Folder to the Classic System Folder, if you had upgraded a previous OS 9 machine then this will have happened automatically. Then copy you SIMS app to the 'Applications (Mac OS 9)' folder.


The only difficulty I encountered was setting up the account which was used to authenticate the SIMS web admin. My configuration used the sharing system password for the Postmaster account on the machine. As this was a fresh system install I had to create this account by navigating to the Classic 'File Sharing' control panel and setting the password there.


I created a mailserver account under OS X and set that machine to automatically logon with this account on startup. I also configured SIMS to be a login item for the mailserver user which in turn automatically starts Classic and SIMS after reboot. Finally I configured the screen saver System Preference to ask for a password after 2 minutes in order to add a modicum of security to the server.


Installing ASSP


First we need to get the latest ASSP code from sourceforge. 


Go to http://sourceforge.net/projects/assp/ and find the latest version (1.0.9 as of this writing) and download it. I used Safari to download it which gave a folder called assp-1 on my desktop; vary the command below if your results differ.


Install the software in /usr/local/ and set the correct permissions:


 sudo -s 
 cd ~/Desktop/
 mv assp-1 /usr/local/assp
 cd /usr/local/
 chown -R root assp/
 chgrp -R wheel assp/
 chmod -R 0755 assp/


Now we need to create some folders to hold the spam/not spam corpus. As these folders hold copies of emails that pass through the proxy without encryption we need to set the permissions so the contents are only visible to priviledged users


 cd assp/
 mkdir spam notspam errors errors/spam errors/notspam
 chmod 0770 spam notspam errors errors/spam errors/notspam


Setting up some Utility scripts


We need some shell scripts to ease starting and stopping ASSP. First the start script

 cd /usr/local/assp/
 sudo pico start.sh


Now paste in the following text:

 #!/bin/sh
 if [ "$1" = "" ] then
  BASE=/usr/local/assp;
 else
  BASE=$1;
 fi
 export BASE
 echo Starting ASSP Anti-SPAM Proxy server in $BASE
 trap '' 1 LANG= export LANG exec $BASE/assp.pl $BASESave
 (Control-o) and exit (Control-x)

Set the permissions for it:

 sudo chmod 0755 start.sh


Next create the stop script sudo pico stop.sh

Now paste in the following text:

 #!/bin/sh
 if [ "$1" = "" ] then
  BASE=/usr/local/assp;
 else
  BASE=$1;
 fi
 export BASE
 echo Stopping ASSP Anti-SPAM Proxy server in $BASE
 pidfile=$BASE/pid
 kill `cat $pidfile`

Save (Control-o) and exit (Control-x)


Set the permissions for it:

 sudo chmod 0755 stop.sh


Modifying SIMS


ASSP is a mail proxy which means that it must sit between SIMS and the sending mailhost. In order to directly receive mail ASSP must be configured to listen on the standard SMTP IP port 25 and as only one process can listen on a given port on a single machine, SIMS has to be configured to listen for inbound connections on a different port. 


The problem is that Stalker did not provide any way to configure the inbound port number for SIMS but instead hardwired it into the source code. Fortunately I can read 68k machine code so I used a dissassembler to figure out in which portion of the program this value was set and then used this info to find the same point in the PPC version. 


I modified version 1.8b9d14, which is the last release, to use port 2525. If you want to do the changes yourself or want to use a port other than 2525 then using Resorcerer or ResEdit to make the following changes:

 for SIMS 1.8b9d14 PPC
 Datafork offset 0x20428
 0x38E00019 -> 0x38E009DD

 for SIMS 1.8b9d14 68k
 CODE resource 3 offset 0x1AD0
 0x48780019 -> 0x487809DD


If you are not confident making these changes yourself then you can download the modified PPC and 68k versions from my web site as long as I receive no complaints from Stalker.


Creating a StartupItem


We want ASSP to start automatically as a service on boot up so next we create a startup item 

 cd /Library/StartupItems/
 mkdir assp
 cd assp
 pico StartupParameters.plist


Now paste in the following text:

{ Description = "Anti-Spam SMTP Proxy"; Provides = ("assp"); Requires = ("Resolver"); OrderPreference = "None"; Messages = { start = "Starting ASSP Server"; stop = "Stopping ASSP Server"; }; }Save (Control-o) and exit (Control-x)


Set the permissions for it:

 sudo chmod 0644 StartupParameters.plist


Next create the actual startup script 
 pico assp


Now paste in the following text:

 #!/bin/sh
 ### BEGIN INIT INFO
 # Provides: ASSP
 # Required-Start: $network $syslog
 # Required-Stop: $network
 # Description: Start or stop the ASSP SPAM Proxy server
 ### END INIT INFO base=/usr/local/assp confFile=$base/assp.cfg 
 start="$base/start.sh $base" stop="$base/stop.sh $base"
 lockfile=/var/lock/subsys/assp.lock
 pidFile=$base/pid name='ASSP'
 case "$1" in
  'start')
   echo "Starting ASSP via: $start"
   $start >/dev/null 2>&1 </dev/null
   RETVAL=$?
   if [ "$RETVAL" = "0" ]; then
    touch $lockfile >/dev/null 2>&1
   fi
  ;;
  'stop')
   $stop
   RETVAL=$?
   if [ "$RETVAL" = "0" ]; then
    rm -f $lockfile
   fi ;;
  'restart')
   $stop && $start RETVAL=$?
  ;;
  *)
   echo "Usage: $0 { start | stop | restart }" RETVAL=1 
  ;;
 esac
 exit $RETVAL

 Save (Control-o) and exit (Control-x) 


Set the permissions for it:

 sudo chmod 0755 assp


We need to configure ASSP as a deamon before we start it with SystemStarter so we have to manually start it for now: 
 cd /usr/local/assp/; perl assp.pl &


Configuring ASSP


Point the local browser to http://127.0.0.1:55555/ -- put anything you like in the username and use the password nospam4me to connect. If everything is working correctly you will see a beautifully formatted configuration screen with all of ASSP’s features spelled out for you in painful detail.


Full details on configuring ASSP can be found at the ASSP SourceForge website but at the minimum you will want to change the value for "Web Admin Password," "Accept All Mail," "Local Domains," "Spam Error," and "Spam Addresses." The password for your server is posted in bold on the internet for EVERYONE to see, so if you don’t change it, you deserve what you get. Also remember to press Enter or click the button at the bottom to register your changes – simply clearing a checkbox doesn’t send the change to ASSP.


You will also want to change the SMTP destination to yourhostname:2525 and select the 'As a Daemon' checkbox (you may need to turn on 'Show Advanced Configuration Options' first and click the 'Apply Changes' button). If you have less than 256MB of RAM in your server you will also want to turn on 'Use less RAM to rebuild the spamdb'.


Now you have completed the intial configuration save your changes with the 'Apply Changes' button and then quit ASSP by clicking 'Terminate ASSP now!'.


We can now use systemstarter to bring the service up in the fashion that it should now run in the future:

 sudo SystemStarter 
 start assp


Point your browser back to http://127.0.0.1:55555/ and if everything is running properly you should be back a the configuration screen.


Building a Spam Corpus


As ASSP is essentially a statistical analysis system it requires a corpus of sample emails that represent what you consider and do not consider to be spam to compare incoming messages against. You could either run ASSP in test mode as per the instructions in the offical docs until you have at least 400 sample email messages or you could prime the database from existing messages.


I don't keep spam but usefully the ASSP website has a pre-prepared sample which you can use. For me this gave a folder named asspsmpl on the desktop and I moved the spam set to my installed ASSP folder.

 cd ~/Desktop/asspsmpl/ 
 mv spam/* /usr/local/assp/spam/


As I wanted to tune the system to our company from the outset I did not use the sample non-spam set prefering to use our own outbound emails from Entourage. To do this I exported my non-spam messages from Entourage (this should also work in Outlook Express but your mileage may vary in other mail products) by doing a search on my mail database for everything ever sent by me that was under 10k in size (ASSP ignores anything past 10k and anything bigger is probably an attachment). In Entourage you can then select a bunch of mails and drag it to a folder in the Finder which gives a full .eml file for each message. I did this in batches of 500 otherwise the Finder tends to time out during the drag. You now need to get these files to your mail server, you could use the Finder or even burn a CD, I used scp to push the files from my PowerBook:

 scp -r ~/Desktop/notspam root@mailhost:/usr/local/assp/


In order for ASSP to do automatic purging and aging of your corpus the email files have to be named in the form 1234.eml. Renaming 10,000 files was going to take a while but fortunately the good guys at ASSP have provided a perl script to do the job. 


Back on the mail server:

 cd /usr/local/assp/ 
 perl move2num.pl -r


Finally you have to process your message corpus to build the database. Again a script is provided to do this for you:

 cd /usr/local/assp/ 
 perl rebuildspamdb.pl


This could take a while especially if you have a lot of messages or little RAM in the server. For reference my 224MB G3 takes just over an hour to chug through a corpus of 15,000 messages.


Keeping your SpamDB up to date


Although ASSP automatically manages your folders of spam/non-spam messages it does not have any functionality to regularly rebuild the spam database. For this I use a cron job and a short shell script to periodically rebuild spamdb

 cd /usr/local/assp/ 
 sudo pico nightly.sh


Paste the following:

 #!/bin/sh 
 # 
 # Script to rebuild spam database for ASSP SMTP proxy 
 BASE=/usr/local/assp 
 cd $BASE 
 # Rebuild the spam database 
 ulimit -d unlimited -f unlimited -l unlimited -m unlimited -s 10240 -t unlimited perl rebuildspamdb.pl 
 # Reload the assp.cfg 
 #kill -HUP `cat pid`
 ### -- note from John Hanna -- you don't need to HUP after a rebuild

 Save (Control-o) and exit (Control-x) 


Set the permissions for it:

 sudo chmod 0755 nightly.sh


I also have another shell script that runs every 20 minutes to check that ASSP is still up and running although to my knowledge it is yet to fall over so this bit is optional:

 cd /usr/local/assp/
 sudo pico watchdog.sh


Paste the following:

 #!/bin/bash 
 # ASSP watchdog process. 
 # This should be run from ROOTs crontab. 
 # 
 # Start in the correct directory. 
 BASE=/usr/local/assp 
 cd $BASE 
 # Check for a running ASSP process. 
 PROC=`ps -ax | grep assp | grep \`cat pid\`` 
 # If ASSP is not running, start it. 
 if [ "${PROC}" = "" ] 
 then 
  { echo "Restarting ASSP." perl assp.pl `pwd` } 
 fi

 Save (Control-o) and exit (Control-x) 


Set the permissions for it:

 sudo chmod 0755 watchdog.sh


Finally edit the crontab

 sudo pico /etc/crontab


Add the following two lines at the end ensuring those are a single tab between each field not spaces.

 */20 * * * * root /usr/local/assp/watchdog.sh 
 40 4 * * * root /usr/local/assp/nightly.sh

 Save (Control-o) and exit (Control-x) 


and your done. Phew!


Copyright © 2004 Max Lyth
-->

<br>
<i>2004-May-25  2:27pm jhanna, ml</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=189&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-May-25  2:27pm</i>
</td></tr>

<!--Item: ASSP on Win32 Install file: 197--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_197"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_74"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>HOWTOs and notes for specific MTAs and OSes </a> :
<br><font size="+1"><b>ASSP on Win32 Install</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>There's a great page at <a href="http://www.andersonit.com/assp.html">http://www.andersonit.com/assp.html</a> to help get you going quickly on Windows with ASSP &amp; Perl.
<br><i>2004-Jun-09  2:03pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=197&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  2:03pm</i>
</td></tr>

<!--Item: General ASSP Questions file: 128--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_128"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>General ASSP Questions</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP overview questions and answers are here.
<br><i>2003-Nov-14  1:48pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_25"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Security Considerations </a><br>
<a href="#file_26"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Theory of Operation </a><br>
<a href="#file_29"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>ASSP uses a content filter – won’t spammers disguise their content? </a><br>
<a href="#file_30"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>If everyone we email gets added to the ASSP whitelist, won’t spammers just use an address from the whitelist to spam us? </a><br>
<a href="#file_31"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Will ASSP block messages I want to receive? </a><br>
<a href="#file_32"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>One man’s spam is another man’s ham – how does ASSP decide what to block? </a><br>
<a href="#file_33"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Will ASSP work with non-English languages? </a><br>
<a href="#file_34"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I want to mess with the mail collections. What format are they in? </a><br>
<a href="#file_35"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I’ve heard content filtering is CPU intensive. Is ASSP a CPU hog? </a><br>
<a href="#file_39"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I want to add per-user settings. How hard is that? </a><br>
<a href="#file_44"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Is it required to take down (stop) assp to do rebuildspamdb &amp; dnsbl? </a><br>
<a href="#file_48"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How does ASSP compare to SpamAssassin? </a><br>
<a href="#file_51"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is the difference between the redlist, no-processing, and spamlover lists? </a><br>
<a href="#file_52"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is &quot;cache reset&quot; in the log file? </a><br>
<a href="#file_53"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is &quot;helo rndhelo&quot; on the analysis page? </a><br>
<a href="#file_59"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>I've seen discussion of configuration settings that aren't on my config page. What do I do? </a><br>
<a href="#file_62"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>How really does ASSP detect spam? </a><br>
<a href="#file_21"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is goodhosts and what does it do? </a><br>
<a href="#file_129"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>What is the http ://[\w\.]+@ default expression to identify spam?</a><br>
<a href="#file_130"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Why does ASSP only show one recipient per message in the maillog.txt file?</a><br>
<a href="#file_131"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Virus blocked -- what was blocked and why?</a><br>
<a href="#file_163"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Can I delete files from the spam / notspam / other collections?</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=128">New Answer in "General ASSP Questions"</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Apr-27 11:38am</i>
</td></tr>

<!--Item: Security Considerations  file: 25--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_25"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Security Considerations </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>As a proxy, ASSP passes through most of your host mail transport’s security features and vulnerabilities. It also represents a running service accepting connections from the Internet public. Perl in general has a good track record of offering few vulnerabilities. As a proxy, ASSP’s only input/output is socket based, so that limits its exposure. ASSP never opens files with user-inputted names and never shells to the operating system. 
<p>
In a *nix environment you will want to use ASSP’s ability to run as a non-root user. You may also consider running it in a chroot jail. To do this set the ChangeRoot variable in the configuration to set to your ASSP directory and copy (or link) the /etc/protocols file into a etc/protocol file in the ASSP directory. 
<p>
The collections of spam and non-spam email may represent a security risk, and access should be restricted to mail administrators. The non-spam email collection will certainly contain sensitive correspondence, and steps should be taken to protect it from those who don’t require access. 
<p>
Your administration password is transmitted with basic authentication (ie no encryption). If you plan to use the web interface from a host where you feel sniffing is a possibility I’d recommend installing stunnel (www.stunnel.org) to create an encrypted tunnel for your web-admin sessions. The password is stored in plain text in the assp.cfg file -- make sure file permissions protect this file from read access for unauthorized users. You can also add ip addresses to the Allow Admin Connections From configuration entry to restrict access to the admin interface, although this type of packet is quite easy to spoof. 
<br><i>2003-Sep-04 12:36pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=25&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:48pm</i>
</td></tr>

<!--Item: Theory of Operation  file: 26--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_26"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Theory of Operation </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP uses three complementary strategies to allow good mail and block unsolicited email: a whitelist, spambuckets, and a Bayesian filter. 
<p>
Every time a message passes through your SMTP server it has a from address and one or more to addresses. Your SMTP server also knows if the message is being sent from your local network (and to allow relaying for that message), or if it’s coming from outside (and must be delivered to a local address). Your local users don’t send unsolicited email (right?) and the people they correspond with would only send you solicited email. In fact the people they email would also be unlikely to send UCE. By monitoring these addresses ASSP builds a web of trust – local users are trusted, the addresses in their TO or CC fields are trusted, as are the addresses in their TO and CC fields. Any email from these people is considered not-spam without further checking. (Note this is not a good strategy for virus containment, but it is a good strategy for UCE.) 
<p>
Users of the local mail domains are not added to the whitelist. They are identified by being a part of the local network. Many spammers forge a from addresses with the same domain as the to address, so it is important to avoid adding local addresses to the whitelist. 
<p>
With only a few days of operation you should see your whitelist grow to more than 1000 addresses. The whitelist is not only helpful in identifying non-spam, but in building your database of non-spam emails. The whitelist is automatically saved every $UpdateWhitelist seconds (1 hour by default). 
<p>
Spambuckets are addresses which receive only spam. They can be integrated on your web site, posted on Usenet, or come naturally by having employees leave your site; after a reasonable period of time bouncing their mail all mail received for these addresses can be considered unsolicited. Any email whose sender is not whitelisted and is addressed to a spambucket is classified as spam. Spambuckets are helpful both in identifying spam, and in building and maintaining your spam database. 
<p>
Finally, if an email comes and is not addressed from someone not on your local network, nor on the whitelist, nor addressed to a spambucket, it is compared to the statistical profile generated by the Bayesian filter. The Bayesian filter works by looking for words and phrases (up to three words long) that occur significantly more often in either your non-spam collection, or your spam collection. For most organizations spam identifiers include things like “get rich quick” while non-spam identifiers are things like your organization’s full name or address, or personal names of people who work there. They also include considerably more subtle references like HTML tags which spammers prefer, or jargon specific to your line of business. 
<p>
To classify a new email all the words and phrases in the first 10000 bytes of the email (including the header) are checked against the statistical model. The top 50 ranking words and phrases are combined according to Bayes theorem to predict how well the mail compares to spam / non-spam in your collections. 
<p>
I have made the working assumption that only the first 10000 bytes of an email are significant for identifying spam. Spammers may change their profile, but historically spam has been relatively small, and keeping many large files in your collection is a waste of disk space and processing time. 
<p>
After an email is classified as local or whitelisted, or as Bayesian spam or spam to a spambox its first 10000 bytes are are saved in the appropriate collection directory. It is given a random number between 0 and MaxFiles (12000 by default) and written to that file name. In this way older files will gradually (randomly) be replaced with newer files, thus keeping the collections both diverse and up-to-date. Files in the errors folders (correctedspam and correctednotspam) are never overwritten. 
<p>
What follows is a sample statistical analysis of mail we received: <br>
<pre> As of Thu Mar 27 10:48:54 2003 the mail logfile shows:
 78843 messages, 47637 were spam (60.4%) in 73 days
  for 1080.0 messages per day or 652.6 spams per day
 8303 additions to / verifications of the whitelist (113.7 per day)
 28273 were judged spam by the bayesian filter (59.4% of spam)
 18862 were to spam addresses (39.6% of spam)
 502 were rejected for executable attachments (1% of spam)
 12608 were sent from local clients (40.4% of nonspam)
 7838 were from whitelisted addresses (25.1% of nonspam)
 10760 were ok after a bayesian check (34.5% of nonspam)
 14467 addresses are on the whitelist
 15108 hits on the blacklist
 14890 resulted in spam (52.7% of Bayesian spam, 98.6% of blacklist hits)
 218 resulted in non-spam (1.443% of blacklist hits)
 </pre>
<br><i>2003-Sep-04 12:37pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=26&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:48pm</i>
</td></tr>

<!--Item: ASSP uses a content filter – won’t spammers disguise their content?  file: 29--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_29"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>ASSP uses a content filter – won’t spammers disguise their content? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP uses a sophisticated parsing filter to work around most spammer tricks to disguise their content. As content-based filters like ASSP become more common spammers may find ways to better disguise their message. I personally do not believe spammers will win that battle, but it’s hard to say for sure. 
<br><i>2003-Sep-04 12:42pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=29&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:49pm</i>
</td></tr>

<!--Item: If everyone we email gets added to the ASSP whitelist, won’t spammers just use an address from the whitelist to spam us?  file: 30--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_30"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>If everyone we email gets added to the ASSP whitelist, won’t spammers just use an address from the whitelist to spam us? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>It is possible, but more difficult than it sounds. Addresses from your local site aren’t added to the whitelist, so a spammer will have to find someone your site emails. That list will be different for every site using ASSP. A better strategy would be for the spammer to trick you into emailing him/her. But that too will only work for one site at a time. Ultimately it is possible for the spammer to use this strategy to spam your site, but she/he will have to do the same thing individually for every site running ASSP. If this becomes a problem we will develop an appropriate defense. 
<br><i>2003-Sep-04 12:42pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=30&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:49pm</i>
</td></tr>

<!--Item: Will ASSP block messages I want to receive?  file: 31--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_31"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Will ASSP block messages I want to receive? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP has been designed with great care to prevent this from happening. The whitelist is the single most powerful tool to prevent this – anyone you email will never have a message blocked. The spam filter keeps track of mail we send and spam we receive -- if an incoming message is not from someone we've emailed and it's more like the mail we send than the spam we receive then it gets through. Otherwise it's blocked and the sender gets the message, &quot;Mail appears to be unsolicited -- report errors to postmaster@ourhost.com.&quot; 
<p>
The type of email that most often falls in this category is confirmation emails from web sites. Often these mails are only as personal as your email address and contain a lot of advertising – they look a lot more like spam than they look like the mail you send. If someone has a good idea how to recognize this type of email please let me know. 
<pre> <br></pre>
Now that ASSP supports the &quot;Expression to recognize non-spam&quot; you can use that to help recognize these confirmation emails. Often they'll include your address, phone number, or other personal information that spam never includes. You can build a &quot;regular expression&quot; to recognize some of these. 
<br><i>2003-Sep-04 12:43pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=31&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:49pm</i>
</td></tr>

<!--Item: One man’s spam is another man’s ham – how does ASSP decide what to block?  file: 32--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_32"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>One man’s spam is another man’s ham – how does ASSP decide what to block? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>See the answer to the previous question. But this raises one theoretical limit for ASSP; ASSP is designed to work for an entire site. This assumes that the users at your site have a fundamental agreement on what is spam. For most small companies the difference between what they send and spam they receive is clear enough that there isn’t a conflict here. However with a large and diverse company this assumption begins to break down. In that case ASSP is probably not the best solution. 
<br><i>2003-Sep-04 12:44pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=32&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:49pm</i>
</td></tr>

<!--Item: Will ASSP work with non-English languages?  file: 33--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_33"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Will ASSP work with non-English languages? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>At this point ASSP looks for words built from A-Z and the symbols from \240-\377 and separated by spaces. (It’s a little more complicated than that, but that’s basically it.) If your language is mostly that way then ASSP will work fine – Spanish, French, German, Polish, etc, primarily use the Latin alphabet and should work fine. Korean, Japanese, and Chinese don’t work well. Future plans may include improvements to make them more functional. 
<p>
As of ASSP 0.3.4 we have active users working in Spanish, French, and German without problems. 
<br><i>2003-Sep-04 12:44pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=33&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:49pm</i>
</td></tr>

<!--Item: I want to mess with the mail collections. What format are they in?  file: 34--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_34"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>I want to mess with the mail collections. What format are they in? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>One message per file. Only the first 10k bytes are significant. Keep attachments attached – ASSP parses them up to the first 10k. Separate collections are kept in separate folders. Largely whitespace and headers (except the subject) are ignored. Edit, delete, or add files and rebuild the database – that’s about all there is to it. Files that have numbers as filenames will randomly be overwritten over time keeping the collection up-to-date and limited in size. 
<p>
As of version 0.3.4 ASSP also began to track helo phrases passed in the SMTP conversation -- see the format of the ASSP received header line to see how this should be formatted. 
<br><i>2003-Sep-04 12:45pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=34&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:50pm</i>
</td></tr>

<!--Item: I’ve heard content filtering is CPU intensive. Is ASSP a CPU hog?  file: 35--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_35"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>I’ve heard content filtering is CPU intensive. Is ASSP a CPU hog? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP's CPU and memory load are quite moderate. Excluding rebuilding the databases, ASSP uses fewer CPU cycles per message than our mail transport does and significantly fewer per message than our virus filter software.
<br><i>2003-Sep-04 12:46pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=35&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:50pm</i>
</td></tr>

<!--Item: I want to add per-user settings. How hard is that?  file: 39--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_39"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>I want to add per-user settings. How hard is that? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Beyond the Spam Lovers and Redlist, per-user settings are beyond the scope of ASSP’s design goals. They’re generally pretty hard to implement in the SMTP Proxy environment.  
<br><i>2003-Sep-04 12:50pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=39&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:50pm</i>
</td></tr>

<!--Item: Is it required to take down (stop) assp to do rebuildspamdb &amp; dnsbl?  file: 44--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_44"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Is it required to take down (stop) assp to do rebuildspamdb &amp; dnsbl? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>No. The rebuildspamdb and dnsbl scripts can run without stopping ASSP for all versions. In versions prior to 0.2.0 ASSP had to be stopped to use the list.pl script, or to reload the config.pl script. With 0.2.0 and after a kill -HUP will reload the assp.cfg.  
<br><i>2003-Sep-04 12:57pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=44&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:51pm</i>
</td></tr>

<!--Item: How does ASSP compare to SpamAssassin?  file: 48--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_48"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>How does ASSP compare to SpamAssassin? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>&gt; 1. Is SpamAssassin in ASSP integrated <br>
no. 
<p>
&gt; 2. if not ... why 
<p>
I used spamassassin (www.spamassassin.org) for some time prior to developing ASSP. I found SA difficult to install. It also had to be regularly upgraded. Finally, ASSP's Bayesian filter was more effective at stopping spam than SA. I understand that since then SA has developed a Bayesian component as well, but I'm not completly up-to-date on their development. 
<p>
&gt; 3. what are the pros of SpamAssassin compared to ASSP 
<p>
SA has a great investment in hand-made regular expressions and header analysis to recognize spam. 
<p>
&gt; 4. what are the cons of SpamAssassin compared to ASSP 
<p>
These same hand-crafted expressions are brittle as spammers adjust their strategies. ASSP relies on the flexibility (and customization) from your own site's Bayesian database. Furthermore, ASSP is a complete spam blocking solution, not just a filter that must be integrated to your mail transport. 
<p>
I credit SA with some of the impetus for getting ASSP going -- it is a great tool with a lot of features. In fact SA's smtp proxy was part of the inspiration for ASSP. And I would cheer them on -- every effective anti-spam tool reduces spammer's success and makes spam less profitable 
<p>
However, my goal was to have a system that was easy to install, worked unmodified with nearly every MTA on any OS, and I believe ASSP is achiving those goals. Yes, a competant Linux system administrator can probably achieve similar results with SA, but ASSP broadens that opportunity 100 fold. 
<p>
I trust you will find the best tool for your situation.
<br><i>2003-Sep-04  1:03pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=48&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:51pm</i>
</td></tr>

<!--Item: What is the difference between the redlist, no-processing, and spamlover lists?  file: 51--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_51"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>What is the difference between the redlist, no-processing, and spamlover lists? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Here's a matrix to help identify the differences: 
<p>
[ filtered mail | unfiltered mail ] x [ contributes to whitelist | doesn't contribute ] =<br>
filtered &amp; contributes = normal<br>
unfiltered &amp; contributes = spamlover<br>
filtered &amp; doesn't contribute = redlist (does contribute to spam/nonspam collections)<br>
unfiltered &amp; doesn't contribute = no processing (also doesn't contribute to spam/nonspam collections) 
<br><i>2003-Sep-04  1:05pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=51&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:51pm</i>
</td></tr>

<!--Item: What is &quot;cache reset&quot; in the log file?  file: 52--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_52"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>What is &quot;cache reset&quot; in the log file? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>You can probably ignore it. 
<p>
If one of your cache is resetting more often then every 7 minutes, then change the line where it says, &quot;if($this-&gt;{cnt}++ &gt;5000&quot; and change the 5000 to 20000. This will make ASSP use more RAM but give you better performance. 
<p>
Note that after one of the databases has been updated (whitelist, redlist, spamdb, or dnsbl) an average of 255 hits on that database you'll get a &quot;cache reset&quot; because ASSP noticed that the file modification timestamp changed. However new data can be read from the file from the moment it's updated -- it's only cached data that won't be re-read. 
<p>
As of version 1.0.0 the cache size is in the configuration options. 
<br><i>2003-Sep-04  1:06pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=52&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:51pm</i>
</td></tr>

<!--Item: What is &quot;helo rndhelo&quot; on the analysis page?  file: 53--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_53"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>What is &quot;helo rndhelo&quot; on the analysis page? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>When a mail client connects to a mail server to send mail it must send a SMTP command, &quot;HELO&quot; (or the variant EHLO) followed by what it calls itself. Almost every server uses its host name in this greeting: m11.lax.untd.com for example. However spammers often greet with a random string of letters: slk845gjlkas perhaps. ASSP tries to recognize these greetings because they're an excellent indicator of spaminess. 
<p>
Unfortunately, a bug in versions prior to 0.3.5 meant that all messages without a header are interpreted as randomhelo greetings (or rndhelo).
<br><i>2003-Sep-04  1:07pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=53&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:52pm</i>
</td></tr>

<!--Item: I've seen discussion of configuration settings that aren't on my config page. What do I do?  file: 59--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_59"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>I've seen discussion of configuration settings that aren't on my config page. What do I do? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>First, check the &quot;Show Advanced Configuration Options&quot; checkbox and submit the form. This will show all available configuration options. 
<p>
Second, the wording may have changed, or an abreviation may have been used -- look for another setting with a similar use. For example, WhiteRE is actually, &quot;Expression to identify Non-Spam.&quot; 
<br><i>2003-Sep-04  1:11pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=59&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:52pm</i>
</td></tr>

<!--Item: How really does ASSP detect spam?  file: 62--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_62"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>How really does ASSP detect spam? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>When you install ASSP a colony of super-intelligent thermophilus bacteria takes up residence on your CPU and begin reading all your email. They communicate using radio waves directly with the CPU and interface with the ASSP software choosing between spam and nonspam mail. If you choose to read further this myth will be sadly dispelled, and I take no responsibility for the consequences. However, you can always refer your clients to this page to prove to them that their email is actually being filtered by super-intelligent bacteria. 
<p>
The rebuildspamdb program is where I will start. It reads the files in your errors/spam, errors/notspam, spam and notspam directories. As it reads the files in the errors directory it also builds a hash of the mail body to be able to identify duplicate messages misfiled. This hash is used to delete messages from the notspam collection that were also in the errors/spam collection and from the spam collection that were also in the errors/notspam collection. Think of it like scrubbing bubbles – they do the work so you don’t have toooo! 
<p>
As rebuildspamdb reads the files it also does two things. First it runs a filter (the subroutine “clean”) that prepares the message for statistical analysis. Second it walks through the file tallying word pairs in the spam or not-spam categories according to the collection. Files in the errors/spam collection count double; files in the errors/spam count x4. 
<p>
The “clean” subroutine does a number of important operations. Primarily its function is to undo the things spammers do to trick filters. It cleans up base64 encoding. It cleans up many HTML obfuscation techniques. Look at the code of the “sub clean” for more details – it’s all commented. It also does two other things (and may do more in the future) to help the Bayesian analysis. First, it inserts a keyword after each word of the subject – this lets the Bayesian filter recognize words in the subject uniquely. For example the word “free” in the subject will have a different Bayesian rating than the word “free” in the body of the message. Second it does a couple of tricks to isolate the “HELO” greeting that was sent when the message was delivered. This has also proven to be a useful Bayesian factor in identifying spam. 
<p>
Paul Graham’s “A Plan for Spam” recommends complete header analysis within the Bayesian filter. Because ASSP initially used three-keyword identifiers, and now (as of 0.3.4) two-keyword identifiers, I found this useless. However, header analysis will be a fruitful area of development for improving ASSP’s spam / ham recognition rate in the future. That will take place in the “clean” subroutine. There may be other pre-processing features that will be introduced there in the future. 
<p>
Once each mail message is pre-processed (cleaned) each word pair is tallied (words being defined as [-\$A-Za-z0-9\'\.!\240-\377]+ – shorter than 2 or longer than 19 are ignored and are further cleaned in this way: s/[,.']+$//; s/!!!+/!!/g; s/--+/-/g;) [Sorry for the technical stuff for those allergic to it.] So that in the end you end up with a big database of word pairs and their counts: “in the”: spam=23210, total=46411; “order now”: spam=20001, total=20121. The rebuildspamdb program then steps through this database discarding identifiers with total less than 5 (i.e. if a word pair occurred 4 or fewer times in all the collections combined and with errors/spam x2, and errors/spam x4 then the pair can be ignored) and calculating the spaminess ratio this way: 
<p>
If the spam count = 0 or the spam count = the total count then square both counts. (This amplifies factors which appear only in the spam or not-spam collection.) 
<p>
Spaminess = (spam count + 1) / (total count + 2) (This should look familiar to anyone with a basic understanding of Bayesian filters. It also somewhat de-emphasizes rare identifiers and emphasizes common ones.) 
<p>
Throw out the identifier if it’s between 0.41 and 0.59 – this identifier appears almost equally in both spam and non-spam there’s no point in keeping it. 
<p>
Force the result between 0.999999 and 0.000001 – Bayesian classifiers croak if the value is too close to 0 or 1. 
<p>
All of these results are sorted (by identifier) and stored in the spamdb for use by ASSP. 
<p>
Rebuildspamdb also randomly (1 time in 20) prunes outdated entries in the whitelist and goodhosts databases. 
<p>
Now you know how the spamdb is built, so let’s see how it is used. 
<p>
Suppose a mailer in the internet connects to ASSP. ASSP makes a connection to your “SMTP Destination” and begins relaying their conversation. It notes the IP address of the connecting server. It notes their HELO string. It notes their MAIL FROM (envelope sender). It notes their RCPT TOs. It notes their DATA directive. (This is all in sub “getline”.) Relay attempts are blocked. The presence of spam bucket addresses is noted. Mail to the email interface is detected. Mail to no-processing or “spam lover” addresses is noted. Assuming none of that qualifies the message is passed on to “getheader.” 
<p>
Getheader is looking for the mail header. When the header is complete getheader calls “onwhitelist” which determines if the message should be treated as whitelisted/local (it’s the same really) and if so to update the whitelist. If not processing goes on to “getbody.” 
<p>
Getbody reads the rest of the message (or the first 10000 bytes including the header, which ever comes first), checks for attached executables (if that’s enabled) and calls “isspam” which is probably why you’re reading this document. 
<p>
The isspam subroutine first checks WhiteRe and BlackRE, the expressions to identify non-spam and spam, respectively. Then it calls “clean” to clean up any spammer obfuscation, and calls them again with the “cleaned” version. Then it checks for a DNSBL hit, which adds 0.97 twice to the list of Bayesian factors for this message. Then it checks for a goodhost miss, which adds whatever your site’s goodhost factor is twice, provided it is &gt; 0.65. Then it walks through the message’s word pairs, just like rebuildspamdb did, completing the list of Bayesian factors. Unlike rebuildspamdb, an identifier hit will only be counted a maximum of two times, so if the identifier “free money” rates 0.955 and “free money” occurs three or more times in the mail message, only the first two count. 
<p>
The list of factors is sorted and the thirty factors closest to 0 or 1 (i.e. the 30 furthest from 0.5 or neutral) are combined as Bayes taught into a single probability. If this probability is greater than 0.6 the message is spam. (Mail is very rarely between 0.2 and 0.8 – it’s almost always &gt; 0.9 or &lt; 0.1.) 
<p>
Spam is logged in the spam directory and local and whitelisted mail is logged in the notspam directory. Headers are updated as configured. If you’re not in test-mode the connection to your “SMTP Destination” is dropped if it is spam, and when the client stops spewing the mail body, it gets the “spam error” message, and it’s connection is dropped. (In test mode the connection is completed and ASSP sends updated headers.)
<br><i>2003-Sep-04  1:13pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=62&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:53pm</i>
</td></tr>

<!--Item: What is goodhosts and what does it do?  file: 21--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_21"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>What is goodhosts and what does it do? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Note: As of version 1.0.5 it is recommended that you use the greylist feature and deactivate both goodhosts and the dnsbl. 
<p><br>
I noticed that we were getting a number of spams slip through the filter all with the same qualities: they were short, they were deliberately misspelled on many words, and they linked to some website. 
<p>
I started doing some research on (a) why they got through, and (b) how to block them. 
<p>
It turned out that because of the shortness and misspellings many passed through without any hits in the bayesian database, good or bad. 
<p>
One solution would be to assume that all mail is just a little spammy and then force the content to justify itself before being allowed to pass. This would have the added effect of possibly raising the false positive ratio, although I didn't research it to be sure. 
<p>
But further research revealed something more useful. 
<p>
Because ASSP keeps a whitelist, it is a trivial addition to track what hosts send whitelisted mail. A site of any size will quickly get AOL, Hotmail, and a few others on that list -- they'll also get their organizational partners on it quickly. This is the goodhost database, and it represents a sort of social network for your email. You're likely to email them, and they're likely to email you. Doing the math for our site I found that less than 1% of mail from these goodhosts is spam. And 89% of spam was from a not-goodhost. Each site's ratio will be different, but I expect that the goodhost marker is a healthy sign that an email is not spam. 
<p>
So the goodhost database is sort of like a inverse-dns-blacklist that you don't have to download. Hosts absent from the goodhost list will get your site's non-goodhost-spam ratio added to the Bayesian determination, once that ratio is higher than 65%. 
<p>
Other benifits of the goodhost strategy:<br>
1) requires no download (unlike the DNSBL)<br>
2) totally self-maintaining &amp; tuning<br>
3) totally customized to your own site's traffic patterns<br>
4) unspoofable by spammers<br>
5) this is exactly the sort of push that these short &amp; misspelled mails needed 
to correctly fall into the spam pit. 
<p>
This is a good reason to tell your friends about ASSP -- it's only the best anti-spam tool in existance... And it's free. 
<br><i>2003-Oct-22  1:34pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=21&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-14  1:53pm</i>
</td></tr>

<!--Item: What is the http ://[\w\.]+@ default expression to identify spam? file: 129--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_129"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>What is the http ://[\w\.]+@ default expression to identify spam?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>That's a quite smart expression to identify spam. It catches all mails that contain URLS in the form <a href="http://fakedurl@normalurl.com">http://fakedurl@normalurl.com</a>
<p>
It is most often used to trick the readers eye as <a href="http://www.mcafee.com@spamsite.com/securitypatch.exe">http://www.mcafee.com@spamsite.com/securitypatch.exe</a>
&quot;looks&quot; as if it would connect to the trustworthy &quot;www.mcafee.com&quot; site where in reality it connects to &quot;spamsite.com&quot; with a &quot;username&quot; that is &quot;www.mcafee.com&quot;. If this website does not need authentication (and they never do), then the username part is discarded.
<p>
By using this expression you will quickly sort out a bunch of Spams, that in turn automatically provide you with suitable spamwords. I found no need to manually add more expressions. 
<p>
(Robert Orso: 2003-11-17)
<br><i>2003-Nov-17 11:00am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=129&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-17 11:00am</i>
</td></tr>

<!--Item: Why does ASSP only show one recipient per message in the maillog.txt file? file: 130--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_130"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Why does ASSP only show one recipient per message in the maillog.txt file?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Messages can have from one to hundreds of recipients. We decided to only show the first one in the maillog for simplicity.
<br><i>2003-Nov-17  3:26pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=130&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-17  3:26pm</i>
</td></tr>

<!--Item: Virus blocked -- what was blocked and why? file: 131--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_131"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Virus blocked -- what was blocked and why?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>The short reason for &quot;why&quot; is that ASSP found an executable attachment.
<p>
The log file gives you the time and sender (though the sender is often faked, but it IP address would be right). If you use the &quot;other&quot; folder &quot;External mail that wasn't spam (mostly)&quot; you can find a copy of what was blocked there, though it's only the first 10k. That might be enough to try to recognize what was sent, either by inspecting the file or by running a virus scanner. (You can identify the file by the creation date/time -- it will match the time in the log entry.) Files don't stay there forever, though. 
<br><i>2003-Nov-19  9:16am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=131&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-19  9:16am</i>
</td></tr>

<!--Item: Can I delete files from the spam / notspam / other collections? file: 163--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_163"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_128"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>General ASSP Questions</a> :
<br><font size="+1"><b>Can I delete files from the spam / notspam / other collections?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>You can delete files from the other directory at any time and as you see fit.
<p>
The spam and notspam files are used by rebuildspamdb.pl to create your spamdb. Do not delete these files unless you become aware that your spam collection is hopelessly corrupted and want to start from scratch, categorizing spam and notspam by hand.
<br><i>2004-Jan-26  9:44am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=163&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-26  9:44am</i>
</td></tr>

<!--Item: ASSP Success Stories file: 132--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_132"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>ASSP Success Stories</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>This is a place where we get to tell how ASSP has worked for us. If you have a success story, send it to the link below, or post here it yourself.
<br><i>2003-Nov-19  4:06pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_133"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>ASSP + Exchange = 99.86% success with no false positives.</a><br>
<a href="#file_144"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>From the Slovak Republic</a><br>
<a href="#file_153"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Nonprofit &amp; Exchange -- 100,000 spams per week no more.</a><br>
<a href="#file_174"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Win2k3/ASSP + Win2k3/Exchange2k3</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=132">New Answer in "ASSP Success Stories"</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Mar-23  6:48pm</i>
</td></tr>

<!--Item: ASSP + Exchange = 99.86% success with no false positives. file: 133--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_133"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_132"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Success Stories</a> :
<br><font size="+1"><b>ASSP + Exchange = 99.86% success with no false positives.</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I don't know if everyone is having this kind of success, but I use Exchange
and Outlook 2003 (which has additional SPAM fighting capabilities).
<p>
Between Oct 1 &amp; 15, my company has received 182,055 e-mails.  This team of products
has provided us with a 99.86% spam kill rate.  False positives...0, zero, zilch,
nada, nothing.  Since we don't have Outlook 2003 completely rolled out, this
number is anticipated to improve another .1%.
<p>
Also, SPAM average has decreased by 2% since we implemented it in September.
I'm not sure what caused this.
<p>
jasont80 ( Jason Thompson ) 
2003-11-19 23:58 
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=133&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-19  4:08pm</i>
</td></tr>

<!--Item: From the Slovak Republic file: 144--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_144"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_132"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Success Stories</a> :
<br><font size="+1"><b>From the Slovak Republic</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Few months ago I wrote you about some bugs in assp. Last month I have returned to assp project to see what' s the progress.
<p>
I was really surprised and I' ve desided to try assp in production environment of our small company. Now it is one month of my testing and assp really solve our spam problems. I have only one!! spam reported. (But some good mail was lost in the beggining and version 1.0.6 has crashed two times.)
<p>
So I want to tell you big thank for this good job.
<p>
See you.
<p>
Patrik.
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=144&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-26  3:25pm</i>
</td></tr>

<!--Item: Nonprofit &amp; Exchange -- 100,000 spams per week no more. file: 153--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_153"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_132"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Success Stories</a> :
<br><font size="+1"><b>Nonprofit &amp; Exchange -- 100,000 spams per week no more.</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>OUR SUCCESS STORY<br>
I am an IT consultant. A week ago I installed ASSP at a 25 employee non-profit corporation. BEFORE implementation of ASSP everyone was getting about 300 spams/day (over 100,000 spams/week for the domain). Now we are almost spam free!!! The success we are enjoying is absolutely amazing. I had tried two expensive commercial products “McAfee SpamKiller for Microsoft Exchange” and “Symantec Mail Security for Microsoft Exchange 4.0” with very little success. ASSP beats the pants off them – it’s easy to setup, has very powerful features, detects spam very well and I love the price! All of the staff have reported that they are saving 30 minutes per day because they do not need to delete spam. On behalf of 25 very happy people THANK YOU, THANK YOU, THANK YOU to John and everyone else who has helped to make this tool possible.
<p>
OUR SOFTWARE ENVIRONMENT<br>
We use Exchange 2000 so our configuration is: 
Internet -&gt; ASSP -&gt; exchange 2000 -&gt; Outlook Client
Our server runs Windows XP Corp Edition. We are using ActivePerl with Win32::Daemon – everything was installed exactly as per the directions on the ASSP website. I also installed Norton AntiVirus Corporate Edition 8.0 and WinConnect Server XP so that I can manage the server from home.
<p>
OUR HARDWARE ENVIRONMENT &amp; STATS<br>
We are running it on an old Pentium II, 300 MHz with 256MB of RAM. CPU utilization is about 4%. During the first week of operation:<br>
- about 100,000 spams were rejected<br>
- about 6,000 good email messages were passed through to our exchange server.<br>
- About 600 relay attempts were rejected.<br>
- “netstat” reports that we received 700,000,000 bytes and sent 300,000,000 bytes (this works out to 2,000 bytes/second)<br>
- 100% uptime was enjoyed
<p>
-grenfell
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=153&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-12  1:59pm</i>
</td></tr>

<!--Item: Win2k3/ASSP + Win2k3/Exchange2k3 file: 174--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_174"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_132"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Success Stories</a> :
<br><font size="+1"><b>Win2k3/ASSP + Win2k3/Exchange2k3</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Successfully running ASSP on a Windows Server 2003 box in our DMZ proxying to an Windows Server 2003 box with Exchange 2003 running on it. We have roughly 60 users, process about 1k e-mails per day, and it have been working great so far.
<br><i>2004-Mar-23  6:51pm darcher</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=174&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Mar-23  6:51pm</i>
</td></tr>

<!--Item: Sample Configurations file: 135--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=32>
<img src="http://assp.sourceforge.net/fom/bags/cat.gif" alt=(Category)  width=32 height=27>
</td>
<!--wide--><td colspan=1 ><a name="file_135"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>Sample Configurations</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>I asked a number of ASSP users to submit their specific ASSP configuration details. Hopefully you will be able to find similarities to your situation to make your install go more smoothly.
<br><i>2003-Nov-20  4:58am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#f8f1df>Subcategories:
<p>
Answers in this category:<br>
<a href="#file_136"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Linux, Qmail, Cyrix 233mz</a><br>
<a href="#file_137"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Exchange 2000, 1066 messages / day</a><br>
<a href="#file_138"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>WinNT, Post Office, 500 mz</a><br>
<a href="#file_139"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Redundant MX, Windows 2000, McAfee, Exchange</a><br>
<a href="#file_140"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Postfix + Amavis, Redhat, 450 mz</a><br>
<a href="#file_142"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Exchange + NAI Webshield + PIII-500</a><br>
<a href="#file_143"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Win2k, GFI Mail security, k6/2 350</a><br>
<a href="#file_147"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Mac OS/X and qmail</a><br>
<a href="#file_166"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Dual Piii-800, Win2k, Imail 8</a><br>
<a href="#file_167"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Win2Ksrv, Lotus Notes/Domino, ASSP</a><br>
<a href="#file_170"><img src="http://assp.sourceforge.net/fom/bags/ans-small.gif" alt="(Answer) " border=0 width=18 height=14>Assp - Exchange - Assp - Mercury/32</a>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insert=answer&cmd=addItem&file=135">New Answer in "Sample Configurations"</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-May-25  2:31pm</i>
</td></tr>

<!--Item: Linux, Qmail, Cyrix 233mz file: 136--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_136"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Linux, Qmail, Cyrix 233mz</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
Incoming Network Path:
  internet -&gt; (25) assp -&gt; (55554) qmail -&gt; (110) pop3 client

Outgoing Network Path:
  client -&gt; (25) assp -&gt; (55554) qmail -&gt; internet

Operating System:             linux kernel 2.4.21,  slackware 9.0.0
CPU:                          Cyrix M II, 233MHz  (no, I am not joking)
RAM:                          256M
Messages per day:             263
Load: (best guess)            0.03 (not loaded at all)
Mail Transport:               qmail
smtpDestination:=             127.0.0.1:55554
listenPort:=                  25
Mail Transport's Listen Port: 55554



What was the hardest part of getting ASSP working for you?
  * To find out by trial and error what features that did not work for me.
  * To find out which announced new features are working for me when
    upgrading to newer versions.
    Examples: Complete email addresses in &quot;spamaddresses&quot; are ignored but 
    username only is fine, greylist download starts every hour but no list
    is saved, &quot;redRe&quot; is ignored and such minor quirks.


What do you wish you knew before you started that you know now?
  * Exactly what files and directories that has to be owned and/or writeable
    by the assp user.
  * A rough estimate of how much memory &quot;rebuildspamdb&quot; would require
    without RamSaver, in my case around 130MB with 23000 messages total.
 

Any other comments regarding installing / configuring ASSP?
  Easy to install (compared to qmail, at least).
  It works very well and does not require much maintenance.

  I suspect that the files in &quot;asspsmpl/notspam&quot; in &quot;asspsmpl-0.1.tgz&quot;
  are helpful for installations that handle mostly english content.
  In my case it is still the major part of the files with english content
  in the &quot;notspam&quot; directory. Over time it will be replaced with mostly
  swedish content so I will have to copy it back to &quot;notspam&quot; from time
  to time. It is the other way around in the &quot;spam&quot; directory, almost only
  english and very little swedish content since most spam is written in
  english. The consequence is that assp has a small tendency to let
  swedish spam through and to classify english content as spam.
  This is not a big problem though, assp works very well even with
  mostly swedish notspam and english spam.


-----------------------------------------------------------------------
used assp versions:                all from 0.3.1 to 1.0.7
current assp version:              1.0.7
main language in filtered mails:   swedish
time to rebuild database:          2462 seconds, around 23000 messages total



Line in &quot;/etc/rc.d/rc.firewall&quot; to stop others from accessing qmail and
web interface directly:

  iptables -A INPUT -p tcp  --dport 55554:55555  -i ! lo  -j DROP

  (drop incoming packets that are destined to tcp port 55554 to 55555
  and originates from anywhere but this machines local interface)




Lines in &quot;supervise/qmail-smtpd/run&quot; to get qmail to listen on port 55554:

  exec /usr/local/bin/softlimit -m 2000000 \
    /usr/local/bin/tcpserver -v -R -l &quot;$LOCAL&quot; \
    -x /etc/tcp.smtp.cdb -c &quot;$MAXSMTPD&quot; \
    -u &quot;$QMAILDUID&quot; -g &quot;$NOFILESGID&quot; 0 55554 \
    /var/qmail/bin/qmail-smtpd your.servername.org \
    /bin/cmd5checkpw /bin/true  2&gt;&amp;1



-----------------------------------------------------------------------
Not used:
  relayPort:=
  relayHost:=

-Rutger E</pre></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
To get EXIM MTA to listen on another port eg.10025 just change 
the setting in /etc/services to read:

smtp             10025/tcp         mail         #Simple Mail Transfer
smtp             10025/udp         mail         #Simple Mail Transfer

then execute &quot;killall -HUP exim&quot;
Exim picks up the port settings here.


THanks for a super program</pre></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=136&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jan-11 12:18pm</i>
</td></tr>

<!--Item: Exchange 2000, 1066 messages / day file: 137--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_137"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Exchange 2000, 1066 messages / day</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Incoming Network Path:
<pre> Internet -&gt; (25) ASSP -&gt; (25) McAfee Webshield e250 -&gt; (25) MS Exchange 2000 -&gt; Outlook Client<br></pre>
Outgoing Network Path:
<pre> Client -&gt; MS Exchange 2000 -&gt; (25) ASSP -&gt; (25) McAfee Webshield e250 -&gt; Internet<br></pre>
CPU: P4 2.0G<br>
RAM: 512 MB<br>
Messages per day: 1066<br>
Load: I don't think it's even slowing my system down...<br>
Mail Transport: MS Exchange 2000<br>
Listen Port: 25<br>
Mail Transport's Listen Port: 25<br>
Relay Port: 25<br>
Relay Host: McAfee Webshield e250
<p>
-Morgan E
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=137&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-20  5:07am</i>
</td></tr>

<!--Item: WinNT, Post Office, 500 mz file: 138--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_138"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>WinNT, Post Office, 500 mz</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Incoming Network Path:
Internet -&gt; (25) ASSP -&gt; (26) Post.Office -&gt; (pop3) Client<br>
Outgoing Network Path:
Client -&gt; (25) ASSP -&gt; (26) Post.Office -&gt; Internet<br>
Operating System:
WinNT<br>
CPU:
500<br>
RAM:
512<br>
Messages per day:
2691<br>
Load: (best guess)
Task Manager rarely shows a spike &gt; 50% CPU.  On average ~30% CPU 
utilization.<br>
SMTP Destination:
26 <br>
Listen Port:
25<br>
Mail Transport's Listen Port:
26<br>
Relay Port:
none<br>
Relay Host:
none<br>
What do you use for your relay host (Software or just ISP if you use your
ISP's mail relay):
Post.Office (now out of buisness)<br>
Mail Transport's Smarthost / Relay Host:
none
<p>
If you run a virus scanner, how does it fit in?<br>
On access scanner running locally on the machine
<p>
What was the hardest part of getting ASSP working for you?<br>
Getting Perl to run as a service.
<p>
What do you wish you knew before you started that you know now?<br>
Not much now.  The web interface has really taken care of most of my 
issues (how mail is scored, the maillog tail etc.)
<p>
Any other comments regarding installing / configuring ASSP?<br>
For us ignorant win32 users, always use &quot;/&quot; for file paths instead of 
&quot;\&quot;.  Seems pretty obvious now, but for those of us with limited 
programing experience...  The half gig of ram is also important for 
us.  The rebuildspamdb used to tank our server everytime, that was 
back in the pre 1.0 days though...
<p>
AJ
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=138&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-20  9:13am</i>
</td></tr>

<!--Item: Redundant MX, Windows 2000, McAfee, Exchange file: 139--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_139"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Redundant MX, Windows 2000, McAfee, Exchange</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Architecture summary - two incoming lines, first is 500Mb/s leased
line, second is 500Mb/s ADSL, feeding separate MX machines. 
Initially I set them both up with ASSP routing to the same virus
scanner (on the first MX), but then I duplicated the virus scanner,
as that provided greater resilience because the mail to the two MXs
could be queued separately if the other machine goes down.  The spam
db is rebuilt on the first MX machine (after merging captured spam
from the second), and then copied to the second.  The MX machines
both feed a third machine which rewrites addresses for internal
distribution and forwards them to Exchange 2000 on a fourth machine;
the third machine also has POP mailboxes for some other domains I
host.  Outgoing mail goes through the same route, and Weasel is the
relay server (except for mailshots, which are relayed by the virus
scanner on the second MX - this keeps the addresses from going into
the whitelist, and sends mailshots out via the ADSL to avoid
saturating the primary leased line).
<p>
Four servers just for mail may sound over the top, but it works for
us, and our business is critically dependent on it (if something goes
wrong, I get a complaint within about 10 minutes).  Anyway, we like
servers; we have 15 of them; we also host our own web site, ftp and
forums.
<p>
If I could get a virus scanner running in a hook in Weasel, that
would have the benefit of enabling me to use SMTP auth, and to reject
email to invalid users immediately.
<p>
======================================
<p>
Incoming Network Paths:<br>
Internet -&gt; 
[first MX]  (25) ASSP -&gt; (125) McAfee VirusScan SMTP -&gt; 
[distribution server] (25) Weasel (some pop3, and:) -&gt;
[office mail server] (25) Exchange<br>
Internet -&gt;
[second MX]  (25) NAPT router -&gt; (125) ASSP -&gt; (25) McAfee VirusScan
SMTP -&gt;
[distribution server] (25) Weasel (some pop3, and:) -&gt;
[office mail server] (25) Exchange
<p>
Outgoing Network Paths:<br>
[office] Outlook -&gt; Exchange -&gt;
[first MX]  (25) ASSP -&gt; McAfee VirusScan SMTP -&gt;
[distribution server] (25) Weasel -&gt; Internet<br>
[other] Client (SMTP) -&gt; 
[first MX]  (25) ASSP -&gt; McAfee VirusScan SMTP -&gt;
[distribution server] (25) Weasel -&gt; Internet
<p>
Mailshots go out through the VirusScan on the second MX (which is why
the ports are reversed there) rather than via ASSP, so that the
mailing list addresses (which are not always trustworthy) don't get
whitelisted.
<p>
Operating System:
<pre> [first MX] Windows Server 2003
 [second MX] Windows XP
 [distribution server] OS/2<br></pre>
CPU:
<pre> [first MX] 2 x P-II/400
 [second MX] AMD K6-2/500
 [distribution server] P-III/600<br></pre>
RAM:
<pre> [first MX]  640MB
 [second MX]  256MB
 [distribution server]  256MB
 </pre>
Messages per day:
<pre> [first MX] 2200
 [second MX] 750<br></pre>
Load:<br>
[first MX] CPU idles at 3%, peaks of 60% for a few seconds during
processing of emails; average &lt;10%.  Memory committed: ~280MB
normally (max ~680MB, could be either during spamdb rebuild or
processing large email attachments - we send and receive software
products).<br>
[second MX] CPU idles at 3%, peaks of 100% for a few seconds during
processing of emails; average &lt;10%.  Memory committed: ~180MB
normally (max ~230MB, presumably handling larger emails)
<p>
Note that these figures include the email virus scanning as well as
the spam scanning.
<p>
Mail Transport:
<pre> McAfee VirusScan SMTP - has rather flexible routing, but no auth :-(
 Weasel - an OS/2 MTU, with some features to my spec :-)
 Exchange - no comment<br></pre>
What was the hardest part of getting ASSP working for you?
<p>
I started trying to run it on the OS/2 machine, and the spam rebuild
crashed Perl 5.8.0 on OS/2 (I attempted to debug this with the person
who did the port, but he felt in the end that it was a
memory-handling issue in the compiler library).  I see that others
are now running it on OS/2, so that crash might have gone away with
the redesign of the spam db. [note, perl 5.6 may also be a good choice.]
<p>
I had a pre-existing email corpus from running another client-based
Bayesian scanner for a while, so I started essentially straight in.
Suggestions of corpus size are very variable at different sources -
the writers of the Bayesian filter in the Polarbar mailer
(www.polarbar.org) recommend as small as possible (say 500/500), and
others recommend around 5000/5000.  I am using 32767/32767, as I feel
that the statistics can only be improved by quantity; and I have
noticed many identical spams, so the number of /distinct/ messages
may be appreciably less than expected.
<p>
My boss (now ex-boss) has installed it elsewhere, and repeated gets
confused about the different ports for relay; certainly I had it easy
as I was already running my own relay server.
<p>
What do you wish you knew before you started that you know now?
<p>
That valid SMTP names containing a % would be miscategorised by ASSP
as relay attempts :~)  This is because I use a manufactured reply
address for mailshots that happened to use a %, and I got a lot of
flack when suddenly all the replies to our mailshot got bounced.  I
use another character now...
<p>
Any other comments regarding installing / configuring ASSP?
<p>
The documentation is still a bit geeky, but I guess that most people
who run SMTP servers are geeks ;-)
<p>
Regards,<br>
Paul Hodges
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=139&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-20  9:21am</i>
</td></tr>

<!--Item: Postfix + Amavis, Redhat, 450 mz file: 140--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_140"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Postfix + Amavis, Redhat, 450 mz</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>
<pre> internet - (25)assp - (225)postfix - (10024)amavis-new - (10025)postfix - (pop3)client
                                                                  |
                                                         (3310)clamd<br>
 client - (25)assp - (225)postfix - (10024)amavis-new - (10025)postfix -internet
                                                                  |
                                                         (3310)clamd<br></pre>
Operating System:
Redhat 8.0<br>
CPU:
intel 450 Mhz (2x)<br>
RAM:
1 GB<br>
Messages per day:
46<br>
Mail Transport:
postfix<br>
SMTP Destination:
225<br>
Listen Port:
25<br>
Mail Transport's Listen Port:
225<br>
Relay Port:<br>
Relay Host:
<p>
If you run a virus scanner, how does it fit in?<br>
called by postfix with the help of amavisd-new
<p>
What was the hardest part of getting ASSP working for you?<br>
finding out that the files have to be run thru dos2unix and of course: 
On the older versions the problem with chroot/change user
<p>
Enrico
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=140&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-24  2:55pm</i>
</td></tr>

<!--Item: Exchange + NAI Webshield + PIII-500 file: 142--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_142"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Exchange + NAI Webshield + PIII-500</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Incoming Network Path:<br>
Internet -&gt; (25) ASSP -&gt; (26) NAI Webshield -&gt; (25) Exchange2K-Frontend -&gt;
Exchange-Cloud with Outlook and IMAP/POP/Web-Clients
<p>
Outgoing Network Path:<br>
Exchange-Cloud with Outlook and IMAP/POP/Web-Clients -&gt; (25)
Exchange2K-Frontend -&gt; (25) ASSP -&gt; (26) NAI Webshield -&gt; (25)
Exchange2K-Frontend -&gt; Internet<br>
Operating System: MS Windows 2000 Server <br>
CPU: Pentium III 500<br>
RAM: 640MB<br>
Messages per day: 11000<br>
Load: 10% (rebuild not included)<br>
Mail Transport: NAI Webshield<br>
SMTP Destination: 141.21.6.1:26<br>
Listen Port: 141.21.6.1:25<br>
Mail Transport's Listen Port: 26<br>
Relay Port: 141.21.6.210:25<br>
Relay Host: 141.21.6.1:26<br>
What do you use for your relay host (Software or just ISP if you use your
ISP's mail relay): NAI Webshield SMTP 4.5 (Windows)
<p>
Mail Transport's Smarthost / Relay Host: MS Exchange 2000 (Frontend)
<p>
If you run a virus scanner, how does it fit in?<br>
NAI Webshield (behind ASSP) and On-Access-Scanners on Exchange-Server
Attachment-Blocking on ASSP and On-Access-Scanners
Server/Client-On-Access-File-Scanners on all PCs
<p>
What was the hardest part of getting ASSP working for you?<br>
Planning the path for mail-delivery
<p>
Matthias
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=142&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-25  2:47pm</i>
</td></tr>

<!--Item: Win2k, GFI Mail security, k6/2 350 file: 143--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_143"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Win2k, GFI Mail security, k6/2 350</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Incoming Network Path:
Internet -&gt; (25) ASSP -&gt; (25000) SMTP Virtual Server -&gt; 25 Mailservers (both
pop3 and exchange) -&gt; client
<p>
Outgoing Network Path:<br>
Depending on the mailserver's setup:<br>
Setup #1: Client -&gt; (125) mailserver -&gt; Internet<br>
Setup #2: Client -&gt; (125) mailserver -&gt; (25) ASSP -&gt; (25000) SMTP Virtual
Server (GFI MailSecurity) -&gt; Internet
<p>
Operating System: Windows 2000 Server<br>
CPU: AMD K6/2 350Mhz (PII 333MHZ as backup computer)<br>
RAM: 192mb (256mb in backup machine)<br>
Messages per day: ~700<br>
Load:
it doesn't seem too busy except when it rebuild the spamdb which takes 40
min. Processing time for incoming mails when rebuilding the spamdb doesn't
seem to slow down though.
<p>
SMTP Destination: localhost:25000<br>
Listen Port: 25<br>
Mail Transport's Listen Port: ?<br>
Relay Port: none<br>
Relay Host: none
<p>
If you run a virus scanner, how does it fit in?
via SMTP virtual server on same machine as ASSP
<p>
What was the hardest part of getting ASSP working for you?
Making automatic jobs for rebuilding spamdb, download greylist etc.
<p>
What do you wish you knew before you started that you know now?
That the two hard drives I initially used would crash ;)
<p>
Any other comments regarding installing / configuring ASSP?
I'm a totel novice when it comes to smtp, relaying etc. so I was quite
surpriced to find how easy it was to get it to work. Still, most of the
users don't send via ASSP which means that whitelist addition and a good
portion of hammails are missed. The reasons why many users won't send via
ASSP is, 1) their mailserver host many different domains and relaying is not
per-domain but for all domains, 2) I've been told that message tracking
stops at relay servers - so if we ever want to track a message that strand
somewhere we can't if we send via ASSP.
<p>
Ulrik
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=143&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-26  3:22pm</i>
</td></tr>

<!--Item: Mac OS/X and qmail file: 147--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_147"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Mac OS/X and qmail</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Incoming Network Path:
<pre>  Internet -&gt; (25) ASSP -&gt; (24) Qmail -&gt; (pop3)<br></pre>
Outgoing Network Path:
<pre>  Client -&gt; (SMTP 25) ASSP -&gt; (24) Qmail -&gt; Internet
  Client -&gt; (OFMIPD 8025) -&gt; (SMTP 25) ASSP -&gt; (24) Qmail -&gt; Internet<br></pre>
Operating System: Mac OS X 10.3<br>
CPU: Macintosh G5 1.25 Ghz<br>
RAM: 568 MB<br>
Messages per day: 4000<br>
Load: (best guess) 5%<br>
Mail Transport: QMail<br>
SMTP Destination: 127.0.0.1:24<br>
Listen Port: 25<br>
Mail Transport's Listen Port: 24 &amp; 8025 (OFMIPD)
<p>
If you run a virus scanner, how does it fit in?<br>
ClamAV with QMailScanner for all files not blocked by ASSP
<p>
What was the hardest part of getting ASSP working for you?<br>
ASSP support for Non English languages is poor (no SPAM/NOSPAM DB's)
<p>
What do you wish you knew before you started that you know now?<br>
The global percentage of SPAM (75%)
<p>
Any other comments regarding installing / configuring ASSP?<br>
Must modify ASSP code to support Pop before SMTP with VPopMail.<br>
Guy
<pre> ----------------------------------------------------------------------
 T h i n k    d i f f e r e n t    -    u s e    a    M a c i n t o s h
 ----------------------------------------------------------------------</pre>
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=147&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Dec-02  1:56pm</i>
</td></tr>

<!--Item: Dual Piii-800, Win2k, Imail 8 file: 166--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_166"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Dual Piii-800, Win2k, Imail 8</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
Incoming Path:
Internet -&gt; (25) ASSP -&gt; (255) Imail -&gt; client 
Outgoing Network Path:
client -&gt; (25) ASSP -&gt; (255) Imail -&gt; Internet
Operating System: MS Windows 2000 Server 
CPU: dual PIII 800's
RAM: 1gb
Messages per day: 11000
Load: 0-10%, seems to avg about 2% (rebuild not included). 7-11mb
Rebuild: About 50% of one processor and 75% ot the other.  Peak usage: 200mb

If you run a virus scanner, how does it fit in?
Declude A/V Pro plugs into Imail.  This in turn runs F-Prot A/V on every 
received message.

What was the hardest part of getting ASSP working for you?
Setting up the program was easy, as was training it.  Introducing the system to
users is where the real work is.

Hot Tips?
1. Schedule a service restart of Perl as part of your daily rebuild process.  I
found that ASSP's memory usage slowly grew to about 60mb of RAM during normal 
operations (using a spam db that grew to approximately 30,000 messages) and 
no doubt this growth would have continued.  However usage dropped to 6-11mb 
with the high message counts once I worked in a daily service restart.  It 
works best in a batch file, where that same batch file handles the daily spam 
db rebuild.  Be sure NOT to shut down ASSP during the rebuild.  Just cycle 
the service quickly.

2. Use the scripting language of your choice to build a whitelist submitter.  
Many users, for various reasons, send mail thru a different smtp server than 
the one protected by ASSP.  Give them a *secure* form to input email address,
username, password and whitelisted address.  Use your scripting environment 
to send an auth'd mail to the assp-white address.  Security for an operation 
like this must be well thought-out.
</pre><i>2004-Feb-03  5:07pm matt</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=6&cmd=editPart&file=166&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Feb-03  5:07pm</i>
</td></tr>

<!--Item: Win2Ksrv, Lotus Notes/Domino, ASSP file: 167--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_167"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Win2Ksrv, Lotus Notes/Domino, ASSP</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><pre>
Incoming path

Internet -&gt; ASSP(25/TCP) -&gt; Lotus(125/TCP)

network clients use ASSP too since the
machine sits on a DMZ and only port 25
is exposed to both LAN and internet

CPU barely used, around 2000 msg/day on
regular days (spam-worms may increase the
traffic) the Lotus mailservers run a copy
of Trend MailScan which takes care of any
beast escaped to the ASSP spam filtering

Due to various reasons, I avoided letting
ASSP automatically download the graylist
and I've setup a scheduled batch file as
follows

@echo off
cls
m:
cd\assp
:
:REPAIR
rem --- echo Repairing ASSP databases...
rem --- perl repair.pl
:
:NUMBER
rem --- echo Renumbering stored messages...
rem --- perl move2num.pl -r
:
:GREYLIST
echo Downloading grey list...
if exist greylist.txt del greylist.txt
wget -t 3 -nd <a href="http://assp.sourceforge.net/greylist.txt">http://assp.sourceforge.net/greylist.txt</a>
if not exist greylist.txt goto NOGREY
if exist greylist copy greylist greylist.bak
copy greylist.txt greylist
del greylist.txt
:
:NOGREY
echo Rebuilding ASSP databases...
perl rebuildspamdb.pl
:
:RESTART
echo Stopping ASSP filter service...
net stop asspsmtp
ping -n 1 -w 3000 10.1.1.1 &gt;NUL
echo Starting ASSP with new files...
net start asspsmtp
:
:QUIT
cls
exit

the above takes care to download and update the
graylist and to rebuild the spamdb, after those
operation it will restart the ASSP service (just
to freeup/clean memory) the &quot;ping&quot; to an unused
IP is only used to wait 3 seconds before starting
back the ASSP service, also, the commented code
at the top may be useful either for first runs or
to repair a damaged database (note: you will need
to get a copy of wget for windows for the above to
work correctly)
</pre><i>2004-Feb-19  7:47am grayhat</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=167&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Feb-19  7:47am</i>
</td></tr>

<!--Item: Assp - Exchange - Assp - Mercury/32 file: 170--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=5 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_170"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> : <a href="#file_135"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>Sample Configurations</a> :
<br><font size="+1"><b>Assp - Exchange - Assp - Mercury/32</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>Incoming Network Path:
Internet (25) -&gt; ASSP (2525) -&gt; Exchange2K  (25) -&gt; Outlook<br>
Outgoing Network Path:
Outlook -&gt; Exchange2K -&gt; ASSP (25) -&gt; Mercury/32 (8025) -&gt; Internet<br>
Hardware:
Operating System: MS Windows NT 4 Server 
CPU: Dual Pentium III @ 448
RAM: 380MB<br>
What do you use for your relay host (Software or just ISP if you use your ISP's mail relay): Mercury/32 (Windows)<br>
Statistics:
Messages per day: 1700
<p>
Martin
<br></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=170&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>ict</i><br>
</td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Mar-22  1:14am</i>
</td></tr>

<!--Item: Why ASSP? file: 2--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_2"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>Why ASSP?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><!-- This text is untranslated from the original;
any errors are in the original text. -->
It has long been clear to me that the best place to stop spam is at an organization’s SMTP server. This is true for the following reasons:<ol>
<li>Most spam has an invalid bounce address, so notifying non-delivery simply bounces to Postmaster, creating even more wasted bandwidth. Failing to notify non-delivery is a problem for false-positives. The SMTP server is the only place where spam can be stopped before entering your system.
<li>The only possible feedback for spammers to void an address is from the SMTP server.
<li>Spam that passes through your SMTP server into mailboxes incurs cost to your organization: storage, transmission, backup, deletion – in all these ways spam costs you money. The only way to minimize cost is to reject it at the initial point.</ol>

<p>However, mail transport systems are slow to adopt new technology, and spammers are quick and flexible, able to adopt new technology as quickly as it becomes available. Consequently, most SMTP servers are ill equipped to stop spam. 

<p>Furthermore, one spam-stopping solution could work with all existing SMTP servers if it was implemented on a second level – a transparent SMTP filtering proxy.  This was my goal for this project.

<p>I wanted a server that accepted connections on port 25, passing the transmission on to the official SMTP server, and relaying its replies back to the SMTP client. But when enough of the message had been transmitted to validate its legitimacy the ASSP server could either pipe the remainder of the message to the official SMTP server or close the connection to the official SMTP server and ignore the remainder of the message.

<p>The Anti-Spam SMTP Proxy (ASSP) Server project aims to create an open source platform-independent SMTP Proxy server which implements whitelists and Bayesian filtering to rid the planet of the blight of unsolicited email (UCE). UCE must be stopped at the SMTP server. Anti-spam tools must be adaptive to new spam and customized for each site’s mail patterns. This free, easy-to-use tool works with any mail transport and achieves these goals requiring no operator intervention after the initial setup phase.

<br>

<br>
<i>2003-Sep-04  2:29pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=2&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:29pm</i>
</td></tr>

<!--Item: Who is it for?  file: 91--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_91"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>Who is it for? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP’s primary target audience is mail administrators or system administrators at smallish institutions. If you operate an ISP or a mailhost with a heterogeneous user base you may not have a good enough consensus about what spam is or is not. It should work well with between 1 and 300 client addresses and a mail volume of up to around 100,000 messages per day. Testing has not been done to verify these ranges – if you discover otherwise please notify the author and he’ll update the documentation. 
<p>
Who is it not for?
<p>
ASSP is not for the following:<br>
1) Individual clients -- ASSP must be installed together with a SMTP server.<br>
2) Domains which receive mail indirectly, fetchmail for example.
<br><i>2004-May-24  8:09am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=91&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-May-24  8:09am</i>
</td></tr>

<!--Item: What features make ASSP great? file: 92--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_92"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>What features make ASSP great?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><!-- This text is untranslated from the original;
any errors are in the original text. -->
<ol>
<li>Easy browser-based setup (optional).
<li>Uses your existing message transport and existing SMTP server.
<li>Works with Sendmail, qmail, Postfix, Imail, Exchange, Courier, Mercury, Lotus Notes, and all other standard SMTP servers.
<li>Runs on Linux, Unix, Windows, OS X, OS/2, and more.
<li>Automatically customizes to your site’s unique email profile.
<li>Automatic whitelist – noone you email will ever be blocked.
<li>Senders receive immediate notification if mail is blocked but no erroneous bounces are ever generated.
<li>Redlist keeps an address off the whitelist.
<li>No-processing addresses pass through.
<li>Makes use of honeypot type spambucket addresses to automatically recognize spam and update your spam database.
<li>Bayesian filter intelligently classifies email into spam and non-spam.
<li>Supports additional site-defined regular expressions to identify spam or non-spam email.
<li>Can optionally block all non-whitelisted email (for anti-spam zelots).
<li>Mime encoded and other camouflaged spam is also recognized.
<li>Automatically maintains the spam and non-spam databases.
<li>Accepts whitelist submissions and spam error reports by authorized email.
<li>Optionally rejects executable attachments from non-whitelisted (or all) addresses.
<li>Free (as in speech) software -- Licensed under the GPL.
<li>Practically no maintenance required.
<li>Active user community and email list for support questions.
<li>Source code included if you need to customize your installation.
<li>Runs as a service in Windows NT / 2000.
<li>Optionally blocks no mail but adds an email header and/or updates the message subject.
<li>Optionally uses community-based spam statistics to identify hosts that are likely to send spam or non-spam mail.
<li>In *nix environments can switch to non-root user. Also supports chroot jail.
<li>Individual users can be configured to receive all mail.
<li>Shows detailed analysis of spam rating process for specific messages.
<li>Option to forward a copy of every rejected mail to an address. 
<li>No perl modules to install -- runs complete "out of the box".
<li>Can block spam-bombs (when spammers forge your domain in the from field).
<li>Keeps spam statistics for your site.
<li>Detailed up-to-date documentation.
<li>Can listen on more than one smtp port.
<li>And much more!
</ol>

<br>
<i>2003-Nov-13  9:18am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=3&cmd=editPart&file=92&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-13  9:18am</i>
</td></tr>

<!--Item: What are ASSP's configuration options? file: 93--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_93"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>What are ASSP's configuration options?</b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed><!-- This text is untranslated from the original;
any errors are in the original text. -->
<STYLE type=text/css>BODY {
        FONT-SIZE: 11pt; FONT-FAMILY: Arial, sans-serif
}
P {
        FONT-SIZE: 11pt; FONT-FAMILY: Arial, sans-serif
}
TD {
        FONT-SIZE: 11pt; FONT-FAMILY: Arial, sans-serif
}
H1 {
        FONT-VARIANT: small-caps
}
H2 {
        FONT-VARIANT: small-caps
}
H3 {
        FONT-VARIANT: small-caps
}
TABLE {
        BORDER-RIGHT: #de7813 0px solid; BORDER-TOP: #de7813 0px solid; BORDER-LEFT: #de7813 0px solid; WIDTH: 100%; BORDER-BOTTOM: #de7813 0px solid
}
TD {
        BORDER-RIGHT: white 1px solid; PADDING-RIGHT: 2px; BORDER-TOP: white 1px solid; PADDING-LEFT: 5px; PADDING-BOTTOM: 2px; BORDER-LEFT: white 1px solid; PADDING-TOP: 2px; BORDER-BOTTOM: white 1px solid
}
A {
        COLOR: #913104
}
A:hover {
        COLOR: #3c79c9
}
IMG {
        BORDER-TOP-STYLE: none; BORDER-RIGHT-STYLE: none; BORDER-LEFT-STYLE: none; BORDER-BOTTOM-STYLE: none
}
.header2 {
        FONT-WEIGHT: bold; FONT-SIZE: 130%; TEXT-ALIGN: right
}
.smaller {
        FONT-WEIGHT: normal; FONT-SIZE: 50%
}
.nav {
        BORDER-RIGHT: #de7813 2px solid; PADDING-RIGHT: 5px; BORDER-TOP: #de7813 2px solid; PADDING-LEFT: 5px; FONT-WEIGHT: bold; PADDING-BOTTOM: 5px; BORDER-LEFT: #de7813 2px solid; PADDING-TOP: 5px; BORDER-BOTTOM: #de7813 2px solid; BACKGROUND-COLOR: #ededed; TEXT-ALIGN: center
}
.sectionHeader {
        FONT-WEIGHT: bold; FONT-SIZE: 130%; COLOR: #f8f1df; BACKGROUND-COLOR: #0e386b; TEXT-ALIGN: center
}
.noBorder {
        BORDER-RIGHT: 0px; BORDER-TOP: 0px; BORDER-LEFT: 0px; BORDER-BOTTOM: 0px
}
.textBox {
        BORDER-RIGHT: black 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: black 1px solid; PADDING-LEFT: 5px; PADDING-BOTTOM: 5px; BORDER-LEFT: black 1px solid; PADDING-TOP: 5px; BORDER-BOTTOM: black 1px solid; BACKGROUND-COLOR: #f8f1df; TEXT-ALIGN: left
}
.warning {
        BORDER-RIGHT: #de7813 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: #de7813 1px solid; MARGIN-TOP: 3px; PADDING-LEFT: 5px; FONT-WEIGHT: bold; PADDING-BOTTOM: 5px; BORDER-LEFT: #de7813 1px solid; PADDING-TOP: 5px; BORDER-BOTTOM: #de7813 1px solid
}
.negative {
        COLOR: red
}
.positive {
        COLOR: green
}
.optionTitle {
        BORDER-TOP-STYLE: none; BORDER-RIGHT-STYLE: none; BORDER-LEFT-STYLE: none; BACKGROUND-COLOR: #dfa273; BORDER-BOTTOM-STYLE: none
}
.statsOptionTitle {
        BORDER-TOP-STYLE: none; BORDER-RIGHT-STYLE: none; BORDER-LEFT-STYLE: none; BACKGROUND-COLOR: #f8f1df; TEXT-ALIGN: right; BORDER-BOTTOM-STYLE: none
}
.optionValue {
        BORDER-TOP-STYLE: none; BORDER-RIGHT-STYLE: none; BORDER-LEFT-STYLE: none; BACKGROUND-COLOR: #f8f1df; BORDER-BOTTOM-STYLE: none
}
</STYLE>

<table>
<tr>
    <td>
        <a href="http://assp.sourceforge.net/">
        <img src="http://assp.sourceforge.net/assp.png" alt="ASSP" /></a>
</td>
    <td class="header2">
        <a href="http://assp.sourceforge.net/">ASSP</a> Configuration<br />
        <div class="smaller">
          Your version: 1.0.10d<br />
          Latest Documentation is <a href="http://assp.sourceforge.net/fom/cache/1.html">here</a>.<br />
        </div>
</td>
    </tr><tr>
    <td colspan="2" class="nav"><a href="/">Main</a>,
    <a href="stats">Statistics</a>,
    <a href="lists">Update / Verify the Whitelist or Redlist</a>,
    <a href="analyze">Analyze an email</a>,
    <a href="maillog">See the maillog tail</a>,
    <a href="https://www.paypal.com/xclick/business=jhanna%40cproject.com&item_name=Support+ASSP&item_number=assp&no_note=1&tax=0&currency_code=USD" target="_blank">Donate</a></td>
</tr>
</table>
Note: Items marked with an asterisk (*) accept a list separated by | or you can specify a file to read
the list from this way: file:/path/to/file<br>
Files should have one entry per line; anything on a line following a space and numbersign ( #) is ignored (a comment)<br>
Whitespace at the beginning or end of the line is ignored.<p>
<form action="" method="post"><table>
<tr><td colspan="2" class="sectionHeader">Network Setup</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="showAdvanced" value="1" checked="checked" /> Show Advanced Configuration Options<br />
Check this to show all available configuration options.</td></tr>
<tr><td align="right" class="optionTitle">SMTP Destination</td><td class="optionValue"><input name="smtpDestination" size="20" value="127.0.0.1:225" /><br />
The address:port of your message handling system's smtp server. For example: 127.0.0.1:125</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="AsAService" value="1"  /> As a Service<br />
In Windows 2000 / NT you can run it as a service; requires <a href="http://www.roth.net/perl/Daemon/" target=_blank>win32::daemon</a>. Requires start from the service control panel.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="AsADaemon" value="1"  /> As a Daemon<br />
In Linux/BSD/Unix/OSX fork and close file handles, kinda like "perl assp.pl &amp;" but better. Requires restart.</td></tr>
<tr><td align="right" class="optionTitle">My Name</td><td class="optionValue"><input name="myName" size="20" value="ASSP-nospam" /><br />
What the program calls itself in the email "received by" header. Usually ASSP-nospam.</td></tr>
<tr><td align="right" class="optionTitle">Listen Port</td><td class="optionValue"><input name="listenPort" size="20" value="125" /><br />
On what port should ASSP accept smtp connections? Normally 25. You can supply an interface:port to limit connections.</td></tr>
<tr><td align="right" class="optionTitle">Another Listen Port</td><td class="optionValue"><input name="listenPort2" size="20" value="" /><br />
Listen for incoming SMTP requests on a second port, for those clients on the outside
  whose ISP's will not let them use SMTP Port 25 outside of their ISP Network, or as a
  dedicated port for VPN purposes, or whatever. You can supply an interface:port to limit connections.
  For example: 2525 or 127.0.0.2:325</td></tr>
<tr><td align="right" class="optionTitle">Web Admin Port</td><td class="optionValue"><input name="webAdminPort" size="20" value="55555" /><br />
On what port should ASSP listen for http connections for the web administration interface? If you change this you will need to change the URL on your browser to reconnect. You can supply an interface:port to limit connections.</td></tr>
<tr><td align="right" class="optionTitle">Web Admin Password</td><td class="optionValue"><input name="webAdminPassword" size="2" value="nospam4me" /><br />
This is your password for the administrative interface -- if you leave this default then you deserve what you get. Must be at least 5 characters long.</td></tr>
<tr><td align="right" class="optionTitle">Allow Admin Connections From*</td><td class="optionValue"><input name="allowAdminConnectionsFrom" size="40" value="" /><br />
This is an optional list of IP addresses from which you will accept web admin connections, separated by pipes (|). For example: 127.0.0.1|10.
  Blank means accept all connections. 127.0.0.1 means accept connections from only the localhost. Note that IP source
  addresses are very easy to spoof, so this should not be considered as a security feature.
  <span class="negative">Also note that if you make a mistake here you will likely disable your
  web admin interface and have to manually edit your configuration file to fix it.</span></td></tr>
<tr><td colspan="2" class="sectionHeader">Relaying</td></tr>
<tr><td align="right" class="optionTitle">Accept All Mail*</td><td class="optionValue"><input name="acceptAllMail" size="40" value="127.0.0.|10.|169.254.|172.16.|192.168." /><br />
Denies relaying for hosts besides these. These hosts also contribute to the whitelist.
  Do not leave this blank -- enter "none" for none.
  For example: 127.0.0.1|10.|169.254.|172.16.|192.168.</td></tr>
<tr><td align="right" class="optionTitle">Relay Host File</td><td class="optionValue"><input name="relayHostFile" size="40" value="" /><br />
Like Accept All Mail, but this is a file that contains a list of ip addresses (one per line)
   for whom you want to relay mail. This is an ABSOLUTE path, not relative to base.
   For example: /usr/local/assp/relayhosts</td></tr>
<tr><td align="right" class="optionTitle">Local Domains*</td><td class="optionValue"><input name="localDomains" size="80" value="putYourDomains.com|here.org" /><br />
Addresses in these domains are considered local delivery. Separate addresses with |.
  Include all subdomains. Don't leave this blank -- if you don't have any local domains
  then use xyzxyz. For example: put.YourDomains.com|here.org</td></tr>
<tr><td align="right" class="optionTitle">Local Domains File</td><td class="optionValue"><input name="localDomainsFile" size="40" value="" /><br />
Like Local Domains, but this is a file that contains a list of host names (one per line)
   for whom you want to accept mail. This is an ABSOLUTE path, not relative to base.
   For example: /usr/local/assp/locals</td></tr>
<tr><td align="right" class="optionTitle">Pop Before SMTP DB File</td><td class="optionValue"><input name="PopB4SMTPFile" size="40" value="" /><br />
If your POP before SMTP implementation uses a DB File database with records stored for valid
  dotted-quad IP addresses, you can just put the filename here. For example: /etc/mail/popip.db<br />
  If it's got something else, you'll need to edit the PopB4SMTP subroutine.</td></tr>
<tr><td align="right" class="optionTitle">Relay Host</td><td class="optionValue"><input name="relayHost" size="40" value="" /><br />
Your isp's mail relayhost (smarthost). For example: mail.isp.com:25<br />
  If you run Exchange or Notes and you want assp to automatically update the nonspam database and
  the whitelist, then use your isp's smtp relay host here. Blank means no relayhost.
  You only need this if your clients don't deliver mail through SMTP.</td></tr>
<tr><td align="right" class="optionTitle">Relay Port</td><td class="optionValue"><input name="relayPort" size="20" value="" /><br />
Tell your mail server to connect to this port (e.g. 127.0.0.1:225 or 127.0.0.2) as its smarthost / relayhost. For example: 225
  Note that you'll want to keep the relayPort protected from external access by your firewall or else
  spammers can use it to send as much spam as they want. You can supply an interface:port to limit connections.</td></tr>
<tr><td align="right" class="optionTitle">No Relaying Error</td><td class="optionValue"><input name="NoRelaying" size="80" value="550 Relaying not allowed" /><br />
SMTP error message to deny relaying.</td></tr>
<tr><td align="right" class="optionTitle">Default Local Host</td><td class="optionValue"><input name="defaultLocalHost" size="40" value="" /><br />
If you want users to be able to send mail to local users without giving a domain name
   then put the default local domain to use here. Blank disables this feature. For example: mydomain.com</td></tr>
<tr><td colspan="2" class="sectionHeader">Virus Control</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="BlockExes" value="1" checked="checked" /> Block Executable Attachments<br />
Most executable attachments are email viruses. Check this box to not allow delivery of mail
  with executable attachments from non-whitelisted or local users.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="BlockAllExes" value="1" checked="checked" /> Block Whitelisted Exe Attachments too<br />
Check the above box AND this box to block attachments even from whitelisted &amp; local senders.</td></tr>
<tr><td align="right" class="optionTitle">List of Blocked File Extensions</td><td class="optionValue"><input name="ExtensionsToBlock" size="60" value="exe|scr|pif|vb[es]|js|jse|ws[fh]|sh[sb]|lnk|bat|cmd|com|ht[ab]" /><br />
This regular expression is used to identify attachments that should be blocked. Separate entries
  with a pipe |. The dot . is assumed to preceed these, so don't include it. For example:
  exe|scr|pif|vb[es]|js|jse|ws[fh]|sh[sb]|lnk|bat|cmd|com|ht[ab]</td></tr>
<tr><td align="right" class="optionTitle">Executable Attachment Error</td><td class="optionValue"><input name="AttachmentError" size="80" value="500 Executable attachments are not allowed -- Compress before mailing." /><br />
SMTP error message to reject executable attachments.</td></tr>
<tr><td align="right" class="optionTitle">Path to Anti-virus Databases</td><td class="optionValue"><input name="AvPath" size="60" value="" /><br />
The directory path to your anti-virus databases, uses ASSP's base if left blank. For example: /usr/share/clamav/db</td></tr>
<tr><td align="right" class="optionTitle">List of Anti-virus Signature Database Files</td><td class="optionValue"><input name="AvDbs" size="60" value="viruses.db,viruses.db2" /><br />
A comma (no space!) seperated list of virus signature files. Blank this out to disable virus scanning.
   For example: viruses.db,viruses.db2 NOTE: Changing this field requires restarting ASSP before changes take effect.</td></tr>
<tr><td align="right" class="optionTitle">Error Message to Reject Infected Email</td><td class="optionValue"><input name="AvError" size="60" value="500 Mail appears infected with '$infection' -- disinfect and resend." /><br />
SMTP error message to reject infected mail. The string $infection is replaced with the name of the detected virus. For example: 500 Mail appears infected with '$infection' -- disinfect and resend.</td></tr>
<tr><td colspan="2" class="sectionHeader">Blocking Spam Bombs</td></tr>
<tr><td align="right" class="optionTitle">Expression to Identify Spam Bombs</td><td class="optionValue"><input name="bombRe" size="60" value="" /><br />
It is possible for a spammer to create 1000s of messages that appear to be from your domain.
  When these messages bounce, the bounces come to you. You can use this feature to block those
  messages. Leave this blank to disable the feature. For example: images/ad12\.gif</td></tr>
<tr><td align="right" class="optionTitle">Spam Bomb Error</td><td class="optionValue"><input name="bombError" size="80" value="500 Your message was rejected because it appears to be part of a spam bomb -- rephrase your message and try sending it again." /><br />
SMTP error message to reject spam bombs.</td></tr>
<tr><td colspan="2" class="sectionHeader">SPAM Control</td></tr>
<tr><td align="right" class="optionTitle">Spam Error</td><td class="optionValue"><input name="SpamError" size="80" value="500 Mail appears to be unsolicited -- send error reports to postmaster@yourdomain.com" /><br />
SMTP error message to reject spam.</td></tr>
<tr><td align="right" class="optionTitle">Spam Addresses*</td><td class="optionValue"><input name="spamaddresses" size="60" value="put|your@spambucket.com|addresses|@here.org" /><br />
Mail to any of these users at are always spam unless from someone on the whitelist; @domain.com makes
  the whole domain a spam domain. A username without domain will register across all local domains.</td></tr>
<tr><td align="right" class="optionTitle">Spam-Lover Addresses*</td><td class="optionValue"><input name="spamLovers" size="60" value="postmaster" /><br />
Spam addressed entirely to spam lovers is not blocked. Mail addressed to both spam lovers
   and non spam lovers IS blocked. You can list specific addresses (user@mydomain.com), addresses
   at any local domain (user), or entire local domains (@mydomain.com). Separate entries with pipes: |.
   For example: jhanna@thisdomain.com|fhanna|@sillyguys.org</td></tr>
<tr><td align="right" class="optionTitle">Unprocessed Addresses*</td><td class="optionValue"><input name="noProcessing" size="40" value="" /><br />
Mail solely to or from any of these addresses are ignored by ASSP, like
  a more effecient version of spamLovers &amp; redlist combined.
  Separate addresses with pipes: | For example: postmaster@here.com|julie_vipul@razor.org</td></tr>
<tr><td align="right" class="optionTitle">Blacklisted Domains*</td><td class="optionValue"><input name="blackListedDomains" size="60" value="" /><br />
Domains from which you always want to reject mail -- they only send you spam. For example: email-deliveries.net|xxxpics.com</td></tr>
<tr><td align="right" class="optionTitle">Expression to Identify Non-Spam</td><td class="optionValue"><input name="whiteRe" size="60" value="" /><br />
If an incoming email matches this Perl regular expression it will be considered non-spam. For example:
  Secret Ham Password|307\D{0,3}730\D{0,3}4[12]\d\d<br />For help writing regular expressions click
  <a href="http://www.perlmonks.org/index.pl?node=perlre" target=_blank>here</a>. Note that flags are "si" and
  the header as well as body is scanned. Some things you might include here are your office phone
  number or street address -- spam rarely includes these details.</td></tr>
<tr><td align="right" class="optionTitle">Expression to Identify Spam</td><td class="optionValue"><input name="blackRe" size="60" value="http://[\w\.]+@|\w<[a-z0-9]+[abcdfghjklmnpqrstuvwxyz0-9]{4}[a-z0-9]*>|subject: [^\n]*     \S" /><br />
If an incoming email that's not local or whitelisted matches this Perl regular expression
  it will be considered spam. May match text from the body or header of the email.
  For example: penis|virgin|X-Priority: 1</td></tr>
<tr><td align="right" class="optionTitle">Expression to Identify Redlisted Mail</td><td class="optionValue"><input name="redRe" size="60" value="" /><br />
If an email header matches this Perl regular expression it will be considered redlisted.
  For example: \[autoreply\]</td></tr>
<tr><td align="right" class="optionTitle">Expression to Identify No-processing Mail</td><td class="optionValue"><input name="npRe" size="60" value="" /><br />
If an email header matches this Perl regular expression it will pass through unprocessed.
  For example: \[autoreply\]</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="noGreyListUpload" value="1"  /> Don't Upload Greylist Stats<br />
Check this to disable the greylist upload when rebuildspamdb runs.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="AddSpamProbHeadder" value="1" checked="checked" /> Add Spam Probability Header?<br />
Adds a line to the email header "X-Assp-Spam-Prob: 0.0123" Probs range from 0 to +1 where > 0.6 = spam.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="NoExternalSpamProb" value="1" checked="checked" /> Block Outgoing Spam-Prob header?<br />
Check this box if you don't want your X-Assp-Spam-Prob header on external mail -- Note this
   means mail from local users to local users will also be missing the header.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="AddSpamHeadder" value="1" checked="checked" /> Add Spam Header?<br />
Adds a line to the email header "X-Assp-Spam: YES" if the message is spam.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="UseSubjectsAsMaillogNames" value="1" checked="checked" /> Use Subject as Maillog Names<br />
You can turn this on to help you manually identify mail in your spam and non-spam collections.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="TestMode" value="1" checked="checked" /> Test Mode<br />
If TestMode is true all Bayesian-spam is delivered.</td></tr>
<tr><td align="right" class="optionTitle">Prepend Spam Subject</td><td class="optionValue"><input name="spamSubject" size="10" value="" /><br />
If TestMode and message is spam spamSubject gets prepended to the subject of the email. For example; [SPAM]</td></tr>
<tr><td align="right" class="optionTitle">Address to CC All Spam</td><td class="optionValue"><input name="sendAllSpam" size="20" value="" /><br />
If you put an email address in this box ASSP will try to deliver a copy of all spam email to this
   address. Don't forget to purge the account from time to time. This is the forward all spam feature.
   For example: spammeister@mydomain.com</td></tr>
<tr><td colspan="2" class="sectionHeader">Whitelist Options</td></tr>
<tr><td align="right" class="optionTitle">Whitelisted Domains*</td><td class="optionValue"><input name="whiteListedDomains" size="60" value="sourceforge.net" /><br />
Domains from which you want to receive all mail -- your ISP, domain registeration, mail list servers, stock broker, or other key business partners might be good candidates.
  Note this matches the end of the address, so if you don't want to match subdomains then
  include the @. Note that buy.com would also match spambuy.com but .buy.com won't match buy.com.
  DO NOT put your local domains on this list. Do not put microsoft.com on this list.
  For example: sourceforge.net|@google.com|.buy.com</td></tr>
<tr><td align="right" class="optionTitle">Max Whitelist Days</td><td class="optionValue"><input name="MaxWhitelistDays" size="5" value="90" /><br />
This is the number of days an address will be kept on the whitelist without receiving email.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="WhitelistOnly" value="1"  /> Reject All But Whitelisted Mail<br />
Check this if you don't want Bayesian filtering and want to reject all mail from
   anyone not whitelisted. Note: this turns the redlist into a blacklist.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="NoMaillog" value="1"  /> Don't log mail<br />
Check this if you're using Whitelist-Only and don't care to save mail to build
   the Bayesian database.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="NoGoodhosts" value="1" checked="checked" /> Disable Good Hosts Antispam<br />
Check this to disable the Good-Hosts antispam feature. Do this if you're running WhitelistOnly
   and have no plans to use the Bayesian database. The greylist superseeds this function.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="NotGreedyWhitelist" value="1"  /> Only the envelope-sender is added/compared to the whitelist<br />
Normal operation includes addresses in the FROM, SENDER, REPLY-TO, ERRORS-TO, or LIST-* header
  fields. This allows nearly all list email to be whitelisted. Check this option to disable this.
  (Not recommended.)</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="WhitelistLocalOnly" value="1"  /> Only local or authenticated users contribute to the whitelist.<br />
Normal operation allows all local, authenticated, or whitelisted users to add to the whitelist.
  Check this box to not allow whitelisted users to add to the whitelist.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="KeepWhitelistedSpam" value="1"  /> Keep Whitelisted Spam<br />
Check this box if you don't want rebuildspamdb to remove entries from the spam collection
   after they have been subsequently whitelisted. Checking this box will speed up your rebuild.</td></tr>
<tr><td colspan="2" class="sectionHeader">Email Interface</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="EmailInterfaceOk" value="1" checked="checked" /> Enable Email Interface<br />
Checked means that you want to ASSP to intercept and parse mail to the following usernames
   at any of your localdomains. If you are using RelayHost and RelayPort see
   <a href="http://assp.sourceforge.net/fom/cache/45.html" target=_blank>this note</a>.</td></tr>
<tr><td align="right" class="optionTitle">Report Spam Address</td><td class="optionValue"><input name="EmailSpam" size="20" value="assp-spam" /><br />
Any mail sent by local or authenticated users to this username will be interpreted as a
   spam report. No mail is delivered! For example: assp-spam</td></tr>
<tr><td align="right" class="optionTitle">Report not-Spam Address</td><td class="optionValue"><input name="EmailHam" size="20" value="assp-notspam" /><br />
Any mail sent by local or authenticated users to this username will be interpreted as a
   false-positive (not-spam) report. No mail is delivered! For example: assp-notspam</td></tr>
<tr><td align="right" class="optionTitle">Add to Whitelist Address</td><td class="optionValue"><input name="EmailWhitelist" size="20" value="assp-white" /><br />
Any mail sent by local or authenticated users to this username will be interpreted as a request
   to add addresses to the whitelist. No mail is delivered! For example: assp-white</td></tr>
<tr><td align="right" class="optionTitle">From Address for Email</td><td class="optionValue"><input name="EmailFrom" size="20" value="ASSP <>" /><br />
Email sent from ASSP acknowledging your submissions will be sent from this address. Some
   mailers don't like the default setting. For example: ASSP &lt;&gt; or Mail Administrator
   &lt;mailadmin@mydomain.com&gt;</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="NoHaiku" value="1"  /> Don't send spam and not-spam report emails<br />
Check this option to suppress email reports for spam and not-spam reports.</td></tr>
<tr><td colspan="2" class="sectionHeader">File Paths</td></tr>
<tr><td align="right" class="optionTitle">Directory Base</td><td class="optionValue"><input name="base" size="40" value="." /><br />
All paths are relative to this folder. <b>Note: this must be changed as a command line parameter and is displayed here for reference only.</b></td></tr>
<tr><td align="right" class="optionTitle">Spam Collection</td><td class="optionValue"><input name="spamlog" size="40" value="spam" /><br />
The folder to save the collection of spam emails. For example: spam</td></tr>
<tr><td align="right" class="optionTitle">Not-spam Collection</td><td class="optionValue"><input name="notspamlog" size="40" value="notspam" /><br />
The folder to save the collection of not-spam emails. For example: notspam</td></tr>
<tr><td align="right" class="optionTitle">External mail that wasn't spam (mostly)</td><td class="optionValue"><input name="incomingOkMail" size="40" value="" /><br />
The folder to save Bayesian non-spam and viri. Leave this blank to not save
   these files (default). Most mail admins don't want these files, but if you want to
   keep copies of all incoming mail then put in a directory name. Note: you must create
   the directory. For example: other</td></tr>
<tr><td align="right" class="optionTitle">False-negative Collection</td><td class="optionValue"><input name="correctedspam" size="40" value="errors/spam" /><br />
Spam that got through -- counts double. For example: errors/spam</td></tr>
<tr><td align="right" class="optionTitle">False-positive Collection</td><td class="optionValue"><input name="correctednotspam" size="40" value="errors/notspam" /><br />
Good mail that was listed as spam, count 4x. For example: errors/notspam</td></tr>
<tr><td align="right" class="optionTitle">Extension for Mail Files</td><td class="optionValue"><input name="maillogExt" size="10" value=".eml" /><br />
Enter the file extension (include the period) you want appended to the mail files in the
  mail collections. Leave it blank for no extension. For Example: .eml</td></tr>
<tr><td align="right" class="optionTitle">Spam Bayesian Database File</td><td class="optionValue"><input name="spamdb" size="40" value="spamdb" /><br />
The output file from rebuildspamdb.pl.</td></tr>
<tr><td align="right" class="optionTitle">Email Whitelist Database File</td><td class="optionValue"><input name="whitelistdb" size="40" value="whitelist" /><br />
The file with the whitelist.</td></tr>
<tr><td align="right" class="optionTitle">Email Redlist Database File</td><td class="optionValue"><input name="redlistdb" size="40" value="redlist" /><br />
The file with the redlist.</td></tr>
<tr><td align="right" class="optionTitle">DNS Blacklist Database File</td><td class="optionValue"><input name="dnsbl" size="40" value="" /><br />
The file with the current DNSBL -- make this blank if you don't use it.</td></tr>
<tr><td align="right" class="optionTitle">Greylist Database</td><td class="optionValue"><input name="greylist" size="40" value="greylist" /><br />
The file with the current greylist database -- make this blank if you don't use it.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="nogreydownload" value="1"  /> Don't auto-download the greylist file<br />
Set this checkbox if don't use the greylist or want to download it manually.</td></tr>
<tr><td align="right" class="optionTitle">ASSP Logfile</td><td class="optionValue"><input name="logfile" size="40" value="maillog.txt" /><br />
Blank if you don't want a log file. Change it to maillog.log if you don't want
  auto rollover.</td></tr>
<tr><td align="right" class="optionTitle">Roll the Logfile How Often?</td><td class="optionValue"><input name="LogRollDays" size="5" value="14" /><br />
ASSP closes and renames the log file after this number of days. Decimals are ok. For example: 14 or 0.5</td></tr>
<tr><td align="right" class="optionTitle">PID File</td><td class="optionValue"><input name="pidfile" size="40" value="pid" /><br />
Blank to skip writing a pid file. *nix users need pid files. Leave it blank in Windows.
   You have to restart the service before you get a pid file in the new location.</td></tr>
<tr><td colspan="2" class="sectionHeader">Logging</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="silent" value="1"  /> Silent Mode<br />
Checked means don't print log messages to the console. AsADaemon overrides this.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="DEBUG" value="1"  /> Debug Mode<br />
Checked means you want debugging to go to a .dbg file. Leave this unchecked unless there is a program error you are trying to track down.</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="sendNoopInfo" value="1"  /> Send NOOP Info<br />
Checked means you want ASSP to send a "NOOP Connection from $ip" message to your SMTP server. (Postfix croaks on this.)</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="totalizeSpamStats" value="1" checked="checked" /> Upload Consolidated Spam Statistics<br />
Checked means your ASSP will upload its totalled statistics to the <a href="http://assp.sourceforge.net/cgi-bin/total.pl" target=_blank>ASSP web site totals</a>.
  This is a great marketing tool for the ASSP project; please don't disable it unless you've got
  a good reason to. No private information is being disclosed by this upload.</td></tr>
<tr><td colspan="2" class="sectionHeader">Security</td></tr>
<tr><td align="right" class="optionTitle">Run as UID</td><td class="optionValue"><input name="runAsUser" size="20" value="" /><br />
The *nix user name to assume after startup: assp or nobody -- requires ASSP restart.</td></tr>
<tr><td align="right" class="optionTitle">Run as GID</td><td class="optionValue"><input name="runAsGroup" size="20" value="" /><br />
The *nix group to assume after startup: assp or nogroup -- requires ASSP restart.</td></tr>
<tr><td align="right" class="optionTitle">Change Root</td><td class="optionValue"><input name="ChangeRoot" size="60" value="" /><br />
Non-blank means to run in chroot jail in *nix. You need an etc/protocols file to make this work -- copy or link the file to your new root directory.  -- requires ASSP restart.</td></tr>
<tr><td colspan="2" class="sectionHeader">Other Settings</td></tr>
<tr><td align="right" class="optionTitle">Max Files</td><td class="optionValue"><input name="MaxFiles" size="10" value="14009" /><br />
If you're not using subjects as file names, MaxFiles is the maximum
  number of files to keep in each collection (spam and nonspam) -- it's actually
  less than this -- files get a random number between 1 and $MaxFiles.</td></tr>
<tr><td align="right" class="optionTitle">Max Bytes</td><td class="optionValue"><input name="MaxBytes" size="10" value="20000" /><br />
How many bytes of the message will ASSP look at? For example: 20000</td></tr>
<tr><td class="optionTitle">&nbsp;</td><td class="optionValue"><input type="checkbox" name="RamSaver" value="1"  /> Use less RAM to rebuild the spamdb<br />
Checking this slows down your rebuildspamdb process, but will do so with less ram.</td></tr>
<tr><td align="right" class="optionTitle">Size of TCP/IP Buffer</td><td class="optionValue"><input name="OutgoingBufSize" size="20" value="102400" /><br />
If ASSP talks to the internet over a modem change this to 4096, 102400 is the default.
  For example: 102400</td></tr>
<tr><td align="right" class="optionTitle">Ordered-Tie hash table size</td><td class="optionValue"><input name="OrderedTieHashSize" size="10" value="5000" /><br />
Tunable value of the size of the hash tables used by both ASSP and rebuildspamdb.pl
  (default = 5000). Larger numbers mean more RAM, fewer disk hits. Adjust down to use less RAM.</td></tr>
<tr><td align="right" class="optionTitle">Max Errors</td><td class="optionValue"><input name="MaxErrors" size="10" value="10" /><br />
If the smtp destination sends $MaxErrors 501s, 502s, 503s... the connection is dropped.</td></tr>
<tr><td align="right" class="optionTitle">Restart Every</td><td class="optionValue"><input name="RestartEvery" size="10" value="0" /><br />
Program terminates after this many seconds -- this is really only useful if ASSP runs in a script that restarts it after
   it stops. Note: the current timeout must expire before the new setting is loaded.</td></tr>
<tr><td align="right" class="optionTitle">Save Whitelist</td><td class="optionValue"><input name="UpdateWhitelist" size="10" value="3600" /><br />
Save a copy of the white list every this many seconds. Note: the current timeout must expire
   before the new setting is loaded, or you can restart.</td></tr>

<tr><td >&nbsp;</td><td align="center"></td></tr>
</table></form>

<br>
<i>2004-Jun-09  2:59pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=10&cmd=editPart&file=93&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2004-Jun-09  2:59pm</i>
</td></tr>

<!--Item: What is ASSP's license?  file: 94--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_94"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>What is ASSP's license? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>GNU GENERAL PUBLIC LICENSE Version 2, June 1991 Copyright (C) 1989, 1991 Free Software Foundation, Inc. 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA
<p>
Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed. 
<p>
Preamble 
<p>
The licenses for most software are designed to take away your freedom to share and change it. By contrast, the GNU General Public License is intended to guarantee your freedom to share and change free software--to make sure the software is free for all its users. This General Public License applies to most of the Free Software Foundation's software and to any other program whose authors commit to using it. (Some other Free Software Foundation software is covered by the GNU Library General Public License instead.) You can apply it to your programs, too. 
<p>
When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for this service if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs; and that you know you can do these things. 
<p>
To protect your rights, we need to make restrictions that forbid anyone to deny you these rights or to ask you to surrender the rights. These restrictions translate to certain responsibilities for you if you distribute copies of the software, or if you modify it. 
<p>
For example, if you distribute copies of such a program, whether gratis or for a fee, you must give the recipients all the rights that you have. You must make sure that they, too, receive or can get the source code. And you must show them these terms so they know their rights. 
<p>
We protect your rights with two steps: (1) copyright the software, and (2) offer you this license which gives you legal permission to copy, distribute and/or modify the software. 
<p>
Also, for each author's protection and ours, we want to make certain that everyone understands that there is no warranty for this free software. If the software is modified by someone else and passed on, we want its recipients to know that what they have is not the original, so that any problems introduced by others will not reflect on the original authors' reputations. 
<p>
Finally, any free program is threatened constantly by software patents. We wish to avoid the danger that redistributors of a free program will individually obtain patent licenses, in effect making the program proprietary. To prevent this, we have made it clear that any patent must be licensed for everyone's free use or not licensed at all. 
<p>
The precise terms and conditions for copying, distribution and modification follow. 
<p>
TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION 
<p>
0. This License applies to any program or other work which contains a notice placed by the copyright holder saying it may be distributed under the terms of this General Public License. The &quot;Program&quot;, below, refers to any such program or work, and a &quot;work based on the Program&quot; means either the Program or any derivative work under copyright law: that is to say, a work containing the Program or a portion of it, either verbatim or with modifications and/or translated into another language. (Hereinafter, translation is included without limitation in the term &quot;modification&quot;.) Each licensee is addressed as &quot;you&quot;. 
<p>
Activities other than copying, distribution and modification are not covered by this License; they are outside its scope. The act of running the Program is not restricted, and the output from the Program is covered only if its contents constitute a work based on the Program (independent of having been made by running the Program). Whether that is true depends on what the Program does. 
<p>
1. You may copy and distribute verbatim copies of the Program's source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice and disclaimer of warranty; keep intact all the notices that refer to this License and to the absence of any warranty; and give any other recipients of the Program a copy of this License along with the Program. 
<p>
You may charge a fee for the physical act of transferring a copy, and you may at your option offer warranty protection in exchange for a fee. 
<p>
2. You may modify your copy or copies of the Program or any portion of it, thus forming a work based on the Program, and copy and distribute such modifications or work under the terms of Section 1 above, provided that you also meet all of these conditions: 
<p>
• a) You must cause the modified files to carry prominent notices stating that you changed the files and the date of any change. 
<p>
• b) You must cause any work that you distribute or publish, that in whole or in part contains or is derived from the Program or any part thereof, to be licensed as a whole at no charge to all third parties under the terms of this License. 
<p>
• c) If the modified program normally reads commands interactively when run, you must cause it, when started running for such interactive use in the most ordinary way, to print or display an announcement including an appropriate copyright notice and a notice that there is no warranty (or else, saying that you provide a warranty) and that users may redistribute the program under these conditions, and telling the user how to view a copy of this License. (Exception: if the Program itself is interactive but does not normally print such an announcement, your work based on the Program is not required to print an announcement.) 
<p>
These requirements apply to the modified work as a whole. If identifiable sections of that work are not derived from the Program, and can be reasonably considered independent and separate works in themselves, then this License, and its terms, do not apply to those sections when you distribute them as separate works. But when you distribute the same sections as part of a whole which is a work based on the Program, the distribution of the whole must be on the terms of this License, whose permissions for other licensees extend to the entire whole, and thus to each and every part regardless of who wrote it. 
<p>
Thus, it is not the intent of this section to claim rights or contest your rights to work written entirely by you; rather, the intent is to exercise the right to control the distribution of derivative or collective works based on the Program. 
<p>
In addition, mere aggregation of another work not based on the Program with the Program (or with a work based on the Program) on a volume of a storage or distribution medium does not bring the other work under the scope of this License. 
<p>
3. You may copy and distribute the Program (or a work based on it, under Section 2) in object code or executable form under the terms of Sections 1 and 2 above provided that you also do one of the following: 
<p>
• a) Accompany it with the complete corresponding machine-readable source code, which must be distributed under the terms of Sections 1 and 2 above on a medium customarily used for software interchange; or, 
<p>
• b) Accompany it with a written offer, valid for at least three years, to give any third party, for a charge no more than your cost of physically performing source distribution, a complete machine-readable copy of the corresponding source code, to be distributed under the terms of Sections 1 and 2 above on a medium customarily used for software interchange; or, 
<p>
• c) Accompany it with the information you received as to the offer to distribute corresponding source code. (This alternative is allowed only for noncommercial distribution and only if you received the program in object code or executable form with such an offer, in accord with Subsection b above.) 
<p>
The source code for a work means the preferred form of the work for making modifications to it. For an executable work, complete source code means all the source code for all modules it contains, plus any associated interface definition files, plus the scripts used to control compilation and installation of the executable. However, as a special exception, the source code distributed need not include anything that is normally distributed (in either source or binary form) with the major components (compiler, kernel, and so on) of the operating system on which the executable runs, unless that component itself accompanies the executable. 
<p>
If distribution of executable or object code is made by offering access to copy from a designated place, then offering equivalent access to copy the source code from the same place counts as distribution of the source code, even though third parties are not compelled to copy the source along with the object code. 
<p>
4. You may not copy, modify, sublicense, or distribute the Program except as expressly provided under this License. Any attempt otherwise to copy, modify, sublicense or distribute the Program is void, and will automatically terminate your rights under this License. However, parties who have received copies, or rights, from you under this License will not have their licenses terminated so long as such parties remain in full compliance. 
<p>
5. You are not required to accept this License, since you have not signed it. However, nothing else grants you permission to modify or distribute the Program or its derivative works. These actions are prohibited by law if you do not accept this License. Therefore, by modifying or distributing the Program (or any work based on the Program), you indicate your acceptance of this License to do so, and all its terms and conditions for copying, distributing or modifying the Program or works based on it. 
<p>
6. Each time you redistribute the Program (or any work based on the Program), the recipient automatically receives a license from the original licensor to copy, distribute or modify the Program subject to these terms and conditions. You may not impose any further restrictions on the recipients' exercise of the rights granted herein. You are not responsible for enforcing compliance by third parties to this License. 
<p>
7. If, as a consequence of a court judgment or allegation of patent infringement or for any other reason (not limited to patent issues), conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot distribute so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not distribute the Program at all. For example, if a patent license would not permit royalty-free redistribution of the Program by all those who receive copies directly or indirectly through you, then the only way you could satisfy both it and this License would be to refrain entirely from distribution of the Program. 
<p>
If any portion of this section is held invalid or unenforceable under any particular circumstance, the balance of the section is intended to apply and the section as a whole is intended to apply in other circumstances. 
<p>
It is not the purpose of this section to induce you to infringe any patents or other property right claims or to contest validity of any such claims; this section has the sole purpose of protecting the integrity of the free software distribution system, which is implemented by public license practices. Many people have made generous contributions to the wide range of software distributed through that system in reliance on consistent application of that system; it is up to the author/donor to decide if he or she is willing to distribute software through any other system and a licensee cannot impose that choice. 
<p>
This section is intended to make thoroughly clear what is believed to be a consequence of the rest of this License. 
<p>
8. If the distribution and/or use of the Program is restricted in certain countries either by patents or by copyrighted interfaces, the original copyright holder who places the Program under this License may add an explicit geographical distribution limitation excluding those countries, so that distribution is permitted only in or among countries not thus excluded. In such case, this License incorporates the limitation as if written in the body of this License. 
<p>
9. The Free Software Foundation may publish revised and/or new versions of the General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns. 
<p>
Each version is given a distinguishing version number. If the Program specifies a version number of this License which applies to it and &quot;any later version&quot;, you have the option of following the terms and conditions either of that version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of this License, you may choose any version ever published by the Free Software Foundation. 
<p>
10. If you wish to incorporate parts of the Program into other free programs whose distribution conditions are different, write to the author to ask for permission. For software which is copyrighted by the Free Software Foundation, write to the Free Software Foundation; we sometimes make exceptions for this. Our decision will be guided by the two goals of preserving the free status of all derivatives of our free software and of promoting the sharing and reuse of software generally. 
<p>
NO WARRANTY 
<p>
11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION. 
<p>
12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. 
<br><i>2003-Sep-04  2:39pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=94&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:39pm</i>
</td></tr>

<!--Item: What is different about how ASSP handles false positives (i.e. good mail that was blocked) and other content scanners?  file: 95--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_95"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>What is different about how ASSP handles false positives (i.e. good mail that was blocked) and other content scanners? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>If you are presenting ASSP to clients / management then you NEED to explain this to your management. With most client-based filters (POPFile, SpamBayes, SpamAssassin) senders receive NO NOTIFICATION if their mail isn't delivered. With most of these solutions, the user bears full responsibility to VERIFY that no good mail is blocked. 
<p>
However, this is NOT TRUE with ASSP. 
<p>
ASSP is the ONLY solution I am aware of (I haven't made an exhaustive search) that when spam is blocked the SENDER RECEIVES NOTIFICATION, and it does this without generating non-delivery reports that bounce and bounce again because spammers forge their from address. 
<p>
Imagine three scenerios: 
<p>
1) No filter. A client sends an order by email. Your orders' desk gets roughly 10 spam for every order. Their job satisfaction is low because they spend almost as much time deleting (possibly offensive and sexually explicit) spam as they do filling orders. 
<p>
2) Client-based filter: A client sends an order by email. Their message is accidently flagged as spam. It is either (a) automatically moved to a &quot;spam&quot; folder, or (b) manually moved there because the clerk always does that with messages marked spam. The customer thinks their email got through, but how long will it sit there before either (a) they call and complain and the clerk finds it mislabeled as spam or (b) the clerk gets around to looking at all that spam and notices the 1 in 100 that was miscategorized. 
<p>
3) ASSP: A client sends an order by email. Their message is accidently flagged as spam. They IMMEDIATELY receive notification from their email server that the message was not accepted. They either call or email again, saying &quot;How come my message wasn't accepted?&quot; The clerk replies back, saying, &quot;Send it again, it will get through now.&quot; And it does because they are now on your whitelist. 
<p>
But let's think about this more seriously. First it is unlikely (not impossible, but unusual) that you receive critical business correspondance from someone you HAVE NEVER EMAILED before. I don't have a percentage, but I know that business doesn't work that way. Business is built on relationship, and relationship doesn't come out of the blue. Secondly, what foolish mail admin set up ASSP without putting a number of orders or &quot;critical business correspondance&quot; in the notspam or errors/notspam folder? Come-on, folks, this is where we start (if you take a minute to even look at the documentation, and if not, then you get what you deserve). If ASSP is going to give false positives, they're NOT going to be on your &quot;critical business correspondance&quot; -- orders, RFQs, and the like. What gets blocked is Thelma's ebay notification (which is kinda spammy anyway, now that you mention it, it's just that she wants it), or Ralph's porn of the day that he probably shouldn't be getting at the office anyway, but since he's the VP's kid, nobody has stopped him. 
<p>
Furthermore, you have the opportunity to use &quot;expressions to identify non-spam&quot; to make 100% sure that mail that follows certain patters (like an order would) gets through. 
<p>
I agree that false postivies are a big deal. But I want to emphasize that ASSP has been designed from the very beginning to handle false positives better than any other solution I have ever seen. 
<p>
You have to filter. Spam is only going to get worse. If you filter, you will have false-positives -- it's inevitable. What solution has the best means to deal with false positives and still does a reasonably good job filtering? That's the solution to use. 
<br><i>2003-Sep-04  2:40pm jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=2&cmd=editPart&file=95&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Sep-04  2:40pm</i>
</td></tr>

<!--Item: How can I financially support ASSP?  file: 96--><tr>
<td bgcolor=#0e386b valign=top align=center rowspan=4 width=23>
<img src="http://assp.sourceforge.net/fom/bags/ans.gif" alt=(Answer)  width=23 height=28>
</td>
<!--wide--><td colspan=1 ><a name="file_96"> </a>
<a href="#file_1"><img src="http://assp.sourceforge.net/fom/bags/cat-small.gif" alt="(Category) " border=0 width=18 height=14>ASSP Documentation</a> :
<br><font size="+1"><b>How can I financially support ASSP? </b></font></a></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 bgcolor=#ededed>ASSP is free software. I wrote it originally to block spam at our office. But it ocurred to me that the best way to stop spam's growth is to limit its effectiveness. The best way to stop spam's rampant growth is to provide effective, easy-to-use filtering tools. One of the best ways you can support this project is to help more people adopt it, so that more spam is blocked. 
<p>
Nevertheless a number of people have written me to ask how they can financially support ASSP. I work for a non-profit religious organization, and gifts to my support account are tax deductable. If you want a US tax receipt for your gift and want to give by credit card, click here: <a href="http://www.guidestar.org/controller/search.gs?action_searchFin=1&amp;partner=networkforgood&amp;keywords=caleb+project&amp;zip=80120">http://www.guidestar.org/controller/search.gs?action_searchFin=1&amp;partner=networkforgood&amp;keywords=caleb+project&amp;zip=80120</a> then click &quot;Caleb Project&quot; click &quot;Donate Now&quot;, put &quot;009096 (Hanna)&quot;  in the designation box, and put &quot;ASSP&quot; in the dedication box. Or write a check to Caleb Project and mail it to <br>
<pre> Hanna 009096
 Caleb Project
 10 West Dry Creek Circle
 Littleton, CO 80120</pre>
<p>
If you don't care for a tax receipt you can write the check for John Hanna at the above address. Make a note somewhere that it is because of ASSP. Or by credit card you can use PayPal here: <a href="https://www.paypal.com/xclick/business=jhanna%40cproject.com&amp;item_name=Support+ASSP&amp;item_number=assp&amp;no_note=1&amp;tax=0&amp;currency_code=USD">https://www.paypal.com/xclick/business=jhanna%40cproject.com&amp;item_name=Support+ASSP&amp;item_number=assp&amp;no_note=1&amp;tax=0&amp;currency_code=USD</a> 
<p>
If you need an invoice to get a check request -- go here: <a href="http://assp.sourceforge.net/cgi-bin/invoice.pl">http://assp.sourceforge.net/cgi-bin/invoice.pl</a>
<p>
Thanks for your support!<br>
<br><i>2003-Nov-03 11:02am jhanna</i></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><font size="-1">[<a href="http://assp.sourceforge.net/cgi-bin/fom?_insertpart=1&checkSequenceNumber=4&cmd=editPart&file=96&partnum=9999afterLast">Append to This Answer</a>]</font></td></tr>

<tr><!-- next Part --><!--wide--><td colspan=1 ><i>2003-Nov-03 11:02am</i>
</td></tr>

</table>

<table><!-- Sibling links -->
</table>
This document is: <a href="http://assp.sourceforge.net/cgi-bin/fom?file=1">http://assp.sourceforge.net/cgi-bin/fom?file=1</a><br>

<!--footer box at bottom of page with common links -->
<table width="100%" bgcolor="#ededed">
<tr><td><table width="100%">
<tr>
<td></td>
<td>[<a href="http://assp.sourceforge.net/cgi-bin/fom?cmd=searchForm&file=1">Search</a>]</td>
<td>[<a href="http://assp.sourceforge.net/cgi-bin/fom?cmd=appearanceForm&file=1">Appearance</a>]</td>
<td>[<a href="http://assp.sourceforge.net/fom/cache/1.html">Show Top Category Only<!-- not --></a>]</td>
<td>[<a href="http://assp.sourceforge.net/cgi-bin/fom?editCmds=compact&file=1">Show Expert Edit Commands</a>]</td>
</tr>
<tr><td colspan=5 align=center>
This is a <a href="http://faqomatic.sourceforge.net/">Faq-O-Matic</a> 2.719.
</td></tr></table>
</td></tr></table>
<div style="float: right; clear: right; padding: 5px;">    <a href="http://sourceforge.net" target=_blank>        <img  src=http://sourceforge.net/sflogo.php?group_id=69172&amp;type=1 border=0 alt="SourceForge Logo" hspace=2>    </a>    </div><div style="border-style: solid; border-width: 2px; border-color: #de7813; padding: 10px; font-size: .7em; background-color: #ededed;">    <div style="float: center;">        Support this project:         <a style="color: #913104;" href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=jhanna@cproject.com&item_name=Support%20ASSP&item_number=assp&no_note=1&currency_code=USD&tax=0">          Donate!        </a>            |        <a style="color: #913104;" href=mailto:jhanna@cproject.com>Suggest an improvement for this documentation.</a>         |        Copyright © 2003, John Hanna    </div></div>
</body></html>
